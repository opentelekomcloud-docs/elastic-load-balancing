+-------+------+------------------------------------+--------+-------+
|       |      |                                    |        |       |
+-------+------+------------------------------------+--------+-------+
|       |      |                                    |        |       |
+-------+------+------------------------------------+--------+-------+
| |im   |      |                                    |        |       |
| age1| |      |                                    |        |       |
+-------+------+------------------------------------+--------+-------+
|       |      | **Elastic Load Balancing**         |        |       |
|       |      |                                    |        |       |
|       |      | **API Reference**                  |        |       |
+-------+------+------------------------------------+--------+-------+
|       |      |                                    |        |       |
+-------+------+------------------------------------+--------+-------+
|       |      | **Date**                           |        | **20  |
|       |      |                                    |        | 21-07 |
|       |      |                                    |        | -05** |
+-------+------+------------------------------------+--------+-------+
|       |      |                                    |        |       |
+-------+------+------------------------------------+--------+-------+

Contents
========

`1 API Usage Guidelines 7 <#api-usage-guidelines>`__

`2 Classic Load Balancer APIs 8 <#classic-load-balancer-apis>`__

`2.1 API Call Precaution 8 <#api-call-precaution>`__

`2.2 Load Balancer 8 <#load-balancer>`__

`2.2.1 Creating a Load Balancer 8 <#creating-a-load-balancer>`__

`2.2.2 Deleting a Load Balancer 12 <#deleting-a-load-balancer>`__

`2.2.3 Deleting a Public Network Load Balancer
14 <#deleting-a-public-network-load-balancer>`__

`2.2.4 Modifying a Load Balancer 15 <#modifying-a-load-balancer>`__

`2.2.5 Querying Details of a Load Balancer
18 <#querying-details-of-a-load-balancer>`__

`2.2.6 Querying Load Balancers 20 <#querying-load-balancers>`__

`2.3 Listener 22 <#listener>`__

`2.3.1 Adding a Listener 22 <#adding-a-listener>`__

`2.3.2 Deleting a Listener 30 <#deleting-a-listener>`__

`2.3.3 Modifying a Listener 31 <#modifying-a-listener>`__

`2.3.4 Querying Details of a Listener
36 <#querying-details-of-a-listener>`__

`2.3.5 Querying Listeners 39 <#querying-listeners>`__

`2.4 Health Check 43 <#health-check>`__

`2.4.1 Configuring a Health Check 43 <#configuring-a-health-check>`__

`2.4.2 Deleting a Health Check 46 <#deleting-a-health-check>`__

`2.4.3 Modifying a Health Check 47 <#modifying-a-health-check>`__

`2.4.4 Querying Details of a Health Check
50 <#querying-details-of-a-health-check>`__

`2.5 Backend ECS 52 <#backend-ecs>`__

`2.5.1 Adding Backend ECSs 52 <#adding-backend-ecss>`__

`2.5.2 Removing Backend ECSs 54 <#removing-backend-ecss>`__

`2.5.3 Querying Backend ECSs 56 <#querying-backend-ecss>`__

`2.6 Quota 58 <#quota>`__

`2.6.1 Querying Load Balancer or Listener Quotas
58 <#querying-load-balancer-or-listener-quotas>`__

`2.7 Certificate 60 <#certificate>`__

`2.7.1 Creating a Certificate 60 <#creating-a-certificate>`__

`2.7.2 Deleting a Certificate 64 <#deleting-a-certificate>`__

`2.7.3 Modifying a Certificate 65 <#modifying-a-certificate>`__

`2.7.4 Querying Certificates 68 <#querying-certificates>`__

`2.8 Querying the Job Status 70 <#querying-the-job-status>`__

`2.9 Querying Monitoring Metrics 73 <#querying-monitoring-metrics>`__

`2.10 API Version 75 <#api-version>`__

`2.10.1 Querying All API Versions 75 <#querying-all-api-versions>`__

`2.10.2 Querying a Specific API Version
77 <#querying-a-specific-api-version>`__

`3 Shared Load Balancer APIs 80 <#shared-load-balancer-apis>`__

`3.1 API Call Precaution 80 <#api-call-precaution-1>`__

`3.2 Load Balancer 80 <#load-balancer-1>`__

`3.2.1 Creating a Load Balancer 80 <#creating-a-load-balancer-1>`__

`3.2.2 Querying Load Balancers 88 <#querying-load-balancers-1>`__

`3.2.3 Querying Details of a Load Balancer
95 <#querying-details-of-a-load-balancer-1>`__

`3.2.4 Querying the Status Tree of a Load Balancer
97 <#querying-the-status-tree-of-a-load-balancer>`__

`3.2.5 Updating a Load Balancer 103 <#updating-a-load-balancer>`__

`3.2.6 Deleting a Load Balancer 107 <#deleting-a-load-balancer-1>`__

`3.3 Listener 108 <#listener-1>`__

`3.3.1 Adding a Listener 108 <#adding-a-listener-1>`__

`3.3.2 Querying Listeners 117 <#querying-listeners-1>`__

`3.3.3 Querying Details of a Listener
126 <#querying-details-of-a-listener-1>`__

`3.3.4 Updating a Listener 129 <#updating-a-listener>`__

`3.3.5 Deleting a Listener 135 <#deleting-a-listener-1>`__

`3.4 Backend Server Group 136 <#backend-server-group>`__

`3.4.1 Adding a Backend Server Group
136 <#adding-a-backend-server-group>`__

`3.4.2 Querying Backend Server Groups
145 <#querying-backend-server-groups>`__

`3.4.3 Querying Details of a Backend Server Group
150 <#querying-details-of-a-backend-server-group>`__

`3.4.4 Updating a Backend Server Group
154 <#updating-a-backend-server-group>`__

`3.4.5 Deleting a Backend Server Group
161 <#deleting-a-backend-server-group>`__

`3.5 Backend Server 162 <#backend-server>`__

`3.5.1 Adding a Backend Server 162 <#adding-a-backend-server>`__

`3.5.2 Querying Backend Servers 166 <#querying-backend-servers>`__

`3.5.3 Querying Details of a Backend Server
170 <#querying-details-of-a-backend-server>`__

`3.5.4 Updating a Backend Server 173 <#updating-a-backend-server>`__

`3.5.5 Removing a Backend Server 176 <#removing-a-backend-server>`__

`3.5.6 Querying All Backend Servers (Extension API)
177 <#querying-all-backend-servers-extension-api>`__

`3.5.7 Batch Updating Backend Servers
183 <#batch-updating-backend-servers>`__

`3.6 Quota 187 <#quota-1>`__

`3.6.1 Querying Default Resource Quotas
187 <#querying-default-resource-quotas>`__

`3.6.2 Querying Current Resource Quotas
188 <#querying-current-resource-quotas>`__

`3.7 Health Check 190 <#health-check-1>`__

`3.7.1 Configuring a Health Check 190 <#configuring-a-health-check-1>`__

`3.7.2 Querying Health Checks 196 <#querying-health-checks>`__

`3.7.3 Querying Details of a Health Check
202 <#querying-details-of-a-health-check-1>`__

`3.7.4 Updating a Health Check 205 <#updating-a-health-check>`__

`3.7.5 Deleting a Health Check 211 <#deleting-a-health-check-1>`__

`3.8 Forwarding Policy 212 <#forwarding-policy>`__

`3.8.1 Adding a Forwarding Policy 212 <#adding-a-forwarding-policy>`__

`3.8.2 Querying Forwarding Policies
219 <#querying-forwarding-policies>`__

`3.8.3 Querying Details of a Forwarding Policy
225 <#querying-details-of-a-forwarding-policy>`__

`3.8.4 Updating a Forwarding Policy
228 <#updating-a-forwarding-policy>`__

`3.8.5 Deleting a Forwarding Policy
231 <#deleting-a-forwarding-policy>`__

`3.9 Forwarding Rule 232 <#forwarding-rule>`__

`3.9.1 Adding a Forwarding Rule 232 <#adding-a-forwarding-rule>`__

`3.9.2 Querying Forwarding Rules 236 <#querying-forwarding-rules>`__

`3.9.3 Querying Details of a Forwarding Rule
241 <#querying-details-of-a-forwarding-rule>`__

`3.9.4 Updating a Forwarding Rule 244 <#updating-a-forwarding-rule>`__

`3.9.5 Deleting a Forwarding Rule 248 <#deleting-a-forwarding-rule>`__

`3.10 Whitelist 249 <#whitelist>`__

`3.10.1 Adding a Whitelist 249 <#adding-a-whitelist>`__

`3.10.2 Querying Whitelists 251 <#querying-whitelists>`__

`3.10.3 Querying Details of a Whitelist
254 <#querying-details-of-a-whitelist>`__

`3.10.4 Updating a Whitelist 256 <#updating-a-whitelist>`__

`3.10.5 Deleting a Whitelist 258 <#deleting-a-whitelist>`__

`3.11 Certificate 259 <#certificate-1>`__

`3.11.1 Creating a Certificate 259 <#creating-a-certificate-1>`__

`3.11.2 Querying Certificates 263 <#querying-certificates-1>`__

`3.11.3 Querying Details of a Certificate
271 <#querying-details-of-a-certificate>`__

`3.11.4 Updating a Certificate 274 <#updating-a-certificate>`__

`3.11.5 Deleting a Certificate 279 <#deleting-a-certificate-1>`__

`3.12 Tag 280 <#tag>`__

`3.12.1 Adding a Tag to a Load Balancer
280 <#adding-a-tag-to-a-load-balancer>`__

`3.12.2 Batch Adding or Deleting Load Balancer Tags
282 <#batch-adding-or-deleting-load-balancer-tags>`__

`3.12.3 Querying All Tags of a Load Balancer
285 <#querying-all-tags-of-a-load-balancer>`__

`3.12.4 Querying the Tags of All Load Balancers
287 <#querying-the-tags-of-all-load-balancers>`__

`3.12.5 Querying Load Balancers by Tag
289 <#querying-load-balancers-by-tag>`__

`3.12.6 Deleting a Tag from a Load Balancer
293 <#deleting-a-tag-from-a-load-balancer>`__

`3.12.7 Adding a Tag to a Listener 294 <#adding-a-tag-to-a-listener>`__

`3.12.8 Batch Adding or Deleting Listener Tags
296 <#batch-adding-or-deleting-listener-tags>`__

`3.12.9 Querying All Tags of a Listener
299 <#querying-all-tags-of-a-listener>`__

`3.12.10 Querying the Tags of All Listeners
301 <#querying-the-tags-of-all-listeners>`__

`3.12.11 Querying Listeners by Tag 303 <#querying-listeners-by-tag>`__

`3.12.12 Deleting a Tag from a Listener
307 <#deleting-a-tag-from-a-listener>`__

`3.12.13 Status Codes 308 <#status-codes>`__

`4 Dedicated Load Balancer APIs 311 <#dedicated-load-balancer-apis>`__

`4.1 API Call Precaution 311 <#api-call-precaution-2>`__

`4.2 Quota 311 <#quota-2>`__

`4.2.1 Querying Quotas 311 <#querying-quotas>`__

`4.3 AZ 313 <#az>`__

`4.3.1 Querying AZs 313 <#querying-azs>`__

`4.4 Load Balancer Flavor 315 <#load-balancer-flavor>`__

`4.4.1 Querying Flavors 315 <#querying-flavors>`__

`4.4.2 Viewing Details of a Flavor 320 <#viewing-details-of-a-flavor>`__

`4.5 Load Balancer 322 <#load-balancer-2>`__

`4.5.1 Creating a Load Balancer 322 <#creating-a-load-balancer-2>`__

`4.5.2 Querying Load Balancers 337 <#querying-load-balancers-2>`__

`4.5.3 Viewing Details of a Load Balancer
349 <#viewing-details-of-a-load-balancer>`__

`4.5.4 Updating a Load Balancer 356 <#updating-a-load-balancer-1>`__

`4.5.5 Deleting a Load Balancer 365 <#deleting-a-load-balancer-2>`__

`4.5.6 Querying the Status Tree of a Load Balancer
366 <#querying-the-status-tree-of-a-load-balancer-1>`__

`4.6 Certificate 373 <#certificate-2>`__

`4.6.1 Creating a Certificate 373 <#creating-a-certificate-2>`__

`4.6.2 Querying Certificates 379 <#querying-certificates-2>`__

`4.6.3 Viewing Details of a Certificate
386 <#viewing-details-of-a-certificate>`__

`4.6.4 Updating a Certificate 390 <#updating-a-certificate-1>`__

`4.6.5 Deleting a Certificate 395 <#deleting-a-certificate-2>`__

`4.7 Listener 396 <#listener-2>`__

`4.7.1 Adding a Listener 396 <#adding-a-listener-2>`__

`4.7.2 Querying Listeners 409 <#querying-listeners-2>`__

`4.7.3 Viewing Details of a Listener
421 <#viewing-details-of-a-listener>`__

`4.7.4 Updating a Listener 427 <#updating-a-listener-1>`__

`4.7.5 Deleting a Listener 438 <#deleting-a-listener-2>`__

`4.8 Backend Server Group 439 <#backend-server-group-1>`__

`4.8.1 Creating a Backend Server Group
439 <#creating-a-backend-server-group>`__

`4.8.2 Querying Backend Server Groups
448 <#querying-backend-server-groups-1>`__

`4.8.3 Viewing Details of a Backend Server Group
457 <#viewing-details-of-a-backend-server-group>`__

`4.8.4 Updating a Backend Server Group
462 <#updating-a-backend-server-group-1>`__

`4.8.5 Deleting a Backend Server Group
469 <#deleting-a-backend-server-group-1>`__

`4.9 Backend Server 470 <#backend-server-1>`__

`4.9.1 Adding a Backend Server 471 <#adding-a-backend-server-1>`__

`4.9.2 Querying Backend Servers 476 <#querying-backend-servers-1>`__

`4.9.3 Viewing Details of a Backend Server
482 <#viewing-details-of-a-backend-server>`__

`4.9.4 Updating a Backend Server 485 <#updating-a-backend-server-1>`__

`4.9.5 Removing a Backend Server 489 <#removing-a-backend-server-1>`__

`4.10 Health Check 491 <#health-check-2>`__

`4.10.1 Configuring a Health Check
491 <#configuring-a-health-check-2>`__

`4.10.2 Querying Health Checks 497 <#querying-health-checks-1>`__

`4.10.3 Viewing Details of a Health Check
505 <#viewing-details-of-a-health-check>`__

`4.10.4 Updating a Health Check 509 <#updating-a-health-check-1>`__

`4.10.5 Deleting a Health Check 515 <#deleting-a-health-check-2>`__

`4.11 Forwarding Policy 516 <#forwarding-policy-1>`__

`4.11.1 Adding a Forwarding Policy
517 <#adding-a-forwarding-policy-1>`__

`4.11.2 Querying Forwarding Policies
533 <#querying-forwarding-policies-1>`__

`4.11.3 Viewing Details of a Forwarding Policy
544 <#viewing-details-of-a-forwarding-policy>`__

`4.11.4 Updating a Forwarding Policy
551 <#updating-a-forwarding-policy-1>`__

`4.11.5 Deleting a Forwarding Policy
566 <#deleting-a-forwarding-policy-1>`__

`4.12 Forwarding Rule 567 <#forwarding-rule-1>`__

`4.12.1 Adding a Forwarding Rule 567 <#adding-a-forwarding-rule-1>`__

`4.12.2 Querying Forwarding Rules 574 <#querying-forwarding-rules-1>`__

`4.12.3 Viewing Details of a Forwarding Rule
580 <#viewing-details-of-a-forwarding-rule>`__

`4.12.4 Updating a Forwarding Rule
584 <#updating-a-forwarding-rule-1>`__

`4.12.5 Deleting a Forwarding Rule
590 <#deleting-a-forwarding-rule-1>`__

`5 Examples 592 <#examples>`__

`5.1 Creating a Dedicated Load Balancer and Binding a New EIP to It
592 <#creating-a-dedicated-load-balancer-and-binding-a-new-eip-to-it>`__

`5.2 Adding a Listener to a Dedicated Load Balancer
595 <#adding-a-listener-to-a-dedicated-load-balancer>`__

`5.3 Deleting a Dedicated Load Balancer
596 <#deleting-a-dedicated-load-balancer>`__

`6 Common Parameters 599 <#common-parameters>`__

`6.1 Error Codes 599 <#error-codes>`__

`6.2 HTTP Status Codes of Shared Load Balancers
607 <#http-status-codes-of-shared-load-balancers>`__

`6.3 HTTP Status Codes for Dedicated Load Balancers
617 <#http-status-codes-for-dedicated-load-balancers>`__

`7 Appendix 620 <#appendix>`__

`7.1 ELB Metrics 620 <#elb-metrics>`__

`7.2 General Information About Shared Load Balancers
622 <#general-information-about-shared-load-balancers>`__

`7.2.1 Querying Data in Pages 622 <#querying-data-in-pages>`__

`7.2.2 Sequencing Query Results 623 <#sequencing-query-results>`__

`7.2.3 Querying Versions 624 <#querying-versions>`__

`7.2.4 Basic Workflow 625 <#basic-workflow>`__

`8 Change History 626 <#change-history>`__

API Usage Guidelines
====================

Public cloud APIs comply with the RESTful API design principles.
REST-based web services are organized into resources. Each resource is
identified by one or more Uniform Resource Identifiers (URIs). An
application accesses a resource based on the resource's Unified Resource
Locator (URL). A URL is usually in the following format:
*https://Endpoint/uri*. In the URL, **uri** indicates the resource path,
that is, the API access path.

Public cloud APIs use HTTPS as the transmission protocol. Requests and
responses are transmitted using JSON messages, with media type
represented by **Application/json**.

For details about how to use APIs, see `API Usage
Guidelines <https://docs.otc.t-systems.com/en-us/api/apiug/apig-en-api-180328001.html?tag=API%20Documents>`__.

Classic Load Balancer APIs
==========================

API Call Precaution
-------------------

Classic load balancers are not supported in the **eu-nl** region.

Load Balancer
-------------

1. .. rubric:: Creating a Load Balancer
      :name: creating-a-load-balancer

   #. Function

This API is used to create a load balancer.

2. URI

POST /v1.0/{project_id}/elbaas/loadbalancers

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    name.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 64      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that consist |
|                 |                 |                 |    of letters,  |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    underscores  |
|                 |                 |                 |    (_), and     |
|                 |                 |                 |    hyphens (-). |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | -  Provides     |
|                 |                 |                 |                 |
|                 |                 |                 |   supplementary |
|                 |                 |                 |    information  |
|                 |                 |                 |    about the    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    contains 0   |
|                 |                 |                 |    to 128       |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and cannot   |
|                 |                 |                 |    contain      |
|                 |                 |                 |    angle        |
|                 |                 |                 |    brackets (<  |
|                 |                 |                 |    and >).      |
+-----------------+-----------------+-----------------+-----------------+
| vpc_id          | Yes             | String          | Specifies the   |
|                 |                 |                 | VPC ID.         |
+-----------------+-----------------+-----------------+-----------------+
| bandwidth       | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    (Mbit/s).    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    when         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **External**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **500**.     |
|                 |                 |                 |                 |
|                 |                 |                 | (The specific   |
|                 |                 |                 | range may vary  |
|                 |                 |                 | depending on    |
|                 |                 |                 | the             |
|                 |                 |                 | configuration   |
|                 |                 |                 | in each region. |
|                 |                 |                 | You can see the |
|                 |                 |                 | bandwidth range |
|                 |                 |                 | of each region  |
|                 |                 |                 | on the          |
|                 |                 |                 | management      |
|                 |                 |                 | console.)       |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the network  |
|                 |                 |                 |    type of the  |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    **Internal** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **External**. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | Yes             | Integer/Boolean | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |                 |
|                 |                 |                 |  administrative |
|                 |                 |                 |    status of    |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Optional     |
|                 |                 |                 |    values:      |
|                 |                 |                 |                 |
|                 |                 |                 | **0** or        |
|                 |                 |                 | **false**:      |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | stopped. Only   |
|                 |                 |                 | users are       |
|                 |                 |                 | allowed to      |
|                 |                 |                 | enter the two   |
|                 |                 |                 | values.         |
|                 |                 |                 |                 |
|                 |                 |                 | **1** or        |
|                 |                 |                 | **true**:       |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | running         |
|                 |                 |                 | properly.       |
|                 |                 |                 |                 |
|                 |                 |                 | **2** or        |
|                 |                 |                 | **false**:      |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | frozen. Only    |
|                 |                 |                 | the             |
|                 |                 |                 | administrator   |
|                 |                 |                 | is allowed to   |
|                 |                 |                 | enter the two   |
|                 |                 |                 | values.         |
+-----------------+-----------------+-----------------+-----------------+
| vip_subnet_id   | No              | String          | Specifies the   |
|                 |                 |                 | subnet ID of    |
|                 |                 |                 | backend ECSs.   |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **Internal**.   |
|                 |                 |                 | Only IPv4       |
|                 |                 |                 | subnets can be  |
|                 |                 |                 | specified.      |
+-----------------+-----------------+-----------------+-----------------+
| az              | No              | String          | Specifies the   |
|                 |                 |                 | AZ of the load  |
|                 |                 |                 | balancer. This  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | invalid when    |
|                 |                 |                 | type is set to  |
|                 |                 |                 | **External**    |
|                 |                 |                 | and is optional |
|                 |                 |                 | when type is    |
|                 |                 |                 | set to          |
|                 |                 |                 | **Internal**.   |
|                 |                 |                 | If **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **Internal**    |
|                 |                 |                 | and an AZ is    |
|                 |                 |                 | specified, the  |
|                 |                 |                 | specified AZ    |
|                 |                 |                 | must support    |
|                 |                 |                 | private network |
|                 |                 |                 | load balancers. |
|                 |                 |                 | Otherwise, an   |
|                 |                 |                 | error message   |
|                 |                 |                 | is returned.    |
|                 |                 |                 | For more        |
|                 |                 |                 | details, see    |
|                 |                 |                 | `Regions and    |
|                 |                 |                 | Endpoints <h    |
|                 |                 |                 | ttps://docs.otc |
|                 |                 |                 | .t-systems.com/ |
|                 |                 |                 | en-us/endpoint/ |
|                 |                 |                 | index.html>`__. |
+-----------------+-----------------+-----------------+-----------------+
| charge_mode     | No              | String          | -  Specifies    |
|                 |                 |                 |    how a new    |
|                 |                 |                 |    elastic IP   |
|                 |                 |                 |    address      |
|                 |                 |                 |    (EIP) is     |
|                 |                 |                 |    billed. This |
|                 |                 |                 |    is a         |
|                 |                 |                 |    reserved     |
|                 |                 |                 |    parameter.   |
|                 |                 |                 |    If the       |
|                 |                 |                 |    system       |
|                 |                 |                 |    supports     |
|                 |                 |                 |    billing by   |
|                 |                 |                 |    traffic and  |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the EIP will |
|                 |                 |                 |    be billed by |
|                 |                 |                 |    traffic.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  Specifies    |
|                 |                 |                 |    whether the  |
|                 |                 |                 |    EIP is       |
|                 |                 |                 |    billed by    |
|                 |                 |                 |    traffic or   |
|                 |                 |                 |    fixed        |
|                 |                 |                 |    bandwidth.   |
|                 |                 |                 |    If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or           |
|                 |                 |                 |    incorrectly  |
|                 |                 |                 |    set, the EIP |
|                 |                 |                 |    is billed by |
|                 |                 |                 |    traffic by   |
|                 |                 |                 |    default.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    **traffic**. |
+-----------------+-----------------+-----------------+-----------------+
| eip_type        | No              | String          | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| se              | No              | String          | -  Specifies    |
| curity_group_id |                 |                 |    the security |
|                 |                 |                 |    group ID.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 200     |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that         |
|                 |                 |                 |    consists of  |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    hyphens (-). |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory if |
|                 |                 |                 |    the value of |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |                 |
|                 |                 |                 |   **Internal**, |
|                 |                 |                 |    while it is  |
|                 |                 |                 |    ignored when |
|                 |                 |                 |    the value of |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |                 |
|                 |                 |                 |   **External**. |
+-----------------+-----------------+-----------------+-----------------+
| vip_address     | No              | String          | -  Specifies    |
|                 |                 |                 |    the private  |
|                 |                 |                 |    IP address   |
|                 |                 |                 |    of the load  |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |    When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **External**, |
|                 |                 |                 |    the          |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    value is the |
|                 |                 |                 |    EIP. When    |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **Internal**, |
|                 |                 |                 |    the          |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    value is the |
|                 |                 |                 |    private      |
|                 |                 |                 |    network IP   |
|                 |                 |                 |    address.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  You can      |
|                 |                 |                 |    select an    |
|                 |                 |                 |    existing EIP |
|                 |                 |                 |    to create a  |
|                 |                 |                 |    public       |
|                 |                 |                 |    network load |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |    When this    |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    configured,  |
|                 |                 |                 |    parameters   |
|                 |                 |                 |                 |
|                 |                 |                 |  **bandwidth**, |
|                 |                 |                 |    *            |
|                 |                 |                 | *charge_mode**, |
|                 |                 |                 |    and          |
|                 |                 |                 |    **eip_type** |
|                 |                 |                 |    are invalid. |
+-----------------+-----------------+-----------------+-----------------+
| tenantId        | No              | String          | -  Specifies    |
|                 |                 |                 |    the project  |
|                 |                 |                 |    ID.          |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    when         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **Internal**. |
+-----------------+-----------------+-----------------+-----------------+

-  Example request 1

| {
| "name": "loadbalancer1",
| "description": "simple lb",
| "vpc_id": "f54a3ffd-7a55-4568-9e3d-f0ff2d46a107",
| "bandwidth": 200,
| "type": "External",
| "admin_state_up": true
| }

-  Example request 2

| {
| "name": "loadbalancer1",
| "description": "simple lb",
| "vpc_id": "f54a3ffd-7a55-4568-9e3d-f0ff2d46a107",
| "vip_address": "192.144.164.74",
| "type": "External",
| "admin_state_up": true
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| uri                   | String                | Specifies the URI     |
|                       |                       | returned by Combined  |
|                       |                       | API after the job for |
|                       |                       | creating a load       |
|                       |                       | balancer is           |
|                       |                       | delivered.            |
+-----------------------+-----------------------+-----------------------+
| job_id                | String                | Specifies the unique  |
|                       |                       | ID assigned to the    |
|                       |                       | job for creating a    |
|                       |                       | load balancer in      |
|                       |                       | Combined API.         |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "uri":
  "/v1/73cd9140bec7427ab9952b4ed75924e0/jobs/4010b39b4fbb4645014fcfc8f2d178d1",
| "job_id": "4010b39b4fbb4645014fcfc8f2d178d1"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Deleting a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to delete a load balancer. If the load balancer is a
public network load balancer, this API deletes the EIP bound to the load
balancer.

2. Constraints

For a public network load balancer, you need to delete the backend ECSs
added to all listeners of the load balancer before deleting it.

3. URI

DELETE /v1.0/{project_id}/elbaas/loadbalancers/{loadbalancer_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

4. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| uri                   | String                | Specifies the URI     |
|                       |                       | returned by Combined  |
|                       |                       | API after the job for |
|                       |                       | deleting a load       |
|                       |                       | balancer is           |
|                       |                       | delivered.            |
+-----------------------+-----------------------+-----------------------+
| job_id                | String                | Specifies the unique  |
|                       |                       | ID assigned to the    |
|                       |                       | job for deleting a    |
|                       |                       | load balancer in      |
|                       |                       | Combined API.         |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "uri":
  "/v1/73cd9140bec7427ab9952b4ed75924e0/jobs/4010b39c4fbb4649014fcfd2ab7903b0",
| "job_id": "4010b39c4fbb4649014fcfd2ab7903b0"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Deleting a Public Network Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to delete a public network load balancer. The EIP bound
to the load balancer will not be deleted. If you need to delete this IP
address, refer to `Deleting a Load
Balancer <#deleting-a-load-balancer>`__.

2. Constraints

Before deleting a public network load balancer, you must remove all
backend ECSs from the listener. This API cannot be used to delete a
private network load balancer.

3. URI

DELETE
/v1.0/{project_id}/elbaas/loadbalancers/{loadbalancer_id}/keep-eip

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

4. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| uri                   | String                | Specifies the URI     |
|                       |                       | returned by Combined  |
|                       |                       | API after the job for |
|                       |                       | deleting a load       |
|                       |                       | balancer is           |
|                       |                       | delivered.            |
+-----------------------+-----------------------+-----------------------+
| job_id                | String                | Specifies the unique  |
|                       |                       | ID assigned to the    |
|                       |                       | job for deleting a    |
|                       |                       | load balancer in      |
|                       |                       | Combined API.         |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "uri":
  "/v1/8263303061de4b5d95c9cb68c3a257f4/jobs/ff808082615b23aa01616b90efc65298",
| "job_id": "ff808082615b23aa01616b90efc65298"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisable           | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Modifying a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to modify the name, description, bandwidth, and
administrative status of a load balancer.

2. URI

PUT /v1.0/{project_id}/elbaas/loadbalancers/{loadbalancer_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | -  Specifies    |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    name.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 64      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that consist |
|                 |                 |                 |    of letters,  |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    underscores  |
|                 |                 |                 |    (_), and     |
|                 |                 |                 |    hyphens (-). |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | -  Provides     |
|                 |                 |                 |                 |
|                 |                 |                 |   supplementary |
|                 |                 |                 |    information  |
|                 |                 |                 |    about the    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    contains 0   |
|                 |                 |                 |    to 128       |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and cannot   |
|                 |                 |                 |    contain      |
|                 |                 |                 |    angle        |
|                 |                 |                 |    brackets (<  |
|                 |                 |                 |    and >).      |
+-----------------+-----------------+-----------------+-----------------+
| bandwidth       | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    (Mbit/s).    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    when         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **External**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    1 to 500.    |
|                 |                 |                 |                 |
|                 |                 |                 | (The specific   |
|                 |                 |                 | range may vary  |
|                 |                 |                 | depending on    |
|                 |                 |                 | the             |
|                 |                 |                 | configuration   |
|                 |                 |                 | in each region. |
|                 |                 |                 | You can see the |
|                 |                 |                 | bandwidth range |
|                 |                 |                 | of each region  |
|                 |                 |                 | on the          |
|                 |                 |                 | management      |
|                 |                 |                 | console.)       |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Integer/Boolean | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |                 |
|                 |                 |                 |  administrative |
|                 |                 |                 |    status of    |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Optional     |
|                 |                 |                 |    values:      |
|                 |                 |                 |                 |
|                 |                 |                 | **0** or        |
|                 |                 |                 | **false**:      |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | stopped. Only   |
|                 |                 |                 | users are       |
|                 |                 |                 | allowed to      |
|                 |                 |                 | enter the two   |
|                 |                 |                 | values.         |
|                 |                 |                 |                 |
|                 |                 |                 | **1** or        |
|                 |                 |                 | **true**:       |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | running         |
|                 |                 |                 | properly.       |
|                 |                 |                 |                 |
|                 |                 |                 | **2** or        |
|                 |                 |                 | **false**:      |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | frozen. Only    |
|                 |                 |                 | the             |
|                 |                 |                 | administrator   |
|                 |                 |                 | is allowed to   |
|                 |                 |                 | enter the two   |
|                 |                 |                 | values.         |
+-----------------+-----------------+-----------------+-----------------+

#. Request

-  Request parameters

None

-  Example request

| {
| "description": "simple lb",
| "name": "loadbalancer1",
| "bandwidth": 200,
| "admin_state_up": true
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| uri                   | String                | Specifies the URI     |
|                       |                       | returned by Combined  |
|                       |                       | API after the job for |
|                       |                       | modifying a load      |
|                       |                       | balancer is           |
|                       |                       | delivered.            |
+-----------------------+-----------------------+-----------------------+
| job_id                | String                | Specifies the unique  |
|                       |                       | ID assigned to the    |
|                       |                       | job for modifying a   |
|                       |                       | load balancer in      |
|                       |                       | Combined API.         |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "uri":
  "/v1/73cd9140bec7427ab9952b4ed75924e0/jobs/4010b39d4fbb4645014fcfddf4b32d15",
| "job_id": "4010b39d4fbb4645014fcfddf4b32d15"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying Details of a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query details about a load balancer.

2. URI

GET /v1.0/{project_id}/elbaas/loadbalancers/{loadbalancer_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| vip_address           | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| status                | String                | -  Specifies the load |
|                       |                       |    balancer status.   |
|                       |                       |                       |
|                       |                       | -  The value can be   |
|                       |                       |    **ACTIVE**,        |
|                       |                       |                       |
|                       |                       |   **PENDING_CREATE**, |
|                       |                       |    or **ERROR**.      |
+-----------------------+-----------------------+-----------------------+
| bandwidth             | Integer               | Specifies the         |
|                       |                       | bandwidth (Mbit/s).   |
+-----------------------+-----------------------+-----------------------+
| vpc_id                | String                | Specifies the VPC ID. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Integer               | -  Specifies the      |
|                       |                       |    administrative     |
|                       |                       |    status of the load |
|                       |                       |    balancer.          |
|                       |                       |                       |
|                       |                       | -  The following      |
|                       |                       |    options are        |
|                       |                       |    available:         |
|                       |                       |                       |
|                       |                       | **0**: The load       |
|                       |                       | balancer is disabled. |
|                       |                       |                       |
|                       |                       | **1**: The load       |
|                       |                       | balancer is running   |
|                       |                       | properly.             |
|                       |                       |                       |
|                       |                       | **2**: The load       |
|                       |                       | balancer is frozen.   |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_id         | String                | This parameter is     |
|                       |                       | unavailable now.      |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the network |
|                       |                       | type of the load      |
|                       |                       | balancer. The value   |
|                       |                       | is **External**.      |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| security_group_id     | String                | -  Specifies the      |
|                       |                       |    security group ID. |
|                       |                       |                       |
|                       |                       | -  **null** is        |
|                       |                       |    displayed for this |
|                       |                       |    parameter when     |
|                       |                       |    **type** is set to |
|                       |                       |    **External**.      |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "vip_address": "192.144.62.114",
| "update_time": "2015-09-14 02:34:32",
| "create_time": "2015-09-14 02:34:32",
| "id": "0b07acf06d243925bc24a0ac7445267a",
| "status": "ACTIVE",
| "bandwidth": 1,
| "security_group_id": null,
| "vpc_id": "f54a3ffd-7a55-4568-9e3d-f0ff2d46a107",
| "admin_state_up": 1,
| "vip_subnet_id": null,
| "type": "External",
| "name": "MY_ELB",
| "description": null
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying Load Balancers
~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query load balancers and display them in a list.

2. URI

GET /v1.0/{project_id}/elbaas/loadbalancers

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancers         | Array                 | Lists the load        |
|                       |                       | balancers.            |
+-----------------------+-----------------------+-----------------------+
| instance_num          | String                | Specifies the number  |
|                       |                       | of load balancers.    |
+-----------------------+-----------------------+-----------------------+

2. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| vip_address           | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| status                | String                | -  Specifies the load |
|                       |                       |    balancer status.   |
|                       |                       |                       |
|                       |                       | -  The value can be   |
|                       |                       |    **ACTIVE**,        |
|                       |                       |                       |
|                       |                       |   **PENDING_CREATE**, |
|                       |                       |    or **ERROR**.      |
+-----------------------+-----------------------+-----------------------+
| bandwidth             | Integer               | Specifies the         |
|                       |                       | bandwidth.            |
+-----------------------+-----------------------+-----------------------+
| vpc_id                | String                | Specifies the VPC ID. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Integer               | -  Specifies the      |
|                       |                       |    administrative     |
|                       |                       |    status of the load |
|                       |                       |    balancer.          |
|                       |                       |                       |
|                       |                       | -  The value options  |
|                       |                       |    are as follows:    |
|                       |                       |                       |
|                       |                       | **0**: The load       |
|                       |                       | balancer is disabled. |
|                       |                       |                       |
|                       |                       | **1**: The load       |
|                       |                       | balancer is running   |
|                       |                       | properly.             |
|                       |                       |                       |
|                       |                       | **2**: The load       |
|                       |                       | balancer is frozen.   |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_id         | String                | This parameter is     |
|                       |                       | unavailable now.      |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the network |
|                       |                       | type of the load      |
|                       |                       | balancer. The value   |
|                       |                       | is **External**.      |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Description           |
+-----------------------+-----------------------+-----------------------+
| security_group_id     | String                | -  Specifies the      |
|                       |                       |    security group ID. |
|                       |                       |                       |
|                       |                       | -  **null** is        |
|                       |                       |    displayed for this |
|                       |                       |    parameter when     |
|                       |                       |    **type** is set to |
|                       |                       |    **External**.      |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "loadbalancers": [
| {
| "vip_address": "192.144.62.114",
| "update_time": "2015-09-14 02:34:32",
| "create_time": "2015-09-14 02:34:32",
| "id": "0b07acf06d243925bc24a0ac7445267a",
| "status": "ACTIVE",
| "bandwidth": 1,
| "security_group_id": null,
| "vpc_id": "f54a3ffd-7a55-4568-9e3d-f0ff2d46a107",
| "admin_state_up": 1,
| "vip_subnet_id": null,
| "type": "External",
| "name": "MY_ELB",
| "description": null
| }
| ],
| "instance_num": "1"
| }

#. Status Codes

-  Normal

200

-  Abnormal

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | Internal error.       |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | Service unavailable.  |
+-----------------------+-----------------------+-----------------------+

Listener
--------

1. .. rubric:: Adding a Listener
      :name: adding-a-listener

   #. Function

This API is used to add a listener to a load balancer.

2. URI

POST /v1.0/{project_id}/elbaas/listeners

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the listener |
|                 |                 |                 |    name.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 64      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that consist |
|                 |                 |                 |    of letters,  |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    underscores  |
|                 |                 |                 |    (_), and     |
|                 |                 |                 |    hyphens (-). |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | -  Provides     |
|                 |                 |                 |                 |
|                 |                 |                 |   supplementary |
|                 |                 |                 |    information  |
|                 |                 |                 |    about the    |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    contains 0   |
|                 |                 |                 |    to 128       |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and cannot   |
|                 |                 |                 |    contain      |
|                 |                 |                 |    angle        |
|                 |                 |                 |    brackets (<  |
|                 |                 |                 |    and >).      |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    **HTTP**,    |
|                 |                 |                 |    **TCP**,     |
|                 |                 |                 |    **HTTPS**,   |
|                 |                 |                 |    **SSL**, or  |
|                 |                 |                 |    **UDP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  A UDP        |
|                 |                 |                 |    listener     |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    added to a   |
|                 |                 |                 |    private      |
|                 |                 |                 |    network load |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+
| port            | Yes             | Integer         | -  Specifies    |
|                 |                 |                 |    the port     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The port     |
|                 |                 |                 |    number       |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    1 to 65535.  |
+-----------------+-----------------+-----------------+-----------------+
| b               | Yes             | String          | -  Specifies    |
| ackend_protocol |                 |                 |    the backend  |
|                 |                 |                 |    ECS          |
|                 |                 |                 |    protocol.    |
|                 |                 |                 |                 |
|                 |                 |                 | If **protocol** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **UDP**, the    |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **UDP**.        |
|                 |                 |                 |                 |
|                 |                 |                 | If **protocol** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **SSL**, the    |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **TCP**.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    **HTTP**,    |
|                 |                 |                 |    **TCP**, or  |
|                 |                 |                 |    **UDP**.     |
+-----------------+-----------------+-----------------+-----------------+
| backend_port    | Yes             | Integer         | -  Specifies    |
|                 |                 |                 |    the port     |
|                 |                 |                 |    used by      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    ECSs.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The port     |
|                 |                 |                 |    number       |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    1 to 65535.  |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancing    |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |                 |
|                 |                 |                 | **roundrobin**, |
|                 |                 |                 |                 |
|                 |                 |                 |  **leastconn**, |
|                 |                 |                 |    or           |
|                 |                 |                 |    **source**.  |
+-----------------+-----------------+-----------------+-----------------+
| session_sticky  | No              | Boolean         | -  Specifies    |
|                 |                 |                 |    whether to   |
|                 |                 |                 |    enable the   |
|                 |                 |                 |    sticky       |
|                 |                 |                 |    session      |
|                 |                 |                 |    feature.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    **true** or  |
|                 |                 |                 |    **false**.   |
|                 |                 |                 |    The feature  |
|                 |                 |                 |    is enabled   |
|                 |                 |                 |    when the     |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **SSL**, the |
|                 |                 |                 |    sticky       |
|                 |                 |                 |    session      |
|                 |                 |                 |    feature is   |
|                 |                 |                 |    not          |
|                 |                 |                 |    supported    |
|                 |                 |                 |    and the      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    invalid.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTP**,    |
|                 |                 |                 |    **HTTPS**,   |
|                 |                 |                 |    or **TCP**   |
|                 |                 |                 |    and          |
|                 |                 |                 |    *            |
|                 |                 |                 | *lb_algorithm** |
|                 |                 |                 |    is not       |
|                 |                 |                 |                 |
|                 |                 |                 | **roundrobin**, |
|                 |                 |                 |    the value of |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can only be  |
|                 |                 |                 |    **false**.   |
+-----------------+-----------------+-----------------+-----------------+
| stic            | No              | String          | Specifies where |
| ky_session_type |                 |                 | the cookie is   |
|                 |                 |                 | from. The only  |
|                 |                 |                 | value is        |
|                 |                 |                 | **insert**,     |
|                 |                 |                 | indicating that |
|                 |                 |                 | the cookie is   |
|                 |                 |                 | inserted by the |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTP** and |
|                 |                 |                 |    **s          |
|                 |                 |                 | ession_sticky** |
|                 |                 |                 |    to **true**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    invalid when |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **TCP**,     |
|                 |                 |                 |    **SSL**, or  |
|                 |                 |                 |    **UDP**,     |
|                 |                 |                 |    which means  |
|                 |                 |                 |    that the     |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    unavailable  |
|                 |                 |                 |    or its value |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **null**.    |
+-----------------+-----------------+-----------------+-----------------+
| cookie_timeout  | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the cookie   |
|                 |                 |                 |    timeout      |
|                 |                 |                 |    duration.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTP**,    |
|                 |                 |                 |    **s          |
|                 |                 |                 | ession_sticky** |
|                 |                 |                 |    to **true**, |
|                 |                 |                 |    and          |
|                 |                 |                 |    **sticky     |
|                 |                 |                 | _session_type** |
|                 |                 |                 |    to           |
|                 |                 |                 |    **insert**.  |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    invalid when |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **TCP**,     |
|                 |                 |                 |    **SSL**, or  |
|                 |                 |                 |    **UDP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+
| tcp_timeout     | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the TCP      |
|                 |                 |                 |    session      |
|                 |                 |                 |    timeout      |
|                 |                 |                 |    duration.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **TCP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+
| tcp_draining    | No              | Boolean         | -  Specifies    |
|                 |                 |                 |    whether to   |
|                 |                 |                 |    maintain TCP |
|                 |                 |                 |    connections  |
|                 |                 |                 |    to a backend |
|                 |                 |                 |    ECS that has |
|                 |                 |                 |    been         |
|                 |                 |                 |    removed.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **TCP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    **true** or  |
|                 |                 |                 |    **false**.   |
+-----------------+-----------------+-----------------+-----------------+
| tcp_d           | No              | Integer         | -  Specifies    |
| raining_timeout |                 |                 |    the timeout  |
|                 |                 |                 |    duration for |
|                 |                 |                 |    maintaining  |
|                 |                 |                 |    TCP          |
|                 |                 |                 |    connections  |
|                 |                 |                 |    to a backend |
|                 |                 |                 |    ECS that has |
|                 |                 |                 |    been removed |
|                 |                 |                 |    in the unit  |
|                 |                 |                 |    of minute.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid when   |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to **TCP**  |
|                 |                 |                 | and             |
|                 |                 |                 | *               |
|                 |                 |                 | *tcp_draining** |
|                 |                 |                 | to **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **0** to     |
|                 |                 |                 |    **60**.      |
+-----------------+-----------------+-----------------+-----------------+
| certificate_id  | No              | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    ID. This     |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    when         |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS** or |
|                 |                 |                 |    **SSL**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The ID can   |
|                 |                 |                 |    be obtained  |
|                 |                 |                 |    from the     |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    list.        |
+-----------------+-----------------+-----------------+-----------------+
| certificates    | No              | String          | -  Lists the    |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    IDs if       |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory in |
|                 |                 |                 |    the SNI      |
|                 |                 |                 |    scenario and |
|                 |                 |                 |    is valid     |
|                 |                 |                 |    only when    |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer is  |
|                 |                 |                 |    a public     |
|                 |                 |                 |    network load |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+
| udp_timeout     | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the UDP      |
|                 |                 |                 |    session      |
|                 |                 |                 |    timeout      |
|                 |                 |                 |    duration.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **UDP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+
| ssl_protocols   | No              | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    supported    |
|                 |                 |                 |    SSL/TLS      |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    version.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    available    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS** or |
|                 |                 |                 |    **SSL**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    **TLSv1.2**  |
|                 |                 |                 |    or **TLSv1.2 |
|                 |                 |                 |    TLSv1.1      |
|                 |                 |                 |    TLSv1** and  |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **TLSv1.2**. |
+-----------------+-----------------+-----------------+-----------------+
| ssl_ciphers     | No              | String          | -  Specifies    |
|                 |                 |                 |    the cipher   |
|                 |                 |                 |    suites       |
|                 |                 |                 |    supported by |
|                 |                 |                 |    a specific   |
|                 |                 |                 |    SSL/TLS      |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    version.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    available    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS** or |
|                 |                 |                 |    **SSL**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    **Default**, |
|                 |                 |                 |                 |
|                 |                 |                 |   **Extended**, |
|                 |                 |                 |    or           |
|                 |                 |                 |    **Strict**.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | **Default** is  |
|                 |                 |                 | **E             |
|                 |                 |                 | CDHE-RSA-AES256 |
|                 |                 |                 | -GCM-SHA384:ECD |
|                 |                 |                 | HE-RSA-AES128-G |
|                 |                 |                 | CM-SHA256:ECDHE |
|                 |                 |                 | -RSA-AES256-SHA |
|                 |                 |                 | 384:ECDHE-RSA-A |
|                 |                 |                 | ES128-SHA256**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | **Extended** is |
|                 |                 |                 | **              |
|                 |                 |                 | ECDHE-ECDSA-AES |
|                 |                 |                 | 128-SHA256:ECDH |
|                 |                 |                 | E-RSA-AES128-SH |
|                 |                 |                 | A256:AES128-SHA |
|                 |                 |                 | 256:AES256-SHA2 |
|                 |                 |                 | 56:ECDHE-ECDSA- |
|                 |                 |                 | AES256-SHA384:E |
|                 |                 |                 | CDHE-RSA-AES256 |
|                 |                 |                 | -SHA384:ECDHE-E |
|                 |                 |                 | CDSA-AES128-SHA |
|                 |                 |                 | :ECDHE-RSA-AES1 |
|                 |                 |                 | 28-SHA:DHE-RSA- |
|                 |                 |                 | AES128-SHA:ECDH |
|                 |                 |                 | E-RSA-AES256-SH |
|                 |                 |                 | A:ECDHE-ECDSA-A |
|                 |                 |                 | ES256-SHA:AES12 |
|                 |                 |                 | 8-SHA:AES256-SH |
|                 |                 |                 | A:DHE-DSS-AES12 |
|                 |                 |                 | 8-SHA:CAMELLIA1 |
|                 |                 |                 | 28-SHA:EDH-RSA- |
|                 |                 |                 | DES-CBC3-SHA:DE |
|                 |                 |                 | S-CBC3-SHA:ECDH |
|                 |                 |                 | E-RSA-RC4-SHA:R |
|                 |                 |                 | C4-SHA:DHE-RSA- |
|                 |                 |                 | AES256-SHA:DHE- |
|                 |                 |                 | DSS-AES256-SHA: |
|                 |                 |                 | DHE-RSA-CAMELLI |
|                 |                 |                 | A256-SHA:DHE-DS |
|                 |                 |                 | S-CAMELLIA256-S |
|                 |                 |                 | HA:CAMELLIA256- |
|                 |                 |                 | SHA:EDH-DSS-DES |
|                 |                 |                 | -CBC3-SHA:DHE-R |
|                 |                 |                 | SA-CAMELLIA128- |
|                 |                 |                 | SHA:DHE-DSS-CAM |
|                 |                 |                 | ELLIA128-SHA**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | **Strict** is   |
|                 |                 |                 | **ECDHE-RSA-AES |
|                 |                 |                 | 256-GCM-SHA384: |
|                 |                 |                 | ECDHE-RSA-AES12 |
|                 |                 |                 | 8-GCM-SHA256**. |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **Default**.    |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be set to  |
|                 |                 |                 | **Extended** if |
|                 |                 |                 | **              |
|                 |                 |                 | ssl_protocols** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **TLSv1.2       |
|                 |                 |                 | TLSv1.1         |
|                 |                 |                 | TLSv1**.        |
+-----------------+-----------------+-----------------+-----------------+

#. Request

-  Request parameters

None

-  Example request

| {
| "name": "listener1",
| "description": "",
| "loadbalancer_id": "0b07acf06d243925bc24a0ac7445267a",
| "protocol": "HTTP",
| "port": 88,
| "backend_protocol": "HTTP",
| "backend_port": 80,
| "lb_algorithm": "roundrobin",
| "session_sticky": true,
| "sticky_session_type": "insert",
| "cookie_timeout": 100,
| "tcp_draining": true,
| "tcp_draining_timeout": 5
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| update_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| backend_port          | Integer               | Specifies the port    |
|                       |                       | used by backend ECSs. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| backend_protocol      | String                | Specifies the         |
|                       |                       | protocol used by      |
|                       |                       | backend ECSs.         |
+-----------------------+-----------------------+-----------------------+
| sticky_session_type   | String                | Specifies where the   |
|                       |                       | cookie is from. The   |
|                       |                       | only value is         |
|                       |                       | **insert**,           |
|                       |                       | indicating that the   |
|                       |                       | cookie is inserted by |
|                       |                       | the load balancer.    |
|                       |                       | This parameter is     |
|                       |                       | valid when            |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTP** and       |
|                       |                       | **session_sticky** to |
|                       |                       | **true**.             |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_id       | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| status                | String                | Specifies the         |
|                       |                       | listener status. The  |
|                       |                       | value can be          |
|                       |                       | **ACTIVE**,           |
|                       |                       | **PENDING_CREATE**,   |
|                       |                       | or **ERROR**.         |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used for     |
|                       |                       | load balancing at     |
|                       |                       | Layer 4 or Layer 7.   |
+-----------------------+-----------------------+-----------------------+
| port                  | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| cookie_timeout        | Integer               | -  Specifies the      |
|                       |                       |    cookie timeout     |
|                       |                       |    duration in the    |
|                       |                       |    unit of minute.    |
|                       |                       |    This parameter is  |
|                       |                       |    valid when         |
|                       |                       |    **session_sticky** |
|                       |                       |    is set to **true** |
|                       |                       |    and                |
|                       |                       |    **                 |
|                       |                       | sticky_session_type** |
|                       |                       |    to **insert**.     |
|                       |                       |                       |
|                       |                       | -  The value ranges   |
|                       |                       |    from **1** to      |
|                       |                       |    **1440**.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | -  Specifies the      |
|                       |                       |    administrative     |
|                       |                       |    status of the load |
|                       |                       |    balancer.          |
|                       |                       |                       |
|                       |                       | -  Two options are    |
|                       |                       |    available:         |
|                       |                       |                       |
|                       |                       | **false**: The load   |
|                       |                       | balancer is disabled. |
|                       |                       |                       |
|                       |                       | **true**: The load    |
|                       |                       | balancer is running   |
|                       |                       | properly.             |
+-----------------------+-----------------------+-----------------------+
| session_sticky        | Boolean               | Specifies whether to  |
|                       |                       | enable the sticky     |
|                       |                       | session feature. The  |
|                       |                       | feature is enabled    |
|                       |                       | when the value is     |
|                       |                       | **true**.             |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm.  |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| tcp_draining          | Boolean               | -  Specifies whether  |
|                       |                       |    to maintain TCP    |
|                       |                       |    connections to a   |
|                       |                       |    backend ECS that   |
|                       |                       |    has been removed.  |
|                       |                       |    This parameter is  |
|                       |                       |    valid when         |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **TCP**.    |
|                       |                       |                       |
|                       |                       | -  The value can be   |
|                       |                       |    **true** or        |
|                       |                       |    **false**.         |
+-----------------------+-----------------------+-----------------------+
| tcp_draining_timeout  | Integer               | -  Specifies the      |
|                       |                       |    timeout duration   |
|                       |                       |    for maintaining    |
|                       |                       |    TCP connections to |
|                       |                       |    a backend ECS that |
|                       |                       |    has been removed   |
|                       |                       |    in the unit of     |
|                       |                       |    minute.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid when            |
|                       |                       | **protocol** is set   |
|                       |                       | to **TCP** and        |
|                       |                       | **tcp_draining** to   |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | -  The value ranges   |
|                       |                       |    from **0** to      |
|                       |                       |    **60**.            |
+-----------------------+-----------------------+-----------------------+
| ssl_protocols         | String                | -  Specifies the      |
|                       |                       |    supported SSL/TLS  |
|                       |                       |    protocol version.  |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    available only     |
|                       |                       |    when **protocol**  |
|                       |                       |    is set to          |
|                       |                       |    **HTTPS** or       |
|                       |                       |    **SSL**.           |
+-----------------------+-----------------------+-----------------------+
| ssl_ciphers           | String                | -  Specifies the      |
|                       |                       |    cipher suite of an |
|                       |                       |    encryption         |
|                       |                       |    protocol.          |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    available only     |
|                       |                       |    when **protocol**  |
|                       |                       |    is set to          |
|                       |                       |    **HTTPS** or       |
|                       |                       |    **SSL**.           |
+-----------------------+-----------------------+-----------------------+
| certificate_id        | String                | -  Specifies the      |
|                       |                       |    default            |
|                       |                       |    certificate ID.    |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    available only     |
|                       |                       |    when **protocol**  |
|                       |                       |    is set to          |
|                       |                       |    **HTTPS** or       |
|                       |                       |    **SSL**.           |
+-----------------------+-----------------------+-----------------------+
| certificates          | String                | -  Lists the          |
|                       |                       |    certificate IDs if |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **HTTPS**.  |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    mandatory in the   |
|                       |                       |    SNI scenario.      |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "update_time": "2015-09-15 07:41:17",
| "backend_port": 80,
| "tcp_draining": true,
| "id": "248425d7b97dc26920eb23720115e068",
| "backend_protocol": "HTTP",
| "sticky_session_type": "insert",
| "description": "",
| "loadbalancer_id": "0b07acf06d243925bc24a0ac7445267a",
| "create_time": "2015-09-15 07:41:17",
| "status": "ACTIVE",
| "protocol": "TCP",
| "port": 88,
| "cookie_timeout": 100,
| "admin_state_up": true,
| "session_sticky": true,
| "lb_algorithm": "roundrobin",
| "name": "listener1",
| "tcp_draining": true,
| "tcp_draining_timeout": 5
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Deleting a Listener
~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to delete a listener.

2. URI

DELETE /v1.0/{project_id}/elbaas/listeners/{listener_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

None

-  Example response

None

#. Status Code

-  Normal

204

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Modifying a Listener
~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to modify the listener information, including the
listener name, description, and status.

2. URI

PUT /v1.0/{project_id}/elbaas/listeners/{listener_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | -  Specifies    |
|                 |                 |                 |    the listener |
|                 |                 |                 |    name.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 64      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that consist |
|                 |                 |                 |    of letters,  |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    underscores  |
|                 |                 |                 |    (_), and     |
|                 |                 |                 |    hyphens (-). |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | -  Provides     |
|                 |                 |                 |                 |
|                 |                 |                 |   supplementary |
|                 |                 |                 |    information  |
|                 |                 |                 |    about the    |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    contains 0   |
|                 |                 |                 |    to 128       |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and cannot   |
|                 |                 |                 |    contain      |
|                 |                 |                 |    angle        |
|                 |                 |                 |    brackets (<  |
|                 |                 |                 |    and >).      |
+-----------------+-----------------+-----------------+-----------------+
| port            | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the port     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The port     |
|                 |                 |                 |    number       |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    1 to 65535.  |
+-----------------+-----------------+-----------------+-----------------+
| backend_port    | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the port     |
|                 |                 |                 |    used by      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    ECSs.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The port     |
|                 |                 |                 |    number       |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    1 to 65535.  |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | No              | String          | -  Specifies    |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancing    |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |                 |
|                 |                 |                 | **roundrobin**, |
|                 |                 |                 |                 |
|                 |                 |                 |  **leastconn**, |
|                 |                 |                 |    or           |
|                 |                 |                 |    **source**.  |
+-----------------+-----------------+-----------------+-----------------+
| tcp_timeout     | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the TCP      |
|                 |                 |                 |    session      |
|                 |                 |                 |    timeout      |
|                 |                 |                 |    duration.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **TCP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+
| tcp_draining    | No              | Boolean         | -  Specifies    |
|                 |                 |                 |    whether to   |
|                 |                 |                 |    maintain TCP |
|                 |                 |                 |    connections  |
|                 |                 |                 |    to a backend |
|                 |                 |                 |    ECS that has |
|                 |                 |                 |    been         |
|                 |                 |                 |    removed.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **TCP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    **true** or  |
|                 |                 |                 |    **false**.   |
+-----------------+-----------------+-----------------+-----------------+
| tcp_d           | No              | Integer         | -  Specifies    |
| raining_timeout |                 |                 |    the timeout  |
|                 |                 |                 |    duration for |
|                 |                 |                 |    maintaining  |
|                 |                 |                 |    TCP          |
|                 |                 |                 |    connections  |
|                 |                 |                 |    to a backend |
|                 |                 |                 |    ECS that has |
|                 |                 |                 |    been removed |
|                 |                 |                 |    in the unit  |
|                 |                 |                 |    of minute.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid when   |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to **TCP**  |
|                 |                 |                 | and             |
|                 |                 |                 | *               |
|                 |                 |                 | *tcp_draining** |
|                 |                 |                 | to **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **0** to     |
|                 |                 |                 |    **60**.      |
+-----------------+-----------------+-----------------+-----------------+
| udp_timeout     | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the UDP      |
|                 |                 |                 |    session      |
|                 |                 |                 |    timeout      |
|                 |                 |                 |    duration.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **UDP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+
| ssl_protocols   | No              | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    supported    |
|                 |                 |                 |    SSL/TLS      |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    version.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    available    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS** or |
|                 |                 |                 |    **SSL**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    **TLSv1.2**  |
|                 |                 |                 |    or **TLSv1.2 |
|                 |                 |                 |    TLSv1.1      |
|                 |                 |                 |    TLSv1** and  |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **TLSv1.2**. |
+-----------------+-----------------+-----------------+-----------------+
| ssl_ciphers     | No              | String          | -  Specifies    |
|                 |                 |                 |    the cipher   |
|                 |                 |                 |    suites       |
|                 |                 |                 |    supported by |
|                 |                 |                 |    a specific   |
|                 |                 |                 |    SSL/TLS      |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    version.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    available    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS** or |
|                 |                 |                 |    **SSL**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    **Default**, |
|                 |                 |                 |                 |
|                 |                 |                 |   **Extended**, |
|                 |                 |                 |    or           |
|                 |                 |                 |    **Strict**.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | **Default** is  |
|                 |                 |                 | **E             |
|                 |                 |                 | CDHE-RSA-AES256 |
|                 |                 |                 | -GCM-SHA384:ECD |
|                 |                 |                 | HE-RSA-AES128-G |
|                 |                 |                 | CM-SHA256:ECDHE |
|                 |                 |                 | -RSA-AES256-SHA |
|                 |                 |                 | 384:ECDHE-RSA-A |
|                 |                 |                 | ES128-SHA256**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | **Extended** is |
|                 |                 |                 | **              |
|                 |                 |                 | ECDHE-ECDSA-AES |
|                 |                 |                 | 128-SHA256:ECDH |
|                 |                 |                 | E-RSA-AES128-SH |
|                 |                 |                 | A256:AES128-SHA |
|                 |                 |                 | 256:AES256-SHA2 |
|                 |                 |                 | 56:ECDHE-ECDSA- |
|                 |                 |                 | AES256-SHA384:E |
|                 |                 |                 | CDHE-RSA-AES256 |
|                 |                 |                 | -SHA384:ECDHE-E |
|                 |                 |                 | CDSA-AES128-SHA |
|                 |                 |                 | :ECDHE-RSA-AES1 |
|                 |                 |                 | 28-SHA:DHE-RSA- |
|                 |                 |                 | AES128-SHA:ECDH |
|                 |                 |                 | E-RSA-AES256-SH |
|                 |                 |                 | A:ECDHE-ECDSA-A |
|                 |                 |                 | ES256-SHA:AES12 |
|                 |                 |                 | 8-SHA:AES256-SH |
|                 |                 |                 | A:DHE-DSS-AES12 |
|                 |                 |                 | 8-SHA:CAMELLIA1 |
|                 |                 |                 | 28-SHA:EDH-RSA- |
|                 |                 |                 | DES-CBC3-SHA:DE |
|                 |                 |                 | S-CBC3-SHA:ECDH |
|                 |                 |                 | E-RSA-RC4-SHA:R |
|                 |                 |                 | C4-SHA:DHE-RSA- |
|                 |                 |                 | AES256-SHA:DHE- |
|                 |                 |                 | DSS-AES256-SHA: |
|                 |                 |                 | DHE-RSA-CAMELLI |
|                 |                 |                 | A256-SHA:DHE-DS |
|                 |                 |                 | S-CAMELLIA256-S |
|                 |                 |                 | HA:CAMELLIA256- |
|                 |                 |                 | SHA:EDH-DSS-DES |
|                 |                 |                 | -CBC3-SHA:DHE-R |
|                 |                 |                 | SA-CAMELLIA128- |
|                 |                 |                 | SHA:DHE-DSS-CAM |
|                 |                 |                 | ELLIA128-SHA**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | **Strict** is   |
|                 |                 |                 | **ECDHE-RSA-AES |
|                 |                 |                 | 256-GCM-SHA384: |
|                 |                 |                 | ECDHE-RSA-AES12 |
|                 |                 |                 | 8-GCM-SHA256**. |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **Default**.    |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be set to  |
|                 |                 |                 | **Extended** if |
|                 |                 |                 | **              |
|                 |                 |                 | ssl_protocols** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **TLSv1.2       |
|                 |                 |                 | TLSv1.1         |
|                 |                 |                 | TLSv1**.        |
+-----------------+-----------------+-----------------+-----------------+
| certificate_id  | No              | String          | -  Specifies    |
|                 |                 |                 |    the default  |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    ID. This     |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    when         |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS** or |
|                 |                 |                 |    **SSL**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The ID can   |
|                 |                 |                 |    be obtained  |
|                 |                 |                 |    from the     |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    list.        |
+-----------------+-----------------+-----------------+-----------------+
| certificates    | No              | String          | -  Lists the    |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    IDs if       |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **HTTPS**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory in |
|                 |                 |                 |    the SNI      |
|                 |                 |                 |    scenario.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid only   |
|                 |                 |                 |    when the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer is  |
|                 |                 |                 |    a public     |
|                 |                 |                 |    network load |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+

#. Request

-  Request parameters

None

-  Example request

| {
| "name": "lis",
| "description": "",
| "port": 9090,
| "backend_port": 9090,
| "lb_algorithm": "roundrobin"
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| update_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| backend_port          | Integer               | Specifies the port    |
|                       |                       | used by backend ECSs. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID in UUID   |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| backend_protocol      | String                | Specifies the         |
|                       |                       | protocol used by      |
|                       |                       | backend ECSs.         |
+-----------------------+-----------------------+-----------------------+
| sticky_session_type   | String                | Specifies where the   |
|                       |                       | cookie is from. The   |
|                       |                       | only value is         |
|                       |                       | **insert**,           |
|                       |                       | indicating that the   |
|                       |                       | cookie is inserted by |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    valid when         |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **HTTP**    |
|                       |                       |    and                |
|                       |                       |    **session_sticky** |
|                       |                       |    to **true**.       |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    invalid when       |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **TCP**,    |
|                       |                       |    **SSL**, or        |
|                       |                       |    **UDP**, which     |
|                       |                       |    means that the     |
|                       |                       |    parameter is       |
|                       |                       |    unavailable or its |
|                       |                       |    value is set to    |
|                       |                       |    **null**.          |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_id       | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| status                | String                | Specifies the         |
|                       |                       | listener status. The  |
|                       |                       | value can be          |
|                       |                       | **ACTIVE**,           |
|                       |                       | **PENDING_CREATE**,   |
|                       |                       | or **ERROR**.         |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used for     |
|                       |                       | load balancing at     |
|                       |                       | Layer 4 or Layer 7.   |
+-----------------------+-----------------------+-----------------------+
| port                  | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| cookie_timeout        | Integer               | -  Specifies the      |
|                       |                       |    cookie timeout     |
|                       |                       |    duration. This     |
|                       |                       |    parameter is valid |
|                       |                       |    when               |
|                       |                       |    **session_sticky** |
|                       |                       |    is set to **true** |
|                       |                       |    and                |
|                       |                       |    **                 |
|                       |                       | sticky_session_type** |
|                       |                       |    to **insert**.     |
|                       |                       |                       |
|                       |                       | -  The value ranges   |
|                       |                       |    from **1** to      |
|                       |                       |    **1440**.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | -  Specifies the      |
|                       |                       |    administrative     |
|                       |                       |    status of the load |
|                       |                       |    balancer.          |
|                       |                       |                       |
|                       |                       | -  Two options are    |
|                       |                       |    available:         |
|                       |                       |                       |
|                       |                       | **false**: The load   |
|                       |                       | balancer is disabled. |
|                       |                       |                       |
|                       |                       | **true**: The load    |
|                       |                       | balancer is running   |
|                       |                       | properly.             |
+-----------------------+-----------------------+-----------------------+
| healthcheck_id        | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| session_sticky        | Boolean               | Specifies whether to  |
|                       |                       | enable the sticky     |
|                       |                       | session feature. The  |
|                       |                       | feature is enabled    |
|                       |                       | when the value is     |
|                       |                       | **true**. This        |
|                       |                       | parameter is valid    |
|                       |                       | only when             |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm.  |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| tcp_draining          | Boolean               | -  Specifies whether  |
|                       |                       |    to maintain TCP    |
|                       |                       |    connections to a   |
|                       |                       |    backend ECS that   |
|                       |                       |    has been removed.  |
|                       |                       |    This parameter is  |
|                       |                       |    valid when         |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **TCP**.    |
|                       |                       |                       |
|                       |                       | -  The value can be   |
|                       |                       |    **true** or        |
|                       |                       |    **false**.         |
+-----------------------+-----------------------+-----------------------+
| tcp_draining_timeout  | Integer               | -  Specifies the      |
|                       |                       |    timeout duration   |
|                       |                       |    for maintaining    |
|                       |                       |    TCP connections to |
|                       |                       |    a backend ECS that |
|                       |                       |    has been removed.  |
|                       |                       |    The unit is        |
|                       |                       |    minute.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid when            |
|                       |                       | **protocol** is set   |
|                       |                       | to **TCP** and        |
|                       |                       | **tcp_draining** to   |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | -  The value ranges   |
|                       |                       |    from **0** to      |
|                       |                       |    **60**.            |
+-----------------------+-----------------------+-----------------------+
| certificate_id        | String                | Specifies the ID of   |
|                       |                       | the SSL certificate   |
|                       |                       | for security          |
|                       |                       | authentication.       |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when        |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTPS** or       |
|                       |                       | **SSL**. Otherwise,   |
|                       |                       | the parameter value   |
|                       |                       | is **null**.          |
+-----------------------+-----------------------+-----------------------+
| certificates          | String                | Lists the certificate |
|                       |                       | IDs if **protocol**   |
|                       |                       | is set to **HTTPS**.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory in the SNI  |
|                       |                       | scenario.             |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "update_time": "2016-12-01 07:12:59",
| "backend_port": 9090,
| "id": "a824584fb3ba4d39ba0cf372c7cbbb67",
| "backend_protocol": "TCP",
| "sticky_session_type": null,
| "certificate_id": null,
| "description": "",
| "loadbalancer_id": "f54c65b1b5dd4a4f95b71b44796ac013",
| "create_time": "2016-12-01 07:12:43",
| "admin_state_up": false,
| "status": "ACTIVE",
| "protocol": "TCP",
| "cookie_timeout": 100,
| "port": 9092,
| "tcp_draining": true,
| "tcp_timeout": 1,
| "lb_algorithm": "roundrobin",
| "healthcheck_id": null,
| "session_sticky": true,
| "tcp_draining_timeout": 5,
| "name": "lis"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying Details of a Listener
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query details about a listener.

2. URI

GET /v1.0/{project_id}/elbaas/listeners/{listener_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| update_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| backend_port          | Integer               | Specifies the port    |
|                       |                       | used by backend ECSs. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| backend_protocol      | String                | Specifies the         |
|                       |                       | protocol used by      |
|                       |                       | backend ECSs.         |
+-----------------------+-----------------------+-----------------------+
| sticky_session_type   | String                | Specifies where the   |
|                       |                       | cookie is from. The   |
|                       |                       | only value is         |
|                       |                       | **insert**,           |
|                       |                       | indicating that the   |
|                       |                       | cookie is inserted by |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    valid when         |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **HTTP**    |
|                       |                       |    and                |
|                       |                       |    **session_sticky** |
|                       |                       |    to **true**. The   |
|                       |                       |    default value is   |
|                       |                       |    **insert**.        |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    invalid when       |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **TCP**,    |
|                       |                       |    which means that   |
|                       |                       |    the parameter is   |
|                       |                       |    unavailable or its |
|                       |                       |    value is set to    |
|                       |                       |    **null**.          |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_id       | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| status                | String                | Specifies the         |
|                       |                       | listener status. The  |
|                       |                       | value can be          |
|                       |                       | **ACTIVE**,           |
|                       |                       | **PENDING_CREATE**,   |
|                       |                       | or **ERROR**.         |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used for     |
|                       |                       | load balancing at     |
|                       |                       | Layer 4 or Layer 7.   |
+-----------------------+-----------------------+-----------------------+
| port                  | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| cookie_timeout        | Integer               | -  Specifies the      |
|                       |                       |    cookie timeout     |
|                       |                       |    duration. This     |
|                       |                       |    parameter is valid |
|                       |                       |    when               |
|                       |                       |    **session_sticky** |
|                       |                       |    is set to **true** |
|                       |                       |    and                |
|                       |                       |    **                 |
|                       |                       | sticky_session_type** |
|                       |                       |    to **insert**.     |
|                       |                       |                       |
|                       |                       | -  The value ranges   |
|                       |                       |    from **1** to      |
|                       |                       |    **1440**.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | -  Specifies the      |
|                       |                       |    administrative     |
|                       |                       |    status of the load |
|                       |                       |    balancer.          |
|                       |                       |                       |
|                       |                       | -  Two options are    |
|                       |                       |    available:         |
|                       |                       |                       |
|                       |                       | **false**: The load   |
|                       |                       | balancer is disabled. |
|                       |                       |                       |
|                       |                       | **true**: The load    |
|                       |                       | balancer is running   |
|                       |                       | properly.             |
+-----------------------+-----------------------+-----------------------+
| member_number         | Integer               | Specifies the         |
|                       |                       | quantity of backend   |
|                       |                       | ECSs.                 |
+-----------------------+-----------------------+-----------------------+
| healthcheck_id        | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| session_sticky        | Boolean               | Specifies whether to  |
|                       |                       | enable the sticky     |
|                       |                       | session feature. The  |
|                       |                       | feature is enabled    |
|                       |                       | when the value is     |
|                       |                       | **true**.             |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm.  |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| certificate_id        | String                | Specifies the ID of   |
|                       |                       | the SSL certificate   |
|                       |                       | for security          |
|                       |                       | authentication.       |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when        |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTPS** or       |
|                       |                       | **SSL**. Otherwise,   |
|                       |                       | the parameter value   |
|                       |                       | is **null**.          |
+-----------------------+-----------------------+-----------------------+
| certificates          | String                | Lists the certificate |
|                       |                       | IDs if **protocol**   |
|                       |                       | is set to **HTTPS**.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory in the SNI  |
|                       |                       | scenario.             |
+-----------------------+-----------------------+-----------------------+
| tcp_timeout           | Integer               | Specifies the TCP     |
|                       |                       | session timeout       |
|                       |                       | duration.             |
+-----------------------+-----------------------+-----------------------+
| udp_timeout           | Integer               | Specifies the UDP     |
|                       |                       | session timeout       |
|                       |                       | duration.             |
+-----------------------+-----------------------+-----------------------+
| ssl_protocols         | String                | Specifies the         |
|                       |                       | supported SSL/TLS     |
|                       |                       | protocol version.     |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTPS** or       |
|                       |                       | **SSL**.              |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | For HTTPS listeners   |
|                       |                       | in versions earlier   |
|                       |                       | than 1.2.8, the       |
|                       |                       | parameter value is    |
|                       |                       | **TLSv1.2**.          |
+-----------------------+-----------------------+-----------------------+
| ssl_ciphers           | String                | Specifies the cipher  |
|                       |                       | suite of an           |
|                       |                       | encryption protocol.  |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTPS** or       |
|                       |                       | **SSL**.              |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "update_time": "2015-09-15 07:41:17",
| "backend_port": 80,
| "id": "248425d7b97dc26920eb23720115e068",
| "backend_protocol": "TCP",
| "sticky_session_type": "insert",
| "description": "",
| "loadbalancer_id": "0b07acf06d243925bc24a0ac7445267a",
| "create_time": "2015-09-15 07:41:17",
| "status": "ACTIVE",
| "protocol": "TCP",
| "port": 88,
| "cookie_timeout": 100,
| "admin_state_up": true,
| "member_number": 0,
| "healthcheck_id": null,
| "session_sticky": true,
| "lb_algorithm": "roundrobin",
| "name": "listener1",
| "tcp_draining": true,
| "tcp_draining_timeout": 5
| }

| {
| "update_time": "2016-12-01 07:12:59",
| "backend_port": 9090,
| "id": "a824584fb3ba4d39ba0cf372c7cbbb67",
| "backend_protocol": "TCP",
| "sticky_session_type": null,
| "certificate_id": null,
| "description": "",
| "loadbalancer_id": "f54c65b1b5dd4a4f95b71b44796ac013",
| "lb_algorithm": "roundrobin",
| "create_time": "2016-12-01 07:12:43",
| "admin_state_up": false,
| "status": "ACTIVE",
| "protocol": "TCP",
| "cookie_timeout": 100,
| "port": 9092,
| "tcp_draining": 1,
| "tcp_timeout": 1,
| "member_number": 0,
| "healthcheck_id": null,
| "session_sticky": true,
| "tcp_draining_timeout": 5,
| "name": "lis"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying Listeners
~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query listeners using search criteria and display
them in a list.

2. URI

GET
/v1.0/{project_id}/elbaas/listeners?loadbalancer_id={loadbalancer_id}

.. image:: media/image2.png

Enter a question mark (?) and an ampersand (&) at the end of the URI to
define multiple search criteria. You can filter the listeners using the
parameters in the response except **update_time**, **create_time**,
**admin_state_up**, **session_sticky**, and **member_number**.

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| update_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| backend_port          | Integer               | Specifies the port    |
|                       |                       | used by backend ECSs. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| backend_protocol      | String                | Specifies the         |
|                       |                       | protocol used by      |
|                       |                       | backend ECSs.         |
+-----------------------+-----------------------+-----------------------+
| sticky_session_type   | String                | Specifies where the   |
|                       |                       | cookie is from. The   |
|                       |                       | only value is         |
|                       |                       | **insert**,           |
|                       |                       | indicating that the   |
|                       |                       | cookie is inserted by |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    valid when         |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **HTTP**    |
|                       |                       |    and                |
|                       |                       |    **session_sticky** |
|                       |                       |    to **true**. The   |
|                       |                       |    default value is   |
|                       |                       |    **insert**.        |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    invalid when       |
|                       |                       |    **protocol** is    |
|                       |                       |    set to **TCP**,    |
|                       |                       |    which means that   |
|                       |                       |    the parameter is   |
|                       |                       |    unavailable or its |
|                       |                       |    value is set to    |
|                       |                       |    **null**.          |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_id       | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| status                | String                | Specifies the         |
|                       |                       | listener status. The  |
|                       |                       | value can be          |
|                       |                       | **ACTIVE**,           |
|                       |                       | **PENDING_CREATE**,   |
|                       |                       | or **ERROR**.         |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used for     |
|                       |                       | load balancing at     |
|                       |                       | Layer 4 or Layer 7.   |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm.  |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | -  Specifies the      |
|                       |                       |    administrative     |
|                       |                       |    status of the load |
|                       |                       |    balancer.          |
|                       |                       |                       |
|                       |                       | -  Two options are    |
|                       |                       |    available:         |
|                       |                       |                       |
|                       |                       | **false**: The load   |
|                       |                       | balancer is disabled. |
|                       |                       |                       |
|                       |                       | **true**: The load    |
|                       |                       | balancer is running   |
|                       |                       | properly.             |
+-----------------------+-----------------------+-----------------------+
| cookie_timeout        | Integer               | -  Specifies the      |
|                       |                       |    cookie timeout     |
|                       |                       |    duration. This     |
|                       |                       |    parameter is valid |
|                       |                       |    when               |
|                       |                       |    **session_sticky** |
|                       |                       |    is set to **true** |
|                       |                       |    and                |
|                       |                       |    **                 |
|                       |                       | sticky_session_type** |
|                       |                       |    to **insert**.     |
|                       |                       |                       |
|                       |                       | -  The value ranges   |
|                       |                       |    from **1** to      |
|                       |                       |    **1440**.          |
+-----------------------+-----------------------+-----------------------+
| member_number         | Integer               | Specifies the         |
|                       |                       | quantity of backend   |
|                       |                       | ECSs.                 |
+-----------------------+-----------------------+-----------------------+
| healthcheck_id        | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| session_sticky        | Boolean               | Specifies whether to  |
|                       |                       | enable the sticky     |
|                       |                       | session feature. The  |
|                       |                       | feature is enabled    |
|                       |                       | when the value is     |
|                       |                       | **true**.             |
+-----------------------+-----------------------+-----------------------+
| port                  | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| certificate_id        | String                | Specifies the ID of   |
|                       |                       | the SSL certificate   |
|                       |                       | for security          |
|                       |                       | authentication. This  |
|                       |                       | parameter is          |
|                       |                       | mandatory when        |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTPS** or       |
|                       |                       | **SSL**. Otherwise,   |
|                       |                       | the parameter value   |
|                       |                       | is **null**.          |
+-----------------------+-----------------------+-----------------------+
| certificates          | String                | Lists the certificate |
|                       |                       | IDs if **protocol**   |
|                       |                       | is set to **HTTPS**.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory in the SNI  |
|                       |                       | scenario.             |
+-----------------------+-----------------------+-----------------------+
| tcp_timeout           | Integer               | Specifies the TCP     |
|                       |                       | session timeout       |
|                       |                       | duration.             |
+-----------------------+-----------------------+-----------------------+
| udp_timeout           | Integer               | Specifies the UDP     |
|                       |                       | session timeout       |
|                       |                       | duration.             |
+-----------------------+-----------------------+-----------------------+
| ssl_protocols         | String                | Specifies the         |
|                       |                       | supported SSL/TLS     |
|                       |                       | protocol version.     |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTPS** or       |
|                       |                       | **SSL**.              |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | For HTTPS listeners   |
|                       |                       | in versions earlier   |
|                       |                       | than 1.2.8, the       |
|                       |                       | parameter value is    |
|                       |                       | **TLSv1.2**.          |
+-----------------------+-----------------------+-----------------------+
| ssl_ciphers           | String                | Specifies the cipher  |
|                       |                       | suite of an           |
|                       |                       | encryption protocol.  |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTPS** or       |
|                       |                       | **SSL**.              |
+-----------------------+-----------------------+-----------------------+

-  Example response

| [
| {
| "update_time": "2016-12-01 07:12:59",
| "backend_port": 9090,
| "id": "a824584fb3ba4d39ba0cf372c7cbbb67",
| "backend_protocol": "TCP",
| "sticky_session_type": null,
| "certificate_id": null,
| "description": "",
| "loadbalancer_id": "f54c65b1b5dd4a4f95b71b44796ac013",
| "lb_algorithm": "roundrobin",
| "create_time": "2016-12-01 07:12:43",
| "admin_state_up": false,
| "status": "ACTIVE",
| "protocol": "TCP",
| "cookie_timeout": 100,
| "port": 9092,
| "tcp_draining": true,
| "tcp_timeout": 1,
| "member_number": 0,
| "healthcheck_id": null,
| "session_sticky": true,
| "tcp_draining_timeout": 5,
| "name": "lis"
| },
| {
| "update_time": "2016-12-01 07:11:49",
| "backend_port": 9090,
| "id": "4818300858fc43e0a4d843ce74ee83a4",
| "backend_protocol": "HTTP",
| "sticky_session_type": "insert",
| "certificate_id": null,
| "description": "",
| "loadbalancer_id": "f54c65b1b5dd4a4f95b71b44796ac013",
| "lb_algorithm": "roundrobin",
| "create_time": "2016-12-01 07:11:30",
| "admin_state_up": false,
| "status": "ACTIVE",
| "protocol": "HTTP",
| "cookie_timeout": 100,
| "port": 9091,
| "tcp_draining": true,
| "tcp_timeout": null,
| "member_number": 0,
| "healthcheck_id": null,
| "session_sticky": true,
| "tcp_draining_timeout": 5,
| "name": "lis"
| }
| ]

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Health Check
------------

1. .. rubric:: Configuring a Health Check
      :name: configuring-a-health-check

   #. Function

This API is used to configure a health check for backend ECSs.

2. URI

POST /v1.0/{project_id}/elbaas/healthcheck

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener with   |
|                 |                 |                 | which the       |
|                 |                 |                 | health check is |
|                 |                 |                 | associated.     |
+-----------------+-----------------+-----------------+-----------------+
| healt           | No              | String          | -  Specifies    |
| hcheck_protocol |                 |                 |    the health   |
|                 |                 |                 |    check        |
|                 |                 |                 |    protocol. A  |
|                 |                 |                 |    listener     |
|                 |                 |                 |    using UDP is |
|                 |                 |                 |    not allowed  |
|                 |                 |                 |    for a        |
|                 |                 |                 |    private      |
|                 |                 |                 |    network load |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    **HTTP**,    |
|                 |                 |                 |    **TCP**, or  |
|                 |                 |                 |    **UDP**.     |
+-----------------+-----------------+-----------------+-----------------+
| healthcheck_uri | No              | String          | -  Specifies    |
|                 |                 |                 |    the health   |
|                 |                 |                 |    check URI.   |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **healthc    |
|                 |                 |                 | heck_protocol** |
|                 |                 |                 |    is **HTTP**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 80      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that must    |
|                 |                 |                 |    start with a |
|                 |                 |                 |    slash (/)    |
|                 |                 |                 |    and can      |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    such as      |
|                 |                 |                 |    -/.%?#&_=    |
+-----------------+-----------------+-----------------+-----------------+
| healthche       | No              | Integer         | -  Specifies    |
| ck_connect_port |                 |                 |    the health   |
|                 |                 |                 |    check port.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  The port     |
|                 |                 |                 |    number       |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    1 to 65535.  |
+-----------------+-----------------+-----------------+-----------------+
| he              | No              | Integer         | -  Specifies    |
| althy_threshold |                 |                 |    the number   |
|                 |                 |                 |    of           |
|                 |                 |                 |    consecutive  |
|                 |                 |                 |    health       |
|                 |                 |                 |    checks when  |
|                 |                 |                 |    the health   |
|                 |                 |                 |    check result |
|                 |                 |                 |    of a backend |
|                 |                 |                 |    ECS changes  |
|                 |                 |                 |    from         |
|                 |                 |                 |    **fail** to  |
|                 |                 |                 |    **success**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **10**.      |
+-----------------+-----------------+-----------------+-----------------+
| unhe            | No              | Integer         | -  Specifies    |
| althy_threshold |                 |                 |    the number   |
|                 |                 |                 |    of           |
|                 |                 |                 |    consecutive  |
|                 |                 |                 |    health       |
|                 |                 |                 |    checks when  |
|                 |                 |                 |    the health   |
|                 |                 |                 |    check result |
|                 |                 |                 |    of a backend |
|                 |                 |                 |    ECS changes  |
|                 |                 |                 |    from         |
|                 |                 |                 |    **success**  |
|                 |                 |                 |    to **fail**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **10**.      |
+-----------------+-----------------+-----------------+-----------------+
| heal            | No              | Integer         | -  Specifies    |
| thcheck_timeout |                 |                 |    the maximum  |
|                 |                 |                 |    time         |
|                 |                 |                 |    required for |
|                 |                 |                 |    waiting for  |
|                 |                 |                 |    a response   |
|                 |                 |                 |    from the     |
|                 |                 |                 |    health check |
|                 |                 |                 |    in the unit  |
|                 |                 |                 |    of second.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **50**.      |
+-----------------+-----------------+-----------------+-----------------+
| healt           | No              | Integer         | -  Specifies    |
| hcheck_interval |                 |                 |    the maximum  |
|                 |                 |                 |    time between |
|                 |                 |                 |    health       |
|                 |                 |                 |    checks in    |
|                 |                 |                 |    the unit of  |
|                 |                 |                 |    second.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **50**.      |
+-----------------+-----------------+-----------------+-----------------+

#. Request

-  Request parameters

None

-  Example request 1: Configuring an HTTP health check

| {
| "healthcheck_connect_port": 80,
| "healthcheck_interval": 5,
| "healthcheck_protocol": "HTTP",
| "healthcheck_timeout": 10,
| "healthcheck_uri": "/",
| "healthy_threshold": 3,
| "listener_id": "3ce8c4429478a5eb6ef4930de2d75b28",
| "unhealthy_threshold": 3
| }

-  Example request 2: Configuring a TCP health check

| {
| "healthcheck_connect_port": 80,
| "healthcheck_interval": 5,
| "healthcheck_protocol": "TCP",
| "healthcheck_timeout": 10,
| "healthcheck_uri": "",
| "healthy_threshold": 3,
| "listener_id": "3ce8c4429478a5eb6ef4930de2d75b28",
| "unhealthy_threshold": 3
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthcheck_interval  | Integer               | Specifies the maximum |
|                       |                       | time between health   |
|                       |                       | checks in the unit of |
|                       |                       | second.               |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener with     |
|                       |                       | which the health      |
|                       |                       | check is associated.  |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| healthcheck_protocol  | String                | Specifies the health  |
|                       |                       | check protocol.       |
+-----------------------+-----------------------+-----------------------+
| unhealthy_threshold   | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend ECS      |
|                       |                       | changes from          |
|                       |                       | **success** to        |
|                       |                       | **fail**.             |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the health check |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the health check |
|                       |                       | was configured.       |
+-----------------------+-----------------------+-----------------------+
| hea                   | Integer               | Specifies the health  |
| lthcheck_connect_port |                       | check port.           |
+-----------------------+-----------------------+-----------------------+
| healthcheck_timeout   | Integer               | Specifies the maximum |
|                       |                       | time required for     |
|                       |                       | waiting for a         |
|                       |                       | response from the     |
|                       |                       | health check in the   |
|                       |                       | unit of second.       |
+-----------------------+-----------------------+-----------------------+
| healthcheck_uri       | String                | Specifies the health  |
|                       |                       | check URI. This       |
|                       |                       | parameter is valid    |
|                       |                       | when                  |
|                       |                       | **h                   |
|                       |                       | ealthcheck_protocol** |
|                       |                       | is **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| healthy_threshold     | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend ECS      |
|                       |                       | changes from **fail** |
|                       |                       | to **success**.       |
+-----------------------+-----------------------+-----------------------+

-  Example response 1: Configuring an HTTP health check

| {
| *"*\ healthcheck_interval\ *"*:5,
| "listener_id":"3ce8c4429478a5eb6ef4930de2d75b28",
| "id":"134e5ea962327c6a574b83e6e7f31f35",
| "healthcheck_protocol":"HTTP",
| "unhealthy_threshold":3,
| "update_time":"2015-12-25 03:57:23",
| "create_time":"2015-12-25 03:57:23",
| "healthcheck_connect_port":80,
| "healthcheck_timeout":10,
| "healthcheck_uri":"\/",
| "healthy_threshold":3
| }

-  Example response 2: Configuring a TCP health check

| {
| "healthcheck_interval":5,
| "listener_id":"3ce8c4429478a5eb6ef4930de2d75b28",
| "id":"134e5ea962327c6a574b83e6e7f31f35",
| "healthcheck_protocol":"TCP",
| "unhealthy_threshold":3,
| "update_time":"2015-12-25 03:57:23",
| "create_time":"2015-12-25 03:57:23",
| "healthcheck_connect_port":80,
| "healthcheck_timeout":10,
| "healthcheck_uri":"",
| "healthy_threshold":3
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Deleting a Health Check
~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to delete a health check.

2. URI

DELETE /v1.0/{project_id}/elbaas/healthcheck/{healthcheck_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| healthcheck_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

None

-  Example response

None

#. Status Code

-  Normal

204

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Modifying a Health Check
~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to modify information about a health check.

2. URI

PUT /v1.0/{project_id}/elbaas/healthcheck/{healthcheck_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| healthcheck_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| healt           | No              | String          | -  Specifies    |
| hcheck_protocol |                 |                 |    the health   |
|                 |                 |                 |    check        |
|                 |                 |                 |    protocol.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    **HTTP** or  |
|                 |                 |                 |    **TCP**      |
|                 |                 |                 |    (cas         |
|                 |                 |                 | e-insensitive). |
+-----------------+-----------------+-----------------+-----------------+
| healthcheck_uri | No              | String          | -  Specifies    |
|                 |                 |                 |    the health   |
|                 |                 |                 |    check URI.   |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid when   |
|                 |                 |                 |    **healthc    |
|                 |                 |                 | heck_protocol** |
|                 |                 |                 |    is **HTTP**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 80      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that must    |
|                 |                 |                 |    start with a |
|                 |                 |                 |    slash (/)    |
|                 |                 |                 |    and can      |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    such as      |
|                 |                 |                 |    -/.%?#&_=    |
+-----------------+-----------------+-----------------+-----------------+
| healthche       | No              | Integer         | -  Specifies    |
| ck_connect_port |                 |                 |    the health   |
|                 |                 |                 |    check port.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  The port     |
|                 |                 |                 |    number       |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    1 to 65535.  |
+-----------------+-----------------+-----------------+-----------------+
| he              | No              | Integer         | -  Specifies    |
| althy_threshold |                 |                 |    the number   |
|                 |                 |                 |    of           |
|                 |                 |                 |    consecutive  |
|                 |                 |                 |    health       |
|                 |                 |                 |    checks when  |
|                 |                 |                 |    the health   |
|                 |                 |                 |    check result |
|                 |                 |                 |    of a backend |
|                 |                 |                 |    ECS changes  |
|                 |                 |                 |    from         |
|                 |                 |                 |    **fail** to  |
|                 |                 |                 |    **success**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **10**.      |
+-----------------+-----------------+-----------------+-----------------+
| unhe            | No              | Integer         | -  Specifies    |
| althy_threshold |                 |                 |    the number   |
|                 |                 |                 |    of           |
|                 |                 |                 |    consecutive  |
|                 |                 |                 |    health       |
|                 |                 |                 |    checks when  |
|                 |                 |                 |    the health   |
|                 |                 |                 |    check result |
|                 |                 |                 |    of a backend |
|                 |                 |                 |    ECS changes  |
|                 |                 |                 |    from         |
|                 |                 |                 |    **success**  |
|                 |                 |                 |    to **fail**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **10**.      |
+-----------------+-----------------+-----------------+-----------------+
| heal            | No              | Integer         | -  Specifies    |
| thcheck_timeout |                 |                 |    the maximum  |
|                 |                 |                 |    time         |
|                 |                 |                 |    required for |
|                 |                 |                 |    waiting for  |
|                 |                 |                 |    a response   |
|                 |                 |                 |    from the     |
|                 |                 |                 |    health check |
|                 |                 |                 |    in the unit  |
|                 |                 |                 |    of second.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **50**.      |
+-----------------+-----------------+-----------------+-----------------+
| healt           | No              | Integer         | -  Specifies    |
| hcheck_interval |                 |                 |    the maximum  |
|                 |                 |                 |    time between |
|                 |                 |                 |    health       |
|                 |                 |                 |    checks in    |
|                 |                 |                 |    the unit of  |
|                 |                 |                 |    second.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **50**.      |
+-----------------+-----------------+-----------------+-----------------+

#. Request

-  Request parameters

None

-  Example request

| {
| "healthcheck_connect_port": 88,
| "healthcheck_interval": 5,
| "healthcheck_protocol": "HTTP",
| "healthcheck_timeout": 10,
| "healthcheck_uri": "/",
| "healthy_threshold": 3,
| "unhealthy_threshold": 2
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthcheck_interval  | Integer               | Specifies the maximum |
|                       |                       | time between health   |
|                       |                       | checks in the unit of |
|                       |                       | second.               |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener with     |
|                       |                       | which the health      |
|                       |                       | check is associated.  |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| healthcheck_protocol  | String                | Specifies the health  |
|                       |                       | check protocol.       |
+-----------------------+-----------------------+-----------------------+
| unhealthy_threshold   | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend ECS      |
|                       |                       | changes from          |
|                       |                       | **success** to        |
|                       |                       | **fail**.             |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the health check |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| hea                   | Integer               | Specifies the health  |
| lthcheck_connect_port |                       | check port.           |
+-----------------------+-----------------------+-----------------------+
| healthcheck_timeout   | Integer               | Specifies the maximum |
|                       |                       | time required for     |
|                       |                       | waiting for a         |
|                       |                       | response from the     |
|                       |                       | health check in the   |
|                       |                       | unit of second.       |
+-----------------------+-----------------------+-----------------------+
| healthcheck_uri       | String                | Specifies the health  |
|                       |                       | check URI. This       |
|                       |                       | parameter is valid    |
|                       |                       | when                  |
|                       |                       | **h                   |
|                       |                       | ealthcheck_protocol** |
|                       |                       | is **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| healthy_threshold     | Integer               | Specifies the         |
|                       |                       | threshold at which    |
|                       |                       | the health check      |
|                       |                       | result is             |
|                       |                       | **success**, that is, |
|                       |                       | the number of         |
|                       |                       | consecutive           |
|                       |                       | successful health     |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend ECS      |
|                       |                       | changes from **fail** |
|                       |                       | to **success**.       |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "healthcheck_interval": 5,
| "listener_id": "3ce8c4429478a5eb6ef4930de2d75b28",
| "id": "134e5ea962327c6a574b83e6e7f31f35",
| "healthcheck_protocol": "HTTP",
| "unhealthy_threshold": 2,
| "update_time": "2015-12-25 03:57:23",
| "create_time": "2015-12-25 03:57:23",
| "healthcheck_connect_port": 88,
| "healthcheck_timeout": 10,
| "healthcheck_uri": "/",
| "healthy_threshold": 3
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying Details of a Health Check
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query details about a health check.

2. URI

GET /v1.0/{project_id}/elbaas/healthcheck/{healthcheck_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| healthcheck_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthcheck_interval  | Integer               | Specifies the maximum |
|                       |                       | time between health   |
|                       |                       | checks in the unit of |
|                       |                       | second.               |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener with     |
|                       |                       | which the health      |
|                       |                       | check is associated.  |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| healthcheck_protocol  | String                | Specifies the health  |
|                       |                       | check protocol.       |
+-----------------------+-----------------------+-----------------------+
| unhealthy_threshold   | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend ECS      |
|                       |                       | changes from          |
|                       |                       | **success** to        |
|                       |                       | **fail**.             |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the health check |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the health check |
|                       |                       | was configured.       |
+-----------------------+-----------------------+-----------------------+
| hea                   | Integer               | Specifies the health  |
| lthcheck_connect_port |                       | check port.           |
+-----------------------+-----------------------+-----------------------+
| healthcheck_timeout   | Integer               | Specifies the maximum |
|                       |                       | time required for     |
|                       |                       | waiting for a         |
|                       |                       | response from the     |
|                       |                       | health check in the   |
|                       |                       | unit of second.       |
+-----------------------+-----------------------+-----------------------+
| healthcheck_uri       | String                | Specifies the health  |
|                       |                       | check URI. This       |
|                       |                       | parameter is valid    |
|                       |                       | when                  |
|                       |                       | **h                   |
|                       |                       | ealthcheck_protocol** |
|                       |                       | is **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| healthy_threshold     | Integer               | Specifies the         |
|                       |                       | threshold at which    |
|                       |                       | the health check      |
|                       |                       | result is             |
|                       |                       | **success**, that is, |
|                       |                       | the number of         |
|                       |                       | consecutive           |
|                       |                       | successful health     |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend ECS      |
|                       |                       | changes from **fail** |
|                       |                       | to **success**.       |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "healthcheck_interval": 5,
| "listener_id": "3ce8c4429478a5eb6ef4930de2d75b28",
| "id": "134e5ea962327c6a574b83e6e7f31f35",
| "healthcheck_protocol": "HTTP",
| "unhealthy_threshold": 2,
| "update_time": "2015-12-25 03:57:23",
| "create_time": "2015-12-25 03:57:23",
| "healthcheck_connect_port": 88,
| "healthcheck_timeout": 10,
| "healthcheck_uri": "/",
| "healthy_threshold": 3
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Backend ECS
-----------

1. .. rubric:: Adding Backend ECSs
      :name: adding-backend-ecss

   #. Function

This API is used to add backend ECSs to a listener for monitoring.

To add backend ECSs to a UDP listener, IP addresses can be pinged and
UDP services must be enabled.

2. URI

POST /v1.0/{project_id}/elbaas/listeners/{listener_id}/members

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+
| server_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | backend ECS ID. |
+-----------------+-----------------+-----------------+-----------------+
| address         | Yes             | String          | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend ECS.    |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

| [
| {
| "server_id": "dbecb618-2259-405f-ab17-9b68c4f541b0",
| "address": "172.16.0.31"
| }
| ]

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| uri                   | String                | Specifies the URI of  |
|                       |                       | the job for adding a  |
|                       |                       | backend ECS. It is    |
|                       |                       | returned by Combined  |
|                       |                       | API.                  |
+-----------------------+-----------------------+-----------------------+
| job_id                | String                | Specifies the unique  |
|                       |                       | ID assigned to the    |
|                       |                       | job for adding a      |
|                       |                       | backend ECS in        |
|                       |                       | Combined API.         |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "uri":
  "/v1/55300f3c8f764c06b1a32e2302edc305/jobs/4010b39b4fd3d5ff014fd3ec3ed8002d",
| "job_id": "4010b39b4fd3d5ff014fd3ec3ed8002d"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Removing Backend ECSs
~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to remove backend ECSs from a listener. Multiple
backend ECSs can be removed concurrently.

2. URI

POST /v1.0/{project_id}/elbaas/listeners/{listener_id}/members/action

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+
| removeMember    | Yes             | Array           | Lists the       |
|                 |                 |                 | removed backend |
|                 |                 |                 | ECSs.           |
+-----------------+-----------------+-----------------+-----------------+

2. **removeMember** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| id              | Yes             | String          | Specifies the   |
|                 |                 |                 | backend ECS ID. |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

| {
| "removeMember": [
| {
| "id": "34695d664b182fa69b98228032b0e239"
| }
| ]
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| uri                   | String                | Specifies the URI     |
|                       |                       | returned by Combined  |
|                       |                       | API after the job for |
|                       |                       | removing a backend    |
|                       |                       | ECS is delivered.     |
+-----------------------+-----------------------+-----------------------+
| job_id                | String                | Specifies the unique  |
|                       |                       | ID assigned to the    |
|                       |                       | job for removing a    |
|                       |                       | backend ECS in        |
|                       |                       | Combined API.         |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "uri":
  "/v1/55300f3c8f764c06b1a32e2302edc305/jobs/4010b39b4fd3d5ff014fd3f160fd006c",
| "job_id": "4010b39b4fd3d5ff014fd3f160fd006c"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying Backend ECSs
~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query backend ECSs added to a listener. If you are
the administrator, the backend ECS list will be empty.

2. URI

GET
/v1.0/{project_id}/elbaas/listeners/{listener_id}/members?limit=10&marker=0

.. image:: media/image2.png

Enter a question mark (?) and an ampersand (&) at the end of the URI to
define multiple search criteria. This API allows filtering backend ECSs
by each parameter in the response message except **listeners**,
**server_name**, **update_time**, and **create_time**.

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | resource ID of  |
|                 |                 |                 | pagination      |
|                 |                 |                 | query. If the   |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank,     |
|                 |                 |                 | only resources  |
|                 |                 |                 | on the first    |
|                 |                 |                 | page are        |
|                 |                 |                 | queried.        |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| server_address        | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | backend ECS.          |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | ECS ID.               |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the         |
|                       |                       | floating IP address   |
|                       |                       | assigned to the       |
|                       |                       | backend ECS.          |
+-----------------------+-----------------------+-----------------------+
| status                | String                | Specifies the status  |
|                       |                       | of the backend ECS.   |
|                       |                       | The value can be      |
|                       |                       | **ACTIVE**,           |
|                       |                       | **PENDING**, or       |
|                       |                       | **ERROR**.            |
+-----------------------+-----------------------+-----------------------+
| health_status         | String                | Specifies the health  |
|                       |                       | check result. The     |
|                       |                       | value is **NORMAL**,  |
|                       |                       | **ABNORMAL**, or      |
|                       |                       | **UNAVAILABLE**.      |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the backend ECS  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the backend ECS  |
|                       |                       | was added.            |
+-----------------------+-----------------------+-----------------------+
| server_name           | String                | Specifies the backend |
|                       |                       | ECS name.             |
+-----------------------+-----------------------+-----------------------+
| server_id             | String                | Specifies the backend |
|                       |                       | ECS ID.               |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Specifies the         |
|                       |                       | listener with which   |
|                       |                       | the backend ECS is    |
|                       |                       | associated.           |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener with which   |
|                       |                       | the backend ECS is    |
|                       |                       | associated.           |
+-----------------------+-----------------------+-----------------------+

-  Example response

| [
| {
| "server_address": "172.16.0.16",
| "id": "4ac8777333bc20777147ab160ea61baf",
| "status": "ACTIVE",
| "address": "100.64.27.96",
| "listeners": [
| {
| "id": "65093734fb966b3d70f6af26cc63e125"
| },
| {
| "id": "a659fe780a542e1adf204db767a021a3"
| }
| ],
| "update_time": "2015-12-28 10:35:51",
| "create_time": "2015-12-28 10:35:50",
| "server_name": null,
| "server_id": "97444148-7afb-47cc-b4a3-6e1c94d1ade4",
| "health_status": "NORMAL"
| },
| {
| "server_address": "172.16.0.15",
| "id": "d8a21f107a19d7bd1d05a1f764eb623a",
| "status": "ACTIVE",
| "address": "100.64.27.95",
| "listeners": [
| {
| "id": "65093734fb966b3d70f6af26cc63e125"
| },
| {
| "id": "a659fe780a542e1adf204db767a021a3"
| }
| ],
| "update_time": "2015-12-28 10:35:51",
| "create_time": "2015-12-28 10:35:50",
| "server_name": null,
| "server_id": "05b731db-d457-41dc-a824-862daba91a59",
| "health_status": "ABNORMAL"
| }
| ]

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Quota
-----

1. .. rubric:: Querying Load Balancer or Listener Quotas
      :name: querying-load-balancer-or-listener-quotas

   #. Function

This API is used to query the load balancer or listener quotas.

2. URI

GET /v1.0/{project_id}/elbaas/quotas

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| quotas                | Object                | Specifies the         |
|                       |                       | resource quotas.      |
+-----------------------+-----------------------+-----------------------+

2. **quotas** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| resources             | Array                 | Lists the resource    |
|                       |                       | quotas.               |
+-----------------------+-----------------------+-----------------------+

3. **resources** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| type                  | String                | Specifies the         |
|                       |                       | resource type. The    |
|                       |                       | value can be **elb**  |
|                       |                       | or **listener**.      |
+-----------------------+-----------------------+-----------------------+
| used                  | Integer               | Specifies the         |
|                       |                       | quantity of used      |
|                       |                       | resources.            |
+-----------------------+-----------------------+-----------------------+
| quota                 | Integer               | Specifies the total   |
|                       |                       | resource quotas.      |
+-----------------------+-----------------------+-----------------------+
| max                   | Integer               | Specifies the maximum |
|                       |                       | number of resources.  |
+-----------------------+-----------------------+-----------------------+
| min                   | Integer               | Specifies the minimum |
|                       |                       | number of resources.  |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "quotas": {
| "resources": [
| {
| "type": "elb",
| "used": 2,
| "quota": 5,
| "max": 100,
| "min": 1
| },
| {
| "type": "listener",
| "quota": 5,
| "max": 200,
| "min": 1
| }
| ]
| }
| }

.. image:: media/image2.png

The **used** parameter is unavailable for listeners, for which an empty
character string is returned.

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Certificate
-----------

1. .. rubric:: Creating a Certificate
      :name: creating-a-certificate

   #. Function

This API is used to create a certificate for an HTTPS listener.

2. URI

POST /v1.0/{project_id}/elbaas/certificate

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    name.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    0 to 64      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that consist |
|                 |                 |                 |    of letters,  |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    underscores  |
|                 |                 |                 |    (_), and     |
|                 |                 |                 |    hyphens (-). |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | -  Provides     |
|                 |                 |                 |                 |
|                 |                 |                 |   supplementary |
|                 |                 |                 |    information  |
|                 |                 |                 |    about the    |
|                 |                 |                 |    certificate. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    contains a   |
|                 |                 |                 |    maximum of   |
|                 |                 |                 |    128          |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and cannot   |
|                 |                 |                 |    contain      |
|                 |                 |                 |    angle        |
|                 |                 |                 |    brackets (<  |
|                 |                 |                 |    and >).      |
+-----------------+-----------------+-----------------+-----------------+
| domain          | No              | String          | -  Specifies    |
|                 |                 |                 |    the domain   |
|                 |                 |                 |    name         |
|                 |                 |                 |    associated   |
|                 |                 |                 |    with the     |
|                 |                 |                 |    server       |
|                 |                 |                 |    certificate. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    254          |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that consist |
|                 |                 |                 |    of letters,  |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with         |
|                 |                 |                 |    uppercase    |
|                 |                 |                 |    letters or   |
|                 |                 |                 |    digits.      |
+-----------------+-----------------+-----------------+-----------------+
| certificate     | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    content.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    in PEM       |
|                 |                 |                 |    coding       |
|                 |                 |                 |    format.      |
+-----------------+-----------------+-----------------+-----------------+
| private_key     | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the private  |
|                 |                 |                 |    key of the   |
|                 |                 |                 |    certificate. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    in PEM       |
|                 |                 |                 |    coding       |
|                 |                 |                 |    format.      |
+-----------------+-----------------+-----------------+-----------------+

#. Request

-  Request parameters

None

-  Example request

| {
| "name": "cert-bky",
| "description": "certificate",
| "certificate": "-----BEGIN
  CERTIFICATE-----\nMIIDXTCCAkWgAwIBAgIJANoPUy2NktS6MA0GCSqGSIb3DQEBBQUAMEUxCzAJBgNV\nBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX\naWRnaXRzIFB0eSBMdGQwHhcNMTYwNjIyMDMyOTU5WhcNMTkwNjIyMDMyOTU5WjBF\nMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50\nZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB\nCgKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP64DjDPny9\n+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQhIOIaP1Y\nNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcsS5v3kw88\n9gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39cHX/NpIHC\nHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTams0ThvSlZ\no6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABo1AwTjAdBgNVHQ4EFgQUlXhcABza\n2SdXPYpp8RkWvKblCNIwHwYDVR0jBBgwFoAUlXhcABza2SdXPYpp8RkWvKblCNIw\nDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOCAQEAHmsFDOwbkD45PF4oYdX+\ncCoEGNjsLfi0spJ6b1CHQMEy2tPqYZJh8nGuUtB9Zd7+rbwm6NS38eGQVA5vbWZH\nMk+uq5un7YFwkM+fdjgCxbe/3PMkk/ZDYPHhpc1W8e/+aZVUBB2EpfzBC6tcP/DV\nSsjq+tG+JZIVADMxvEqVIF94JMpuY7o6U74SnUUrAi0h9GkWmeYh/Ucb3PLMe5sF\noZriRdAKc96KB0eUphfWZNtptOCqV6qtYqZZ/UCotp99xzrDkf8jGkm/iBljxb+v\n0NTg8JwfmykCj63YhTKpHf0+N/EK5yX1KUYtlkLaf8OPlsp/1lqAL6CdnydGEd/s\nAA==\n-----END
  CERTIFICATE-----",
| "private_key": "-----BEGIN RSA PRIVATE
  KEY-----\nMIIEpAIBAAKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP6\n4DjDPny9+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQ\nhIOIaP1YNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcs\nS5v3kw889gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39c\nHX/NpIHCHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTam\ns0ThvSlZo6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABAoIBACV47rpHuxEza24O\nevbbFI9OQIcs8xA26dN1j/+HpAkzinB4o5V+XOWWZDQwbYu58hYE4NYjqf6AxHk3\nOCqAA9yKH2NXhSEyLkP7/rKDF7geZg/YtwNiR/NXTJbNXl4p8VTaVvAq3yey188x\nJCMrd1yWSsOWD2Qw7iaIBpqQIzdEovPE4CG6GmaIRSuqYuoCfbVTFa6YST7jmOTv\nEpG+x6yJZzJ4o0vvfKbKfvPmQizjL+3nAW9g+kgXJmA1xTujiky7bzm2sLK2Slrx\n5rY73mXMElseSlhkYzWwyRmC6M+rWALXqOhVDgIGbaBV4IOzuyH/CUt0wy3ZMIpv\nMOWMNoECgYEA1LHsepCmwjlDF3yf/OztCr/DYqM4HjAY6FTmH+xz1Zjd5R1XOq60\nYFRkhs/e2D6M/gSX6hMqS9sCkg25yRJk3CsPeoS9v5MoiZQA8XlQNovcpWUI2DCm\naZRIsdovFgIqMHYh/Y4CYouee7Nz7foICzO9svrYrbOIVmMwDVJ8vzMCgYEA0ebg\nm0lCuOunyxaSBqOv4Q4sk7Ix0702dIrW0tsUJyU+xuXYH1P/0m+t4/KUU2cNwsg3\njiNzQR9QKvF8yTB5TB4Ye/9dKlu+BEOskvCpuErxc6iVJ+TZOrQDDPNcq56qez5b\nvv9EDdgzpjkjO+hS1j3kYOuG11hrP4Pox4PijqECgYEAz6RTZORKqFoWsZss5VK3\np0LGkEkfw/jYmBgqAQhpnSD7n20hd1yPI2vAKAxPVXTbWDFLzWygYiWRQNy9fxrB\n9F7lYYqtY5VagdVHhnYUZOvtoFoeZFA6ZeAph9elGCtM3Lq3PD2i/mmncsQibTUn\nHSiKDWzuk8UtWIjEpHze5BkCgYEAifD9eG+bzqTnn1qU2pIl2nQTLXj0r97v84Tu\niqF4zAT5DYMtFeGBBI1qLJxVh7342CH2CI4ZhxmJ+L68sAcQH8rDcnGui1DBPlIv\nDl3kW3280bJfW1lUvPRh8NfZ9dsO1HF1n75nveVwg/OWyR7zmWIRPPRrqAeua45H\nox5z/CECgYBqwlEBjue8oOkVVu/lKi6fo6jr+0u25K9dp9azHYwE0KNHX0MwRALw\nWbPgcjge23sfhbeqVvHo0JYBdRsk/OBuW73/9Sb5E+6auDoubCjC0cAIvs23MPju\nsMvKak4mQkI19foRXBydB/DDkK26iei/l0xoygrw50v2HErsQ7JcHw==\n-----END
  RSA PRIVATE KEY-----"
| }

#. Response

-  Response parameters

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| tenant_id             | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | name associated with  |
|                       |                       | the server            |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the         |
|                       |                       | certificate content.  |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the            |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "name":*"cert-bky",*
| "description":*"certificate",*
| "certificate":*"*-----BEGIN
  CERTIFICATE-----\nMIIDXTCCAkWgAwIBAgIJANoPUy2NktS6MA0GCSqGSIb3DQEBBQUAMEUxCzAJBgNV\nBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX\naWRnaXRzIFB0eSBMdGQwHhcNMTYwNjIyMDMyOTU5WhcNMTkwNjIyMDMyOTU5WjBF\nMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50\nZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB\nCgKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP64DjDPny9\n+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQhIOIaP1Y\nNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcsS5v3kw88\n9gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39cHX/NpIHC\nHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTams0ThvSlZ\no6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABo1AwTjAdBgNVHQ4EFgQUlXhcABza\n2SdXPYpp8RkWvKblCNIwHwYDVR0jBBgwFoAUlXhcABza2SdXPYpp8RkWvKblCNIw\nDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOCAQEAHmsFDOwbkD45PF4oYdX+\ncCoEGNjsLfi0spJ6b1CHQMEy2tPqYZJh8nGuUtB9Zd7+rbwm6NS38eGQVA5vbWZH\nMk+uq5un7YFwkM+fdjgCxbe/3PMkk/ZDYPHhpc1W8e/+aZVUBB2EpfzBC6tcP/DV\nSsjq+tG+JZIVADMxvEqVIF94JMpuY7o6U74SnUUrAi0h9GkWmeYh/Ucb3PLMe5sF\noZriRdAKc96KB0eUphfWZNtptOCqV6qtYqZZ/UCotp99xzrDkf8jGkm/iBljxb+v\n0NTg8JwfmykCj63YhTKpHf0+N/EK5yX1KUYtlkLaf8OPlsp/1lqAL6CdnydGEd/s\nAA==\n-----END
  CERTIFICATE-----*",*
| "private_key":*"*-----BEGIN RSA PRIVATE
  KEY-----\nMIIEpAIBAAKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP6\n4DjDPny9+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQ\nhIOIaP1YNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcs\nS5v3kw889gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39c\nHX/NpIHCHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTam\ns0ThvSlZo6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABAoIBACV47rpHuxEza24O\nevbbFI9OQIcs8xA26dN1j/+HpAkzinB4o5V+XOWWZDQwbYu58hYE4NYjqf6AxHk3\nOCqAA9yKH2NXhSEyLkP7/rKDF7geZg/YtwNiR/NXTJbNXl4p8VTaVvAq3yey188x\nJCMrd1yWSsOWD2Qw7iaIBpqQIzdEovPE4CG6GmaIRSuqYuoCfbVTFa6YST7jmOTv\nEpG+x6yJZzJ4o0vvfKbKfvPmQizjL+3nAW9g+kgXJmA1xTujiky7bzm2sLK2Slrx\n5rY73mXMElseSlhkYzWwyRmC6M+rWALXqOhVDgIGbaBV4IOzuyH/CUt0wy3ZMIpv\nMOWMNoECgYEA1LHsepCmwjlDF3yf/OztCr/DYqM4HjAY6FTmH+xz1Zjd5R1XOq60\nYFRkhs/e2D6M/gSX6hMqS9sCkg25yRJk3CsPeoS9v5MoiZQA8XlQNovcpWUI2DCm\naZRIsdovFgIqMHYh/Y4CYouee7Nz7foICzO9svrYrbOIVmMwDVJ8vzMCgYEA0ebg\nm0lCuOunyxaSBqOv4Q4sk7Ix0702dIrW0tsUJyU+xuXYH1P/0m+t4/KUU2cNwsg3\njiNzQR9QKvF8yTB5TB4Ye/9dKlu+BEOskvCpuErxc6iVJ+TZOrQDDPNcq56qez5b\nvv9EDdgzpjkjO+hS1j3kYOuG11hrP4Pox4PijqECgYEAz6RTZORKqFoWsZss5VK3\np0LGkEkfw/jYmBgqAQhpnSD7n20hd1yPI2vAKAxPVXTbWDFLzWygYiWRQNy9fxrB\n9F7lYYqtY5VagdVHhnYUZOvtoFoeZFA6ZeAph9elGCtM3Lq3PD2i/mmncsQibTUn\nHSiKDWzuk8UtWIjEpHze5BkCgYEAifD9eG+bzqTnn1qU2pIl2nQTLXj0r97v84Tu\niqF4zAT5DYMtFeGBBI1qLJxVh7342CH2CI4ZhxmJ+L68sAcQH8rDcnGui1DBPlIv\nDl3kW3280bJfW1lUvPRh8NfZ9dsO1HF1n75nveVwg/OWyR7zmWIRPPRrqAeua45H\nox5z/CECgYBqwlEBjue8oOkVVu/lKi6fo6jr+0u25K9dp9azHYwE0KNHX0MwRALw\nWbPgcjge23sfhbeqVvHo0JYBdRsk/OBuW73/9Sb5E+6auDoubCjC0cAIvs23MPju\nsMvKak4mQkI19foRXBydB/DDkK26iei/l0xoygrw50v2HErsQ7JcHw==\n-----END
  RSA PRIVATE KEY-----*",*
| "tenant_id":*"ed9edbc66b8b47c09f5d2fcd89430b33",*
| "id":*"5b8f908b5495452aa13beede0afc5d99",*
| "create_time":*"2016-06-27 08:14:42",*
| "update_time":*"2016-06-27 08:14:42"*
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Deleting a Certificate
~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to delete a certificate.

2. URI

DELETE /v1.0/{project_id}/elbaas/certificate/{certificate_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| certificate_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

None

-  Example response

None

#. Status Code

-  Normal

204

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Modifying a Certificate
~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to modify the name and description of a certificate.

2. URI

PUT /v1.0/{project_id}/elbaas/certificate/{certificate_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| certificate_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    certificate  |
|                 |                 |                 |    name.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    0 to 64      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that consist |
|                 |                 |                 |    of letters,  |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    underscores  |
|                 |                 |                 |    (_), and     |
|                 |                 |                 |    hyphens (-). |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | -  Provides     |
|                 |                 |                 |                 |
|                 |                 |                 |   supplementary |
|                 |                 |                 |    information  |
|                 |                 |                 |    about the    |
|                 |                 |                 |    certificate. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    contains a   |
|                 |                 |                 |    maximum of   |
|                 |                 |                 |    128          |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and cannot   |
|                 |                 |                 |    contain      |
|                 |                 |                 |    angle        |
|                 |                 |                 |    brackets (<  |
|                 |                 |                 |    and >).      |
+-----------------+-----------------+-----------------+-----------------+

#. Request

-  Request parameters

None

-  Example request

| {
| "name": "cert-bky",
| "description": "certificate"
| }

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | name associated with  |
|                       |                       | the server            |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the         |
|                       |                       | certificate content.  |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the            |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "name": "cert-bky",
| "description": "certificate",
| "domain": null,
| "certificate": "-----BEGIN
  CERTIFICATE-----\nMIIDXTCCAkWgAwIBAgIJANoPUy2NktS6MA0GCSqGSIb3DQEBBQUAMEUxCzAJBgNV\nBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX\naWRnaXRzIFB0eSBMdGQwHhcNMTYwNjIyMDMyOTU5WhcNMTkwNjIyMDMyOTU5WjBF\nMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50\nZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB\nCgKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP64DjDPny9\n+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQhIOIaP1Y\nNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcsS5v3kw88\n9gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39cHX/NpIHC\nHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTams0ThvSlZ\no6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABo1AwTjAdBgNVHQ4EFgQUlXhcABza\n2SdXPYpp8RkWvKblCNIwHwYDVR0jBBgwFoAUlXhcABza2SdXPYpp8RkWvKblCNIw\nDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOCAQEAHmsFDOwbkD45PF4oYdX+\ncCoEGNjsLfi0spJ6b1CHQMEy2tPqYZJh8nGuUtB9Zd7+rbwm6NS38eGQVA5vbWZH\nMk+uq5un7YFwkM+fdjgCxbe/3PMkk/ZDYPHhpc1W8e/+aZVUBB2EpfzBC6tcP/DV\nSsjq+tG+JZIVADMxvEqVIF94JMpuY7o6U74SnUUrAi0h9GkWmeYh/Ucb3PLMe5sF\noZriRdAKc96KB0eUphfWZNtptOCqV6qtYqZZ/UCotp99xzrDkf8jGkm/iBljxb+v\n0NTg8JwfmykCj63YhTKpHf0+N/EK5yX1KUYtlkLaf8OPlsp/1lqAL6CdnydGEd/s\nAA==\n-----END
  CERTIFICATE-----",
| "private_key": "-----BEGIN RSA PRIVATE
  KEY-----\nMIIEpAIBAAKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP6\n4DjDPny9+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQ\nhIOIaP1YNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcs\nS5v3kw889gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39c\nHX/NpIHCHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTam\ns0ThvSlZo6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABAoIBACV47rpHuxEza24O\nevbbFI9OQIcs8xA26dN1j/+HpAkzinB4o5V+XOWWZDQwbYu58hYE4NYjqf6AxHk3\nOCqAA9yKH2NXhSEyLkP7/rKDF7geZg/YtwNiR/NXTJbNXl4p8VTaVvAq3yey188x\nJCMrd1yWSsOWD2Qw7iaIBpqQIzdEovPE4CG6GmaIRSuqYuoCfbVTFa6YST7jmOTv\nEpG+x6yJZzJ4o0vvfKbKfvPmQizjL+3nAW9g+kgXJmA1xTujiky7bzm2sLK2Slrx\n5rY73mXMElseSlhkYzWwyRmC6M+rWALXqOhVDgIGbaBV4IOzuyH/CUt0wy3ZMIpv\nMOWMNoECgYEA1LHsepCmwjlDF3yf/OztCr/DYqM4HjAY6FTmH+xz1Zjd5R1XOq60\nYFRkhs/e2D6M/gSX6hMqS9sCkg25yRJk3CsPeoS9v5MoiZQA8XlQNovcpWUI2DCm\naZRIsdovFgIqMHYh/Y4CYouee7Nz7foICzO9svrYrbOIVmMwDVJ8vzMCgYEA0ebg\nm0lCuOunyxaSBqOv4Q4sk7Ix0702dIrW0tsUJyU+xuXYH1P/0m+t4/KUU2cNwsg3\njiNzQR9QKvF8yTB5TB4Ye/9dKlu+BEOskvCpuErxc6iVJ+TZOrQDDPNcq56qez5b\nvv9EDdgzpjkjO+hS1j3kYOuG11hrP4Pox4PijqECgYEAz6RTZORKqFoWsZss5VK3\np0LGkEkfw/jYmBgqAQhpnSD7n20hd1yPI2vAKAxPVXTbWDFLzWygYiWRQNy9fxrB\n9F7lYYqtY5VagdVHhnYUZOvtoFoeZFA6ZeAph9elGCtM3Lq3PD2i/mmncsQibTUn\nHSiKDWzuk8UtWIjEpHze5BkCgYEAifD9eG+bzqTnn1qU2pIl2nQTLXj0r97v84Tu\niqF4zAT5DYMtFeGBBI1qLJxVh7342CH2CI4ZhxmJ+L68sAcQH8rDcnGui1DBPlIv\nDl3kW3280bJfW1lUvPRh8NfZ9dsO1HF1n75nveVwg/OWyR7zmWIRPPRrqAeua45H\nox5z/CECgYBqwlEBjue8oOkVVu/lKi6fo6jr+0u25K9dp9azHYwE0KNHX0MwRALw\nWbPgcjge23sfhbeqVvHo0JYBdRsk/OBuW73/9Sb5E+6auDoubCjC0cAIvs23MPju\nsMvKak4mQkI19foRXBydB/DDkK26iei/l0xoygrw50v2HErsQ7JcHw==\n-----END
  RSA PRIVATE KEY-----",
| "id": "5b8f908b5495452aa13beede0afc5d99",
| "create_time": "2016-06-27 08:14:42",
| "update_time": "2016-06-27 08:14:42"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying Certificates
~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query all the certificates.

2. URI

GET /v1.0/{project_id}/elbaas/certificate

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| certificates          | Array                 | Lists the             |
|                       |                       | certificates.         |
+-----------------------+-----------------------+-----------------------+
| instance_num          | String                | Specifies the number  |
|                       |                       | of certificates.      |
+-----------------------+-----------------------+-----------------------+

2. **certificates** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | name associated with  |
|                       |                       | the server            |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the         |
|                       |                       | certificate content.  |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the            |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "certificates": [
| {
| "name": "cert-bky",
| "description": "certificate",
| "domain": null,
| "certificate": "-----BEGIN
  CERTIFICATE-----\nMIIDXTCCAkWgAwIBAgIJANoPUy2NktS6MA0GCSqGSIb3DQEBBQUAMEUxCzAJBgNV\nBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX\naWRnaXRzIFB0eSBMdGQwHhcNMTYwNjIyMDMyOTU5WhcNMTkwNjIyMDMyOTU5WjBF\nMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50\nZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB\nCgKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP64DjDPny9\n+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQhIOIaP1Y\nNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcsS5v3kw88\n9gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39cHX/NpIHC\nHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTams0ThvSlZ\no6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABo1AwTjAdBgNVHQ4EFgQUlXhcABza\n2SdXPYpp8RkWvKblCNIwHwYDVR0jBBgwFoAUlXhcABza2SdXPYpp8RkWvKblCNIw\nDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOCAQEAHmsFDOwbkD45PF4oYdX+\ncCoEGNjsLfi0spJ6b1CHQMEy2tPqYZJh8nGuUtB9Zd7+rbwm6NS38eGQVA5vbWZH\nMk+uq5un7YFwkM+fdjgCxbe/3PMkk/ZDYPHhpc1W8e/+aZVUBB2EpfzBC6tcP/DV\nSsjq+tG+JZIVADMxvEqVIF94JMpuY7o6U74SnUUrAi0h9GkWmeYh/Ucb3PLMe5sF\noZriRdAKc96KB0eUphfWZNtptOCqV6qtYqZZ/UCotp99xzrDkf8jGkm/iBljxb+v\n0NTg8JwfmykCj63YhTKpHf0+N/EK5yX1KUYtlkLaf8OPlsp/1lqAL6CdnydGEd/s\nAA==\n-----END
  CERTIFICATE-----",
| "private_key": "-----BEGIN RSA PRIVATE
  KEY-----\nMIIEpAIBAAKCAQEArmUUhzm5sxxVr/ku4+6cKqnKgZvDl+e/6CNCAq8YMZXTpJP6\n4DjDPny9+8s9MbFabEG3HqjHSKh3b/Ew3FXr8LFa9YuWuAi3W9ii29sZsOwmzIfQ\nhIOIaP1YNR50DDjbAGTaxzRhV40ZKSOCkaUTvl3do5d8ttD1VlF2r0w0DfclrVcs\nS5v3kw889gJ3s3hNkatfQiSt4qLNMehZ8Xofx58DIAOk/f3Vusj3372PsJwKX39c\nHX/NpIHCHKE8qaGCpDqv0daH766eJ065dqO9DuorXPaPT/nxw4PAccb9fByLrTam\ns0ThvSlZo6V3yvHR4KN7mmvbViEmWRy+9oiJEwIDAQABAoIBACV47rpHuxEza24O\nevbbFI9OQIcs8xA26dN1j/+HpAkzinB4o5V+XOWWZDQwbYu58hYE4NYjqf6AxHk3\nOCqAA9yKH2NXhSEyLkP7/rKDF7geZg/YtwNiR/NXTJbNXl4p8VTaVvAq3yey188x\nJCMrd1yWSsOWD2Qw7iaIBpqQIzdEovPE4CG6GmaIRSuqYuoCfbVTFa6YST7jmOTv\nEpG+x6yJZzJ4o0vvfKbKfvPmQizjL+3nAW9g+kgXJmA1xTujiky7bzm2sLK2Slrx\n5rY73mXMElseSlhkYzWwyRmC6M+rWALXqOhVDgIGbaBV4IOzuyH/CUt0wy3ZMIpv\nMOWMNoECgYEA1LHsepCmwjlDF3yf/OztCr/DYqM4HjAY6FTmH+xz1Zjd5R1XOq60\nYFRkhs/e2D6M/gSX6hMqS9sCkg25yRJk3CsPeoS9v5MoiZQA8XlQNovcpWUI2DCm\naZRIsdovFgIqMHYh/Y4CYouee7Nz7foICzO9svrYrbOIVmMwDVJ8vzMCgYEA0ebg\nm0lCuOunyxaSBqOv4Q4sk7Ix0702dIrW0tsUJyU+xuXYH1P/0m+t4/KUU2cNwsg3\njiNzQR9QKvF8yTB5TB4Ye/9dKlu+BEOskvCpuErxc6iVJ+TZOrQDDPNcq56qez5b\nvv9EDdgzpjkjO+hS1j3kYOuG11hrP4Pox4PijqECgYEAz6RTZORKqFoWsZss5VK3\np0LGkEkfw/jYmBgqAQhpnSD7n20hd1yPI2vAKAxPVXTbWDFLzWygYiWRQNy9fxrB\n9F7lYYqtY5VagdVHhnYUZOvtoFoeZFA6ZeAph9elGCtM3Lq3PD2i/mmncsQibTUn\nHSiKDWzuk8UtWIjEpHze5BkCgYEAifD9eG+bzqTnn1qU2pIl2nQTLXj0r97v84Tu\niqF4zAT5DYMtFeGBBI1qLJxVh7342CH2CI4ZhxmJ+L68sAcQH8rDcnGui1DBPlIv\nDl3kW3280bJfW1lUvPRh8NfZ9dsO1HF1n75nveVwg/OWyR7zmWIRPPRrqAeua45H\nox5z/CECgYBqwlEBjue8oOkVVu/lKi6fo6jr+0u25K9dp9azHYwE0KNHX0MwRALw\nWbPgcjge23sfhbeqVvHo0JYBdRsk/OBuW73/9Sb5E+6auDoubCjC0cAIvs23MPju\nsMvKak4mQkI19foRXBydB/DDkK26iei/l0xoygrw50v2HErsQ7JcHw==\n-----END
  RSA PRIVATE KEY-----",
| "id": "5b8f908b5495452aa13beede0afc5d99",
| "create_time": "2016-06-27 08:14:42",
| "update_time": "2016-06-27 08:14:42"
| }
| ],
| "instance_num": "1"
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | badRequest            | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | unauthorized          | Authentication        |
|                       |                       | failed.               |
+-----------------------+-----------------------+-----------------------+
| 403                   | userDisabled          | You do not have the   |
|                       |                       | permission to perform |
|                       |                       | the operation.        |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested page    |
|                       |                       | does not exist.       |
+-----------------------+-----------------------+-----------------------+
| 500                   | authFault             | System error.         |
+-----------------------+-----------------------+-----------------------+
| 503                   | serviceUnavailable    | The service is        |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying the Job Status
-----------------------

#. Function

This API is used to query the job status, such as the execution status
of creating or deleting a load balancer.

2. URI

GET /v1.0/{project_id}/jobs/{job_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| job_id          | Yes             | String          | Specifies the   |
|                 |                 |                 | job ID.         |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| status          | Yes             | String          | Specifies the   |
|                 |                 |                 | job status.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **SUCCESS**: |
|                 |                 |                 |    The job was  |
|                 |                 |                 |    successfully |
|                 |                 |                 |    executed.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **RUNNING**: |
|                 |                 |                 |    The job is   |
|                 |                 |                 |    in progress. |
|                 |                 |                 |                 |
|                 |                 |                 | -  **FAIL**:    |
|                 |                 |                 |    The job      |
|                 |                 |                 |    failed.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **INIT**:    |
|                 |                 |                 |    The job is   |
|                 |                 |                 |    being        |
|                 |                 |                 |    initialized. |
+-----------------+-----------------+-----------------+-----------------+
| entities        | Yes             | Object          | Specifies the   |
|                 |                 |                 | response to the |
|                 |                 |                 | job. Each type  |
|                 |                 |                 | of job has      |
|                 |                 |                 | different       |
|                 |                 |                 | contents.       |
+-----------------+-----------------+-----------------+-----------------+
| job_id          | Yes             | String          | Specifies the   |
|                 |                 |                 | job ID.         |
+-----------------+-----------------+-----------------+-----------------+
| job_type        | Yes             | String          | Specifies the   |
|                 |                 |                 | job type.       |
+-----------------+-----------------+-----------------+-----------------+
| begin_time      | Yes             | String          | Specifies the   |
|                 |                 |                 | time when the   |
|                 |                 |                 | job started.    |
+-----------------+-----------------+-----------------+-----------------+
| end_time        | Yes             | String          | Specifies the   |
|                 |                 |                 | time when the   |
|                 |                 |                 | job ended.      |
+-----------------+-----------------+-----------------+-----------------+
| error_code      | Yes             | String          | Specifies the   |
|                 |                 |                 | error code      |
|                 |                 |                 | returned after  |
|                 |                 |                 | the job fails   |
|                 |                 |                 | to execute.     |
+-----------------+-----------------+-----------------+-----------------+
| fail_reason     | Yes             | String          | Indicates the   |
|                 |                 |                 | cause of the    |
|                 |                 |                 | execution       |
|                 |                 |                 | failure.        |
+-----------------+-----------------+-----------------+-----------------+
| message         | No              | String          | Specifies the   |
|                 |                 |                 | message         |
|                 |                 |                 | returned when   |
|                 |                 |                 | an error        |
|                 |                 |                 | occurs.         |
+-----------------+-----------------+-----------------+-----------------+
| code            | No              | String          | Specifies the   |
|                 |                 |                 | error code      |
|                 |                 |                 | returned when   |
|                 |                 |                 | an error        |
|                 |                 |                 | occurs.         |
|                 |                 |                 |                 |
|                 |                 |                 | For details of  |
|                 |                 |                 | error code, see |
|                 |                 |                 | `Error          |
|                 |                 |                 | Codes <#e       |
|                 |                 |                 | rror-codes>`__. |
+-----------------+-----------------+-----------------+-----------------+
| sub_jobs        | No              | String          | Specifies the   |
|                 |                 |                 | execution       |
|                 |                 |                 | information of  |
|                 |                 |                 | a subjob. When  |
|                 |                 |                 | no subjob       |
|                 |                 |                 | exists, the     |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left empty. The |
|                 |                 |                 | structure of    |
|                 |                 |                 | each subjob is  |
|                 |                 |                 | similar to that |
|                 |                 |                 | of the parent   |
|                 |                 |                 | job.            |
+-----------------+-----------------+-----------------+-----------------+

-  Example response

| {
| "status": "SUCCESS",
| "entities":
| {
| "elb":
| {
| "id": "ef265755daf84333baf4ddc1d91cbc2f",
| "name": "1",
| "type": "External",
| "status": "ACTIVE",
| "bandwidth": 1,
| "vip_address": "10.154.53.4",
| "tenant_id": "cbc08e2f8c354c7aa7abb88d0a7d11dc",
| "admin_state_up": false,
| "vpc_id": "21838be1-c1ce-4c09-9184-228cdb43038d"
| }
| },
| "job_id": "ff8080825ecc523f015ecd0a98f82f77",
| "job_type": "createELB",
| "begin_time": "2017-09-29T09:49:37.399Z",
| "end_time": "2017-09-29T09:50:03.272Z",
| "error_code": null,
| "fail_reason": null
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | Bad Request           | The server failed to  |
|                       |                       | process the request.  |
+-----------------------+-----------------------+-----------------------+
| 401                   | Unauthorized          | You must enter a      |
|                       |                       | username and the      |
|                       |                       | password to access    |
|                       |                       | the requested page.   |
+-----------------------+-----------------------+-----------------------+
| 403                   | Forbidden             | You are forbidden to  |
|                       |                       | access the requested  |
|                       |                       | page.                 |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The server could not  |
|                       |                       | find the requested    |
|                       |                       | page.                 |
+-----------------------+-----------------------+-----------------------+
| 405                   | Method Not Allowed    | You are not allowed   |
|                       |                       | to use the method     |
|                       |                       | specified in the      |
|                       |                       | request.              |
+-----------------------+-----------------------+-----------------------+
| 406                   | Not Acceptable        | Response generated by |
|                       |                       | the server is not     |
|                       |                       | acceptable to the     |
|                       |                       | client.               |
+-----------------------+-----------------------+-----------------------+
| 407                   | Proxy Authentication  | You must use the      |
|                       | Required              | proxy server for      |
|                       |                       | authentication so     |
|                       |                       | that the request can  |
|                       |                       | be processed.         |
+-----------------------+-----------------------+-----------------------+
| 408                   | Request Timeout       | The request timed     |
|                       |                       | out.                  |
+-----------------------+-----------------------+-----------------------+
| 409                   | Conflict              | The request could not |
|                       |                       | be processed due to a |
|                       |                       | conflict.             |
+-----------------------+-----------------------+-----------------------+
| 500                   | Internal Server Error | Failed to complete    |
|                       |                       | the request because   |
|                       |                       | of an internal        |
|                       |                       | service error.        |
+-----------------------+-----------------------+-----------------------+
| 501                   | Not Implemented       | Failed to complete    |
|                       |                       | the request because   |
|                       |                       | the server does not   |
|                       |                       | support the requested |
|                       |                       | function.             |
+-----------------------+-----------------------+-----------------------+
| 502                   | Bad Gateway           | Failed to complete    |
|                       |                       | the request because   |
|                       |                       | the server has        |
|                       |                       | received an invalid   |
|                       |                       | response.             |
+-----------------------+-----------------------+-----------------------+
| 503                   | Service Unavailable   | Failed to complete    |
|                       |                       | the request because   |
|                       |                       | the system is out of  |
|                       |                       | service temporarily.  |
+-----------------------+-----------------------+-----------------------+
| 504                   | Gateway Timeout       | A gateway timeout     |
|                       |                       | error occurred.       |
+-----------------------+-----------------------+-----------------------+

Querying Monitoring Metrics
---------------------------

#. Function

This API is used to query all metrics at Layer 4 and Layer 7.

Only users can query these metrics.

2. URI

GET /v1.0/{project_id}/elbaas/monitor

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| act_conn              | Integer               | Specifies the number  |
|                       |                       | of active             |
|                       |                       | connections.          |
+-----------------------+-----------------------+-----------------------+
| cps                   | Integer               | Specifies the number  |
|                       |                       | of concurrent         |
|                       |                       | connections.          |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the report  |
|                       |                       | time.                 |
+-----------------------+-----------------------+-----------------------+
| in_Bps                | Integer               | Specifies the inbound |
|                       |                       | rate (bytes/s).       |
+-----------------------+-----------------------+-----------------------+
| in_pps                | Integer               | Specifies the number  |
|                       |                       | of incoming data      |
|                       |                       | packets.              |
+-----------------------+-----------------------+-----------------------+
| inact_conn            | Integer               | Specifies the number  |
|                       |                       | of inactive           |
|                       |                       | connections.          |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_id       | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_ip       | String                | Specifies the load    |
|                       |                       | balancer IP address.  |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_name     | String                | Specifies the load    |
|                       |                       | balancer name.        |
+-----------------------+-----------------------+-----------------------+
| ncps                  | Integer               | Specifies the number  |
|                       |                       | of new connections.   |
+-----------------------+-----------------------+-----------------------+
| out_Bps               | Integer               | Specifies the         |
|                       |                       | outbound rate         |
|                       |                       | (bytes/s).            |
+-----------------------+-----------------------+-----------------------+
| out_pps               | Integer               | Specifies the number  |
|                       |                       | of outgoing data      |
|                       |                       | packets.              |
+-----------------------+-----------------------+-----------------------+

-  Example response

| [
| {
| "act_conn": 0,
| "cps": 0,
| "create_time": "2016-05-20 16:46:49",
| "in_Bps": 0,
| "in_pps": 0,
| "inact_conn": 0,
| "loadbalancer_id": "34cf6520808d4766ae1455586ab94ba8",
| "loadbalancer_ip": "10.10.1.233",
| "loadbalancer_name": "lb0721",
| "ncps": 0,
| "out_Bps": 0,
| "out_pps": 0
| },
| {
| "act_conn": 0,
| "cps": 0,
| "create_time": "2016-05-20 16:46:49",
| "in_Bps": 0,
| "in_pps": 0,
| "inact_conn": 0,
| "loadbalancer_id": "b44533cce271437bb692365b0c450543",
| "loadbalancer_ip": "10.10.1.253",
| "loadbalancer_name": "lb0721",
| "ncps": 0,
| "out_Bps": 0,
| "out_pps": 0
| }
| ]

API Version
-----------

1. .. rubric:: Querying All API Versions
      :name: querying-all-api-versions

   #. Function

This API is used to query all API versions of ELB.

2. URI

GET /

3. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| versions              | Array                 | Lists all API         |
|                       |                       | versions.             |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the version |
|                       |                       | ID, for example,      |
|                       |                       | **v1**.               |
+-----------------------+-----------------------+-----------------------+
| links                 | Array                 | Specifies the API     |
|                       |                       | URL.                  |
+-----------------------+-----------------------+-----------------------+
| href                  | String                | Specifies the         |
|                       |                       | reference address of  |
|                       |                       | the current API       |
|                       |                       | version.              |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the         |
|                       |                       | relationship between  |
|                       |                       | the current API       |
|                       |                       | version and the       |
|                       |                       | referenced address.   |
+-----------------------+-----------------------+-----------------------+
| version               | String                | Specifies the         |
|                       |                       | version. If minor     |
|                       |                       | versions are          |
|                       |                       | supported, set this   |
|                       |                       | parameter to the      |
|                       |                       | latest minor version. |
|                       |                       | If minor versions are |
|                       |                       | not supported, leave  |
|                       |                       | this parameter blank. |
+-----------------------+-----------------------+-----------------------+
| status                | String                | Specifies the version |
|                       |                       | status. Options are   |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | -  **CURRENT**:       |
|                       |                       |    indicates the      |
|                       |                       |    major version.     |
|                       |                       |                       |
|                       |                       | -  **SUPPORTED**:     |
|                       |                       |    indicates that the |
|                       |                       |    version is an old  |
|                       |                       |    one, but it is     |
|                       |                       |    still supported.   |
|                       |                       |                       |
|                       |                       | -  **DEPRECATED**:    |
|                       |                       |    indicates a        |
|                       |                       |    deprecated version |
|                       |                       |    which may be       |
|                       |                       |    deleted later.     |
+-----------------------+-----------------------+-----------------------+
| updated               | String                | Specifies the version |
|                       |                       | release time, which   |
|                       |                       | must be the UTC time. |
|                       |                       | For example, the      |
|                       |                       | release time of v1 is |
|                       |                       | 2014-06-28T12:20:21Z. |
+-----------------------+-----------------------+-----------------------+
| min_version           | String                | Specifies the minor   |
|                       |                       | version. If minor     |
|                       |                       | versions are          |
|                       |                       | supported, set this   |
|                       |                       | parameter to the      |
|                       |                       | earliest minor        |
|                       |                       | version. If minor     |
|                       |                       | versions are not      |
|                       |                       | supported, leave this |
|                       |                       | parameter blank.      |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "versions": [
| {
| "id": "v1.0",
| "links": [
| {
| "href": "https://{elb_endpoint}/v1.0/",
| "rel": "self"
| }
| ],
| "min_version": "",
| "status": "CURRENT",
| "updated": "2018-09-30T00:00:00Z",
| "version": ""
| }
| ]
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | Bad Request           | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | Unauthorized          | The authentication    |
|                       |                       | information is not    |
|                       |                       | provided or is        |
|                       |                       | incorrect.            |
+-----------------------+-----------------------+-----------------------+
| 403                   | Forbidden             | The request was       |
|                       |                       | forbidden.            |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested         |
|                       |                       | resource does not     |
|                       |                       | exist.                |
+-----------------------+-----------------------+-----------------------+
| 408                   | Request Timeout       | The request timed     |
|                       |                       | out.                  |
+-----------------------+-----------------------+-----------------------+
| 429                   | Too Many Requests     | The number requests   |
|                       |                       | exceeded the upper    |
|                       |                       | limit.                |
+-----------------------+-----------------------+-----------------------+
| 500                   | Internal Server Error | Failed to complete    |
|                       |                       | the request because   |
|                       |                       | of an internal        |
|                       |                       | service error.        |
+-----------------------+-----------------------+-----------------------+
| 503                   | Service Unavailable   | The service is        |
|                       |                       | currently             |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Querying a Specific API Version
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Function

This API is used to query a specific ELB API version.

2. URI

GET /{api_version}

1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Mandatory             | Description           |
+=======================+=======================+=======================+
| api_version           | Yes                   | Specifies the API     |
|                       |                       | version.              |
+-----------------------+-----------------------+-----------------------+

-  **Example**

/v1.0

#. Request

-  Request parameters

None

-  Example request

None

#. Response

-  Response parameters

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| version               | Object                | Specifies the API     |
|                       |                       | version.              |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the version |
|                       |                       | ID, for example,      |
|                       |                       | **v1**.               |
+-----------------------+-----------------------+-----------------------+
| links                 | Array                 | Specifies the API     |
|                       |                       | URL.                  |
+-----------------------+-----------------------+-----------------------+
| href                  | String                | Specifies the         |
|                       |                       | reference address of  |
|                       |                       | the current API       |
|                       |                       | version.              |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the         |
|                       |                       | relationship between  |
|                       |                       | the current API       |
|                       |                       | version and the       |
|                       |                       | referenced address.   |
+-----------------------+-----------------------+-----------------------+
| version               | String                | Specifies the         |
|                       |                       | version. If minor     |
|                       |                       | versions are          |
|                       |                       | supported, set this   |
|                       |                       | parameter to the      |
|                       |                       | latest minor version. |
|                       |                       | If minor versions are |
|                       |                       | not supported, leave  |
|                       |                       | this parameter blank. |
+-----------------------+-----------------------+-----------------------+
| status                | String                | Specifies the version |
|                       |                       | status. Options are   |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | -  **CURRENT**:       |
|                       |                       |    indicates the      |
|                       |                       |    major version.     |
|                       |                       |                       |
|                       |                       | -  **SUPPORTED**:     |
|                       |                       |    indicates that the |
|                       |                       |    version is an old  |
|                       |                       |    one, but it is     |
|                       |                       |    still supported.   |
|                       |                       |                       |
|                       |                       | -  **DEPRECATED**:    |
|                       |                       |    indicates a        |
|                       |                       |    deprecated version |
|                       |                       |    which may be       |
|                       |                       |    deleted later.     |
+-----------------------+-----------------------+-----------------------+
| updated               | String                | Specifies the version |
|                       |                       | release time, which   |
|                       |                       | must be the UTC time. |
|                       |                       | For example, the      |
|                       |                       | release time of v1 is |
|                       |                       | 2014-06-28T12:20:21Z. |
+-----------------------+-----------------------+-----------------------+
| min_version           | String                | Specifies the minor   |
|                       |                       | version. If minor     |
|                       |                       | versions are          |
|                       |                       | supported, set this   |
|                       |                       | parameter to the      |
|                       |                       | earliest minor        |
|                       |                       | version. If minor     |
|                       |                       | versions are not      |
|                       |                       | supported, leave this |
|                       |                       | parameter blank.      |
+-----------------------+-----------------------+-----------------------+

-  Example response

| {
| "version": {
| "id": "v1.0",
| "links": [
| {
| "href": "https://{elb_endpoint}/v1.0/",
| "rel": "self"
| }
| ],
| "min_version": "",
| "status": "CURRENT",
| "updated": "2018-09-30T00:00:00Z",
| "version": ""
| }
| }

#. Status Code

-  Normal

200

-  Error

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 400                   | Bad Request           | Request error.        |
+-----------------------+-----------------------+-----------------------+
| 401                   | Unauthorized          | The authentication    |
|                       |                       | information is not    |
|                       |                       | provided or is        |
|                       |                       | incorrect.            |
+-----------------------+-----------------------+-----------------------+
| 403                   | Forbidden             | The request was       |
|                       |                       | forbidden.            |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The requested         |
|                       |                       | resource does not     |
|                       |                       | exist.                |
+-----------------------+-----------------------+-----------------------+
| 408                   | Request Timeout       | The request timed     |
|                       |                       | out.                  |
+-----------------------+-----------------------+-----------------------+
| 429                   | Too Many Requests     | The number requests   |
|                       |                       | exceeded the upper    |
|                       |                       | limit.                |
+-----------------------+-----------------------+-----------------------+
| 500                   | Internal Server Error | Failed to complete    |
|                       |                       | the request because   |
|                       |                       | of an internal        |
|                       |                       | service error.        |
+-----------------------+-----------------------+-----------------------+
| 503                   | Service Unavailable   | The service is        |
|                       |                       | currently             |
|                       |                       | unavailable.          |
+-----------------------+-----------------------+-----------------------+

Shared Load Balancer APIs
=========================

.. _api-call-precaution-1:

API Call Precaution
-------------------

By default, load balancers created in the **eu-de** region are shared
load balancers. APIs for shared load balancers are only available in
this region. Shared load balancers and dedicated load balancers are
called elastic load balancers collectively.

.. _load-balancer-1:

Load Balancer
-------------

1. .. rubric:: Creating a Load Balancer
      :name: creating-a-load-balancer-1

   #. Function

This API is used to create a private network load balancer. After the
load balancer is created, its details, such as load balancer ID, IP
address, and subnet ID, are returned.

To create a public network load balancer, you also need to call the API
for assigning an EIP and associate this IP address to the port bound to
the IP address of the private network load balancer.

2. URI

POST /v2.0/lbaas/loadbalancers

3. Request

   1. Request parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer    | Yes             | Object          | Specifies the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table 3-2.  |
+-----------------+-----------------+-----------------+-----------------+

2. **loadbalancer** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
+-----------------+-----------------+-----------------+-----------------+
| vip_subnet_id   | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
|                 |                 |                 | You can obtain  |
|                 |                 |                 | the value by    |
|                 |                 |                 | calling the API |
|                 |                 |                 | for querying    |
|                 |                 |                 | subnets {VPC    |
|                 |                 |                 | endpoint        |
|                 |                 |                 | }/v2.0/subnets} |
|                 |                 |                 | using the GET   |
|                 |                 |                 | method.         |
|                 |                 |                 |                 |
|                 |                 |                 | The private IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is in this      |
|                 |                 |                 | subnet.         |
|                 |                 |                 |                 |
|                 |                 |                 | Only IPv4       |
|                 |                 |                 | subnets are     |
|                 |                 |                 | supported. IPv6 |
|                 |                 |                 | subnets are not |
|                 |                 |                 | supported.      |
+-----------------+-----------------+-----------------+-----------------+
| provider        | No              | String          | Specifies the   |
|                 |                 |                 | provider of the |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **vlb**.        |
+-----------------+-----------------+-----------------+-----------------+
| vip_address     | No              | String          | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | This IP address |
|                 |                 |                 | must be the one |
|                 |                 |                 | in the subnet   |
|                 |                 |                 | specified by    |
|                 |                 |                 | **v             |
|                 |                 |                 | ip_subnet_id**. |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not specified,  |
|                 |                 |                 | an IP address   |
|                 |                 |                 | is              |
|                 |                 |                 | automatically   |
|                 |                 |                 | assigned to the |
|                 |                 |                 | load balancer   |
|                 |                 |                 | from the subnet |
|                 |                 |                 | specified by    |
|                 |                 |                 | **v             |
|                 |                 |                 | ip_subnet_id**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+

4. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancer          | Object                | Specifies the load    |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-4.                  |
+-----------------------+-----------------------+-----------------------+

2. **loadbalancer** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | load balancer is      |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_id         | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | private IP address of |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | When you create a     |
|                       |                       | load balancer, the    |
|                       |                       | system automatically  |
|                       |                       | creates a port and    |
|                       |                       | associates it with a  |
|                       |                       | security group.       |
|                       |                       | However, the security |
|                       |                       | group will not take   |
|                       |                       | effect.               |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners added to    |
|                       |                       | the load balancer.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-5.            |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Lists the IDs of      |
|                       |                       | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer. For    |
|                       |                       | details, see Table    |
|                       |                       | 3-6.                  |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Lists load balancer   |
|                       |                       | tags.                 |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+

1. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Creating a private network load balancer

| POST https://{Endpoint}/v2.0/lbaas/loadbalancers
| {
| "loadbalancer": {
| "name": "loadbalancer1",
| "description": "simple lb",
| "tenant_id": "1867112d054b427e808cc6096d8193a1",
| "vip_subnet_id": "58077bdb-d470-424b-8c45-2e3c65060a5b",
| "vip_address": "192.168.0.100",
| "admin_state_up": true
| }
| }

-  Example request 2

(Bind an EIP to the port that has been bound to the load balancer's
private IP address. For details about the parameters, see Table 3-7.)

1. Request parameter

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| publicip        | Yes             | Object          | Specifies the   |
|                 |                 |                 | EIP. For        |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-8.      |
+-----------------+-----------------+-----------------+-----------------+
| bandwidth       | Yes             | Object          | Specifies the   |
|                 |                 |                 | bandwidth. For  |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-9.      |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | String          | -  Specifies    |
| rise_project_id |                 |                 |    the          |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project ID.  |
|                 |                 |                 |    The value is |
|                 |                 |                 |    **0** or a   |
|                 |                 |                 |    string that  |
|                 |                 |                 |    contains a   |
|                 |                 |                 |    maximum of   |
|                 |                 |                 |    36           |
|                 |                 |                 |    characters   |
|                 |                 |                 |    in UUID      |
|                 |                 |                 |    format with  |
|                 |                 |                 |    hyphens (-). |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    assigning an |
|                 |                 |                 |    EIP, you     |
|                 |                 |                 |    need to bind |
|                 |                 |                 |    an           |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project ID   |
|                 |                 |                 |    to the EIP.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **0**.       |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | For more        |
|                 |                 |                 | information     |
|                 |                 |                 | about           |
|                 |                 |                 | enterprise      |
|                 |                 |                 | projects and    |
|                 |                 |                 | how to obtain   |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project IDs,    |
|                 |                 |                 | see the         |
|                 |                 |                 | *Enterprise     |
|                 |                 |                 | Management User |
|                 |                 |                 | Guide*.         |
+-----------------+-----------------+-----------------+-----------------+

1. **publicip** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| type            | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the EIP      |
|                 |                 |                 |    type.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  Constraints: |
|                 |                 |                 |                 |
|                 |                 |                 |    -  The       |
|                 |                 |                 |                 |
|                 |                 |                 |      configured |
|                 |                 |                 |       value     |
|                 |                 |                 |       must be   |
|                 |                 |                 |       supported |
|                 |                 |                 |       by the    |
|                 |                 |                 |       system.   |
|                 |                 |                 |                 |
|                 |                 |                 |    -            |
|                 |                 |                 | **publicip_id** |
|                 |                 |                 |       is an     |
|                 |                 |                 |       IPv4      |
|                 |                 |                 |       port. If  |
|                 |                 |                 |       **        |
|                 |                 |                 | publicip_type** |
|                 |                 |                 |       is not    |
|                 |                 |                 |                 |
|                 |                 |                 |      specified, |
|                 |                 |                 |       the       |
|                 |                 |                 |       default   |
|                 |                 |                 |       value is  |
|                 |                 |                 |                 |
|                 |                 |                 |      **5_bgp**. |
+-----------------+-----------------+-----------------+-----------------+
| ip_version      | No              | Integer         | -  Specifies    |
|                 |                 |                 |    the EIP      |
|                 |                 |                 |    version.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be **4** |
|                 |                 |                 |    and **6**.   |
|                 |                 |                 |    **4**        |
|                 |                 |                 |    indicates an |
|                 |                 |                 |    IPv4         |
|                 |                 |                 |    address, and |
|                 |                 |                 |    **6**        |
|                 |                 |                 |    indicates an |
|                 |                 |                 |    IPv6         |
|                 |                 |                 |    address.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  Constraints: |
|                 |                 |                 |                 |
|                 |                 |                 |    -  The       |
|                 |                 |                 |                 |
|                 |                 |                 |      configured |
|                 |                 |                 |       value     |
|                 |                 |                 |       must be   |
|                 |                 |                 |       supported |
|                 |                 |                 |       by the    |
|                 |                 |                 |       system.   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  If this   |
|                 |                 |                 |       parameter |
|                 |                 |                 |       is left   |
|                 |                 |                 |       blank or  |
|                 |                 |                 |       is an     |
|                 |                 |                 |       empty     |
|                 |                 |                 |       string,   |
|                 |                 |                 |       an IPv4   |
|                 |                 |                 |       address   |
|                 |                 |                 |       is        |
|                 |                 |                 |       assigned  |
|                 |                 |                 |       by        |
|                 |                 |                 |       default.  |
+-----------------+-----------------+-----------------+-----------------+
| ip_address      | No              | String          | -  Specifies    |
|                 |                 |                 |    the EIP to   |
|                 |                 |                 |    be assigned. |
|                 |                 |                 |    The system   |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    assigns an   |
|                 |                 |                 |    EIP if you   |
|                 |                 |                 |    do not       |
|                 |                 |                 |    specify it.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    must be a    |
|                 |                 |                 |    valid IPv4   |
|                 |                 |                 |    address in   |
|                 |                 |                 |    the          |
|                 |                 |                 |    available IP |
|                 |                 |                 |    address      |
|                 |                 |                 |    range.       |
+-----------------+-----------------+-----------------+-----------------+

1. **bandwidth** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    name.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    a string of  |
|                 |                 |                 |    1 to 64      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that can     |
|                 |                 |                 |    contain      |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    underscores  |
|                 |                 |                 |    (_), hyphens |
|                 |                 |                 |    (-), and     |
|                 |                 |                 |    periods (.). |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    when         |
|                 |                 |                 |                 |
|                 |                 |                 |  **share_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PER**.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    ignored when |
|                 |                 |                 |                 |
|                 |                 |                 |  **share_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **WHOLE**    |
|                 |                 |                 |    with an ID   |
|                 |                 |                 |    specified.   |
+-----------------+-----------------+-----------------+-----------------+
| size            | Yes             | Integer         | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    (Mbit/s).    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **1000** by  |
|                 |                 |                 |    default.     |
|                 |                 |                 |    (The range   |
|                 |                 |                 |    may vary     |
|                 |                 |                 |    depending on |
|                 |                 |                 |    the          |
|                 |                 |                 |                 |
|                 |                 |                 |   configuration |
|                 |                 |                 |    in each      |
|                 |                 |                 |    region. You  |
|                 |                 |                 |    can see the  |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    range of     |
|                 |                 |                 |    each region  |
|                 |                 |                 |    on the       |
|                 |                 |                 |    management   |
|                 |                 |                 |    console.)    |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    when         |
|                 |                 |                 |                 |
|                 |                 |                 |  **share_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PER**.     |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    ignored when |
|                 |                 |                 |                 |
|                 |                 |                 |  **share_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **WHOLE**    |
|                 |                 |                 |    with an ID   |
|                 |                 |                 |    specified.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  The minimum  |
|                 |                 |                 |    increment    |
|                 |                 |                 |    for          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    adjustment   |
|                 |                 |                 |    varies       |
|                 |                 |                 |    depending on |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    range. The   |
|                 |                 |                 |    details are  |
|                 |                 |                 |    as follows:  |
|                 |                 |                 |                 |
|                 |                 |                 |    -  The       |
|                 |                 |                 |       minimum   |
|                 |                 |                 |       increment |
|                 |                 |                 |       is 1      |
|                 |                 |                 |       Mbit/s if |
|                 |                 |                 |       the       |
|                 |                 |                 |       allowed   |
|                 |                 |                 |       bandwidth |
|                 |                 |                 |       ranges    |
|                 |                 |                 |       from 0    |
|                 |                 |                 |       Mbit/s to |
|                 |                 |                 |       300       |
|                 |                 |                 |       Mbit/s    |
|                 |                 |                 |       (with 300 |
|                 |                 |                 |       Mbit/s    |
|                 |                 |                 |                 |
|                 |                 |                 |      included). |
|                 |                 |                 |                 |
|                 |                 |                 |    -  The       |
|                 |                 |                 |       minimum   |
|                 |                 |                 |       increment |
|                 |                 |                 |       is 50     |
|                 |                 |                 |       Mbit/s if |
|                 |                 |                 |       the       |
|                 |                 |                 |       allowed   |
|                 |                 |                 |       bandwidth |
|                 |                 |                 |       ranges    |
|                 |                 |                 |       from 300  |
|                 |                 |                 |       Mbit/s to |
|                 |                 |                 |       1000      |
|                 |                 |                 |       Mbit/s.   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  The       |
|                 |                 |                 |       minimum   |
|                 |                 |                 |       increment |
|                 |                 |                 |       is 500    |
|                 |                 |                 |       Mbit/s if |
|                 |                 |                 |       the       |
|                 |                 |                 |       allowed   |
|                 |                 |                 |       bandwidth |
|                 |                 |                 |       is        |
|                 |                 |                 |       greater   |
|                 |                 |                 |       than 1000 |
|                 |                 |                 |       Mbit/s.   |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    ID. You can  |
|                 |                 |                 |    specify an   |
|                 |                 |                 |    existing     |
|                 |                 |                 |    shared       |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    when         |
|                 |                 |                 |    assigning an |
|                 |                 |                 |    EIP.         |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can be the   |
|                 |                 |                 |    ID of the    |
|                 |                 |                 |    shared       |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    whose type   |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **WHOLE**.   |
+-----------------+-----------------+-----------------+-----------------+
| share_type      | Yes             | String          | -  Specifies    |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    type.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value is |
|                 |                 |                 |    **PER**,     |
|                 |                 |                 |    indicating   |
|                 |                 |                 |    that the     |
|                 |                 |                 |    bandwidth is |
|                 |                 |                 |    dedicated.   |
+-----------------+-----------------+-----------------+-----------------+
| charge_mode     | No              | String          | -  If the value |
|                 |                 |                 |    is           |
|                 |                 |                 |    **traffic**, |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth is |
|                 |                 |                 |    billed by    |
|                 |                 |                 |    traffic.     |
+-----------------+-----------------+-----------------+-----------------+

-  Step 1: Apply for an EIP.

| POST
  https://{VPCEndpoint}/v1/8b7e35ad379141fc9df3e178bd64f55c/publicips
| {
| "publicip": {
| "type": "5_bgp",
| "ip_version": 4
| },
| "bandwidth": {
| "name": "bandwidth123",
| "size": 10,
| "share_type": "PER"
| }
| }

-  Example response

| {
| "publicip": {
| "id": "f588ccfa-8750-4d7c-bf5d-2ede24414706",
| "status": "PENDING_CREATE",
| "type": "5_bgp",
| "public_ip_address": "139.9.204.183",
| "tenant_id": "8b7e35ad379141fc9df3e178bd64f55c",
| "ip_version": 4,
| "create_time": "2019-06-29 06:45:32",
| "bandwidth_size": 1
| }
| }

-  Step 2: Bind the EIP. (The value of **public_id** is the same as that
   in the `▪ Example
   response <#en-us_topic_0141008273_li4893134914410>`__, and the value
   of **port_id** is the same as that of **vip_port_id** in `Example
   response 1 <#en-us_topic_0141008273_li4893134914410>`__.)

| PUT
  /v1/8b7e35ad379141fc9df3e178bd64f55c/publicips/f588ccfa-8750-4d7c-bf5d-2ede24414706
| {
| "publicip": {
| "port_id": "a7ecbdb5-5a63-41dd-a830-e16c0a7e04a7"
| }
| }

-  Example response

| {
| "publicip": {
| "id": "f588ccfa-8750-4d7c-bf5d-2ede24414706",
| "status": "ACTIVE",
| "type": "5_bgp",
| "port_id": "a7ecbdb5-5a63-41dd-a830-e16c0a7e04a7",
| "public_ip_address": "139.9.204.183",
| "private_ip_address": "192.168.1.131",
| "tenant_id": "8b7e35ad379141fc9df3e178bd64f55c",
| "create_time": "2019-06-29 07:33:18",
| "bandwidth_size": 1,
| "ip_version": 4
| }
| }

-  After the preceding steps are complete, the load balancer has the
   capability of accessing the public network. You can access the load
   balancer using 139.9.204.183, the value of parameter
   **public_ip_address**.

   #. Example Response

-  Example response 1

| {
| "loadbalancer": {
| "description": "simple lb",
| "provisioning_status": "ACTIVE",
| "tenant_id": "1867112d054b427e808cc6096d8193a1",
| "created_at": "2019-01-19T05:32:56",
| "admin_state_up": true,
| "updated_at": "2019-01-19T05:32:57",
| "id": "ea2843da-4026-49ec-8338-8fa015b067fc",
| "pools": [],
| "listeners": [],
| "vip_port_id": "a7ecbdb5-5a63-41dd-a830-e16c0a7e04a7",
| "operating_status": "ONLINE",
| "vip_address": "192.168.0.100",
| "vip_subnet_id": "58077bdb-d470-424b-8c45-2e3c65060a5b",
| "provider": "vlb",
| "tags": [],
| "name": "loadbalancer1"
| }
| }

-  Example response 2

| POST https://{Endpoint}/v2.0/lbaas/loadbalancers
| {
| "loadbalancer": {
| "name": "loadbalancer1",
| "description": "simple lb",
| "tenant_id": "1867112d054b427e808cc6096d8193a1",
| "vip_subnet_id": "58077bdb-d470-424b-8c45-2e3c65060a5b",
| "vip_address": "192.168.0.100",
| "admin_state_up": true
| }
| }

After the preceding steps are complete, the load balancer has the
capability of accessing the public network. You can access the load
balancer using 139.9.204.183, the value of parameter
**public_ip_address**.

#. Status Codes

See 6.2 HTTP Status Codes of Shared Load Balancers.

.. _querying-load-balancers-1:

Querying Load Balancers
~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query load balancers and display them in a list.
Filter query and pagination query are supported. Unless otherwise
specified, exact match is applied.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/loadbalancers

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer from   |
|                 |                 |                 | which           |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | load balancer   |
|                 |                 |                 | on the previous |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of load  |
|                 |                 |                 | balancers on    |
|                 |                 |                 | each page.      |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| o               | No              | String          | This parameter  |
| perating_status |                 |                 | is reserved,    |
|                 |                 |                 | and its value   |
|                 |                 |                 | can only be     |
|                 |                 |                 | **ONLINE**.     |
|                 |                 |                 |                 |
|                 |                 |                 | It specifies    |
|                 |                 |                 | the operating   |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
+-----------------+-----------------+-----------------+-----------------+
| prov            | No              | String          | This parameter  |
| isioning_status |                 |                 | is reserved,    |
|                 |                 |                 | and its value   |
|                 |                 |                 | can only be     |
|                 |                 |                 | **ACTIVE**.     |
|                 |                 |                 |                 |
|                 |                 |                 | It specifies    |
|                 |                 |                 | the             |
|                 |                 |                 | provisioning    |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and its value   |
|                 |                 |                 | can only be     |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | It specifies    |
|                 |                 |                 | the             |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
+-----------------+-----------------+-----------------+-----------------+
| vip_address     | No              | String          | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| vip_port_id     | No              | String          | Specifies the   |
|                 |                 |                 | ID of the port  |
|                 |                 |                 | bound to the    |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer.  |
+-----------------+-----------------+-----------------+-----------------+
| vip_subnet_id   | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
+-----------------+-----------------+-----------------+-----------------+
| member_address  | No              | String          | Specifies the   |
|                 |                 |                 | IP address of   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server          |
|                 |                 |                 | associated with |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | String          | Specifies the   |
| ember_device_id |                 |                 | ID of the cloud |
|                 |                 |                 | server used as  |
|                 |                 |                 | the backend     |
|                 |                 |                 | server          |
|                 |                 |                 | associated with |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| vpc_id          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the VPC   |
|                 |                 |                 | where the load  |
|                 |                 |                 | balancer works. |
+-----------------+-----------------+-----------------+-----------------+

6. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancers         | Array                 | Lists the load        |
|                       |                       | balancers. For        |
|                       |                       | details, see Table    |
|                       |                       | 3-12.                 |
+-----------------------+-----------------------+-----------------------+
| loadbalancers_links   | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query. For details,   |
|                       |                       | see Table 3-15.       |
+-----------------------+-----------------------+-----------------------+

2. **loadbalancer** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | load balancer is      |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_id         | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | private IP address of |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | When you create a     |
|                       |                       | load balancer, the    |
|                       |                       | system automatically  |
|                       |                       | creates a port and    |
|                       |                       | associates it with a  |
|                       |                       | security group.       |
|                       |                       | However, the security |
|                       |                       | group will not take   |
|                       |                       | effect.               |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners added to    |
|                       |                       | the load balancer.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-13.           |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Lists the IDs of      |
|                       |                       | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer. For    |
|                       |                       | details, see Table    |
|                       |                       | 3-14.                 |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Lists load balancer   |
|                       |                       | tags.                 |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+

1. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

3. **loadbalancers_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **next** or           |
|                       |                       | **previous**. The     |
|                       |                       | value **next**        |
|                       |                       | indicates the         |
|                       |                       | Hypertext Reference   |
|                       |                       | (href) containing the |
|                       |                       | URL of the next page, |
|                       |                       | and **previous**      |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the previous page.    |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Querying all load balancers

GET https://{Endpoint}/v2.0/lbaas/loadbalancers

-  Example request 2: Querying load balancers by page (Each page
   contains one load balancer. The ID of the start load balancer is
   **165b6a38-5278-4569-b747-b2ee65ea84a4**. The load balancer after
   **165b6a38-5278-4569-b747-b2ee65ea84a4** is the queried load
   balancer.)

GET
https://{Endpoint}/v2.0/lbaas/loadbalancers?limit=1&marker=165b6a38-5278-4569-b747-b2ee65ea84a4

-  Example request 3: Querying the load balancer using the IP address of
   a backend server (192.168.0.191)

GET
https://{Endpoint}/v2.0/lbaas/loadbalancers?member_address=192.168.0.181

#. Example Response

-  Example response 1

| {
| "loadbalancers": [
| {
| "description": "simple lb",
| "admin_state_up": true,
| "tenant_id": "1a3e005cf9ce40308c900bcb08e5320c",
| "provisioning_status": "ACTIVE",
| "vip_subnet_id": "5328f1e6-ce29-44f1-9493-b128a5653350",
| "listeners": [
| {
| "id": "45196943-2907-4369-87b1-c009b1d7ac35"
| }
| ],
| "vip_address": "10.0.0.2",
| "vip_port_id": "cbced4fe-6f6f-4fd6-9348-0c3d1219d6ca",
| "provider": "vlb",
| "pools": [
| {
| "id": "21d49cf7-4fd3-4cb6-8c48-b7fc6c259aab"
| }
| ],
| "id": "a9729389-6147-41a3-ab22-a24aed8692b2",
| "operating_status": "ONLINE",
| "tags": [],
| "name": "loadbalancer1",
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| }
| ]
| }

-  Example response 2

| {
| "loadbalancers": [
| {
| "description": "",
| "provisioning_status": "ACTIVE",
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "admin_state_up": true,
| "provider": "vlb",
| "pools": [
| {
| "id": "b13dba4c-a44c-4c40-8f6e-ce7a162b9f22"
| },
| {
| "id": "4b9e765f-82ee-4128-911b-0a2d9ebc74c7"
| }
| ],
| "listeners": [
| {
| "id": "21c41336-d0d3-4349-8641-6e82b4a4d097"
| }
| ],
| "vip_port_id": "44ac5d9b-b0c0-4810-9a9d-c4dbf541e47e",
| "operating_status": "ONLINE",
| "vip_address": "192.168.0.234",
| "vip_subnet_id": "9d60827e-0e5c-490a-8183-0b6ebf9084ca",
| "id": "e79a7dd6-3a38-429a-95f9-c7f78b346cbe",
| "tags": [],
| "name": "elb-robot",
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| }
| ],
| "loadbalancers_links": [
| {
| "href":
  "https://network.Region.dc1.domainname.com/v2.0/lbaas/loadbalancers?limit=10&marker=e79a7dd6-3a38-429a-95f9-c7f78b346cbe&page_reverse=True",
| "rel": "previous"
| }
| ]
| }

-  Example response 3

| {
| "loadbalancers": [
| {
| "description": "",
| "provisioning_status": "ACTIVE",
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "created_at": "2018-11-29T13:55:20",
| "admin_state_up": true,
| "update_at": "2018-11-29T13:55:21",
| "id": "c1127125-64a9-4394-a08a-ef3be8f7ef9c",
| "pools": [
| {
| "id": "2f6895be-019b-4c82-9b53-c4a2ac009e20"
| }
| ],
| "listeners": [
| {
| "id": "5c63d176-444f-4c75-9cfe-bcb8a05a845c"
| }
| ],
| "vip_port_id": "434ac600-b779-4428-b7a7-830e047511f1",
| "operating_status": "ONLINE",
| "vip_address": "192.168.0.181",
| "vip_subnet_id": "9a303536-417c-45dc-a6db-1234b9e1c2b2",
| "provider": "vlb",
| "tags": [],
| "name": "elb-ftci"
| }
| ]
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _querying-details-of-a-load-balancer-1:

Querying Details of a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancer          | Object                | Specifies the load    |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-17.                 |
+-----------------------+-----------------------+-----------------------+

2. **loadbalancer** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | load balancer is      |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_id         | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | private IP address of |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners added to    |
|                       |                       | the load balancer.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-18.           |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Lists the IDs of      |
|                       |                       | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer. For    |
|                       |                       | details, see Table    |
|                       |                       | 3-19.                 |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **ONLINE**,           |
|                       |                       | **OFFLINE**,          |
|                       |                       | **DEGRADED**,         |
|                       |                       | **DISABLED**, or      |
|                       |                       | **NO_MONITOR**.       |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The default |
|                       |                       | value is **ONLINE**.  |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 16         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **ACTIVE**,           |
|                       |                       | **PENDING_CREATE**,   |
|                       |                       | or **ERROR**.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The default |
|                       |                       | value is **ACTIVE**.  |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 16         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The default |
|                       |                       | value is **true**.    |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Lists the tags added  |
|                       |                       | to the load balancer. |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+

3. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+

4. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

3. Status Codes

See 6.2 HTTP Status Codes of Shared Load Balancers.

Querying the Status Tree of a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

4. Function

This API is used to query the status tree of a load balancer. You can
use this API to query details about the associated listeners, backend
server groups, backend servers, health checks, forwarding policies, and
forwarding rules, helping you understand the topology of resources
associated with the load balancer.

5. URI

GET /v2.0/lbaas/loadbalancers/{loadbalancer_id}/statuses

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

6. Request

None

7. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| statuses              | Object                | Specifies the status  |
|                       |                       | tree of a load        |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-22.                 |
+-----------------------+-----------------------+-----------------------+

2. **statuses** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancer          | Object                | Specifies the load    |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-23.                 |
+-----------------------+-----------------------+-----------------------+

3. **loadbalancer** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the listeners   |
|                       |                       | added to the load     |
|                       |                       | balancer. For details |
|                       |                       | of this parameter,    |
|                       |                       | see Table 3-24.       |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Lists the backend     |
|                       |                       | server groups         |
|                       |                       | associated with the   |
|                       |                       | load balancer. For    |
|                       |                       | details of this       |
|                       |                       | parameter, see Table  |
|                       |                       | 3-25.                 |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | This field is         |
|                       |                       | reserved.             |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**         |
|                       |                       |    (default): The     |
|                       |                       |    load balancer is   |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **DEGRADED**: This |
|                       |                       |    status is          |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |    **                 |
|                       |                       | provisioning_status** |
|                       |                       |    of a forwarding    |
|                       |                       |    policy or          |
|                       |                       |    forwarding rule    |
|                       |                       |    added to a         |
|                       |                       |    listener of the    |
|                       |                       |    load balancer is   |
|                       |                       |    set to **ERROR**   |
|                       |                       |    and the API for    |
|                       |                       |    querying the load  |
|                       |                       |    balancer status    |
|                       |                       |    tree is called.    |
|                       |                       |                       |
|                       |                       | -  **DISABLED**: This |
|                       |                       |    status is          |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |    **admin_state_up** |
|                       |                       |    of the load        |
|                       |                       |    balancer is set to |
|                       |                       |    **false** and the  |
|                       |                       |    API for querying   |
|                       |                       |    the load balancer  |
|                       |                       |    status tree is     |
|                       |                       |    called.            |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
+-----------------------+-----------------------+-----------------------+

1. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| l7policies            | Array                 | Lists associated      |
|                       |                       | forwarding policies.  |
|                       |                       | For details of this   |
|                       |                       | parameter, see Table  |
|                       |                       | 3-28.                 |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Lists the backend     |
|                       |                       | server groups         |
|                       |                       | associated with the   |
|                       |                       | listener. For details |
|                       |                       | of this parameter,    |
|                       |                       | see Table 3-25.       |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | operating status of   |
|                       |                       | the listener.         |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the listener.      |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| healthmonitor         | Object                | Provides health check |
|                       |                       | details of the        |
|                       |                       | backend server group. |
|                       |                       | For details of this   |
|                       |                       | parameter, see Table  |
|                       |                       | 3-26.                 |
+-----------------------+-----------------------+-----------------------+
| members               | Array                 | Lists the members     |
|                       |                       | contained in the      |
|                       |                       | backend server group. |
|                       |                       | For details of this   |
|                       |                       | parameter, see Table  |
|                       |                       | 3-27.                 |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | operating status of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the backend server |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

3. **healthmonitor** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | -  Specifies the      |
|                       |                       |    health check       |
|                       |                       |    protocol.          |
|                       |                       |                       |
|                       |                       | -  The value can be   |
|                       |                       |    **UDP_CONNECT**,   |
|                       |                       |    **TCP**, or        |
|                       |                       |    **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the health check.  |
+-----------------------+-----------------------+-----------------------+

1. **members** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | backend server, for   |
|                       |                       | example,              |
|                       |                       | 192.168.3.11.         |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server. The port      |
|                       |                       | number ranges from 0  |
|                       |                       | to 65535.             |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | This parameter is     |
|                       |                       | reserved. It          |
|                       |                       | specifies the         |
|                       |                       | operating status of   |
|                       |                       | the backend server.   |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group that the     |
|                       |                       |    backend server     |
|                       |                       |    belongs to.        |
|                       |                       |                       |
|                       |                       | -  **DISABLED**: The  |
|                       |                       |    backend server is  |
|                       |                       |    not available.     |
|                       |                       |    This status is     |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |    **admin_state_up** |
|                       |                       |    of the backend     |
|                       |                       |    server, or the     |
|                       |                       |    backend server     |
|                       |                       |    group to which it  |
|                       |                       |    belongs, or the    |
|                       |                       |    associated load    |
|                       |                       |    balancer is set to |
|                       |                       |    **false** and the  |
|                       |                       |    API for querying   |
|                       |                       |    the load balancer  |
|                       |                       |    status tree is     |
|                       |                       |    called.            |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | When                  |
|                       |                       | **admin_state_up** is |
|                       |                       | set to **false** and  |
|                       |                       | **operating_status**  |
|                       |                       | is set to **OFFLINE** |
|                       |                       | for a backend server, |
|                       |                       | **DISABLED** is       |
|                       |                       | returned for          |
|                       |                       | **operating_status**  |
|                       |                       | of the backend server |
|                       |                       | in the response of    |
|                       |                       | this API.             |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the backend        |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+

1. **l7policies** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array                 | Lists the forwarding  |
|                       |                       | rules of the          |
|                       |                       | forwarding policy.    |
|                       |                       | For details of this   |
|                       |                       | parameter, see Table  |
|                       |                       | 3-29.                 |
+-----------------------+-----------------------+-----------------------+
| action                | String                | -  Specifies whether  |
|                       |                       |    requests are       |
|                       |                       |    forwarded to       |
|                       |                       |    another backend    |
|                       |                       |    server group or    |
|                       |                       |    redirected to an   |
|                       |                       |    HTTPS listener.    |
|                       |                       |                       |
|                       |                       | -  The value can be   |
|                       |                       |                       |
|                       |                       |  **REDIRECT_TO_POOL** |
|                       |                       |    or                 |
|                       |                       |    **RE               |
|                       |                       | DIRECT_TO_LISTENER**. |
|                       |                       |                       |
|                       |                       |    -                  |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |       Requests are    |
|                       |                       |       forwarded to    |
|                       |                       |       another backend |
|                       |                       |       server group.   |
|                       |                       |                       |
|                       |                       |    -  **RE            |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |       Requests are    |
|                       |                       |       redirected to   |
|                       |                       |       an HTTPS        |
|                       |                       |       listener.       |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved.             |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy. Value         |
|                       |                       | options:              |
|                       |                       |                       |
|                       |                       | -  **ACTIVE**         |
|                       |                       |    (default): The     |
|                       |                       |    forwarding policy  |
|                       |                       |    is normal.         |
|                       |                       |                       |
|                       |                       | -  **ERROR**: Another |
|                       |                       |    forwarding policy  |
|                       |                       |    of the same        |
|                       |                       |    listener has the   |
|                       |                       |    same forwarding    |
|                       |                       |    rule.              |
+-----------------------+-----------------------+-----------------------+

1. **rules** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | -  Specifies the      |
|                       |                       |    match type of a    |
|                       |                       |    forwarding rule.   |
|                       |                       |                       |
|                       |                       | -  The value can be   |
|                       |                       |    **PATH** or        |
|                       |                       |    **HOST_NAME**.     |
|                       |                       |                       |
|                       |                       |    -  **PATH**:       |
|                       |                       |       matches the     |
|                       |                       |       path in the     |
|                       |                       |       request.        |
|                       |                       |                       |
|                       |                       |    -  **HOST_NAME**:  |
|                       |                       |       matches the     |
|                       |                       |       domain name in  |
|                       |                       |       the request.    |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved.             |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule. The value can   |
|                       |                       | be one of the         |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -  **ACTIVE**         |
|                       |                       |    (default): The     |
|                       |                       |    forwarding rule is |
|                       |                       |    normal.            |
|                       |                       |                       |
|                       |                       | -  **ERROR**: Another |
|                       |                       |    forwarding policy  |
|                       |                       |    of the same        |
|                       |                       |    listener has the   |
|                       |                       |    same forwarding    |
|                       |                       |    rule.              |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request

GET
https://{Endpoint}/v2.0/lbaas/loadbalancers/38278031-cfca-44be-81be-a412f618773b/statuses

#. Example Response

-  Example response

| {
| "statuses": {
| "loadbalancer": {
| "name": "lb-jy",
| "provisioning_status": "ACTIVE",
| "listeners": [
| {
| "name": "listener-jy-1",
| "provisioning_status": "ACTIVE",
| "pools": [
| {
| "name": "pool-jy-1",
| "provisioning_status": "ACTIVE",
| "healthmonitor": {
| "type": "TCP",
| "id": "7422b51a-0ed2-4702-9429-4f88349276c6",
| "name": "",
| "provisioning_status": "ACTIVE"
| },
| "members": [
| {
| "protocol_port": 80,
| "address": "192.168.44.11",
| "id": "7bbf7151-0dce-4087-b316-06c7fa17b894",
| "operating_status": "ONLINE",
| "provisioning_status": "ACTIVE"
| }
| ],
| "id": "c54b3286-2349-4c5c-ade1-e6bb0b26ad18",
| "operating_status": "ONLINE"
| }
| ],
| "l7policies": [],
| "id": "eb84c5b4-9bc5-4bee-939d-3900fb05dc7b",
| "operating_status": "ONLINE"
| }
| ],
| "pools": [
| {
| "name": "pool-jy-1",
| "provisioning_status": "ACTIVE",
| "healthmonitor": {
| "type": "TCP",
| "id": "7422b51a-0ed2-4702-9429-4f88349276c6",
| "name": "",
| "provisioning_status": "ACTIVE"
| },
| "members": [
| {
| "protocol_port": 80,
| "address": "192.168.44.11",
| "id": "7bbf7151-0dce-4087-b316-06c7fa17b894",
| "operating_status": "ONLINE",
| "provisioning_status": "ACTIVE"
| }
| ],
| "id": "c54b3286-2349-4c5c-ade1-e6bb0b26ad18",
| "operating_status": "ONLINE"
| }
| ],
| "id": "38278031-cfca-44be-81be-a412f618773b",
| "operating_status": "ONLINE"
| }
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update the name or description of a load balancer.

3. URI

PUT /v2.0/lbaas/loadbalancers/{loadbalancer_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer    | Yes             | Object          | Specifies the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table 3-32. |
+-----------------+-----------------+-----------------+-----------------+

2. **loadbalancer** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancer          | Object                | Specifies the load    |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-34.                 |
+-----------------------+-----------------------+-----------------------+

2. **loadbalancer** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | load balancer is      |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_id         | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | private IP address of |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | When you create a     |
|                       |                       | load balancer, the    |
|                       |                       | system automatically  |
|                       |                       | creates a port and    |
|                       |                       | associates it with a  |
|                       |                       | security group.       |
|                       |                       | However, the security |
|                       |                       | group will not take   |
|                       |                       | effect.               |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners added to    |
|                       |                       | the load balancer.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-35.           |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Lists the IDs of      |
|                       |                       | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer. For    |
|                       |                       | details, see Table    |
|                       |                       | 3-36.                 |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Lists load balancer   |
|                       |                       | tags.                 |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+

1. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Modifying the load balancer name and description

| PUT
  https://{Endpoint}/v2.0/lbaas/loadbalancers/1e11b74e-30b7-4b78-b09b-84aec4a04487
| {
| "loadbalancer": {
| "name": "lb_update_test",
| "description": "lb update test"
| }
| }

#. Example Response

-  Example response

| {
| "loadbalancer": {
| "description": "simple lb2",
| "admin_state_up": true,
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "provisioning_status": "ACTIVE",
| "vip_subnet_id": "823d5866-6e30-45c2-9b1a-a1ebc3757fdb",
| "listeners": [
| {
| "id": "37ffe679-08ef-436e-b6bd-cf66fb4c3de2"
| }
| ],
| "vip_address": "192.172.1.68",
| "vip_port_id": "f42e3019-67f7-4d2a-8d1c-af49e7c22fa6",
| "tags": [],
| "provider": "vlb",
| "pools": [
| {
| "id": "75c4f2d4-a213-4408-9fa8-d64708e8d1df"
| }
| ],
| "id": "c32a9f9a-0cc6-4f38-bb9c-cde79a533c19",
| "operating_status": "ONLINE",
| "name": "loadbalancer-test2",
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _deleting-a-load-balancer-1:

Deleting a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a specific load balancer.

3. Constraints

All listeners added to the load balancer must be deleted before the load
balancer is deleted.

4. URI

DELETE /v2.0/lbaas/loadbalancers/{loadbalancer_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

None

7. Example Request

Example request: Deleting a load balancer

DELETE
https://{endpoint}/v2.0/lbaas/loadbalancers/90f7c765-0bc9-47c4-8513-4cc0c264c8f8

8. Example Response

Example response

None

9. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _listener-1:

Listener
--------

1. .. rubric:: Adding a Listener
      :name: adding-a-listener-1

   #. Function

This API is used to add a listener to a load balancer.

2. Constraints

When **protocol** is set to **TCP** and **protocol_port** to **0**, the
listener works in IP mode (DR mode).

3. URI

POST /v2.0/lbaas/listeners

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener        | Yes             | Object          | Specifies the   |
|                 |                 |                 | listener. For   |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-39.     |
+-----------------+-----------------+-----------------+-----------------+

2. **listener** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the listener is |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | listener name.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | Yes             | String          | Specifies the   |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the          |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **TCP**,     |
|                 |                 |                 | **HTTP**,       |
|                 |                 |                 | **UDP**, or     |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | Yes             | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | The port number |
|                 |                 |                 | ranges from 1   |
|                 |                 |                 | to 65535.       |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | If the protocol |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener is     |
|                 |                 |                 | UDP, the port   |
|                 |                 |                 | number cannot   |
|                 |                 |                 | be 4789.        |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | associated load |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| c               | No              | Integer         | Specifies the   |
| onnection_limit |                 |                 | maximum number  |
|                 |                 |                 | of connections. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **-1** to       |
|                 |                 |                 | **2147483647**. |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **-1**,         |
|                 |                 |                 | indicating that |
|                 |                 |                 | there is no     |
|                 |                 |                 | restriction on  |
|                 |                 |                 | the maximum     |
|                 |                 |                 | number of       |
|                 |                 |                 | connections.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| http2_enable    | No              | Boolean         | Specifies       |
|                 |                 |                 | whether to use  |
|                 |                 |                 | HTTP/2.         |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**:    |
|                 |                 |                 |    HTTP/2 is    |
|                 |                 |                 |    used.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**:   |
|                 |                 |                 |    HTTP/2 is    |
|                 |                 |                 |    not used.    |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the        |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the listener |
|                 |                 |                 | is set to       |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| default_pool_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | associated      |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | If a request    |
|                 |                 |                 | does not match  |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | policy, the     |
|                 |                 |                 | request is      |
|                 |                 |                 | forwarded to    |
|                 |                 |                 | the default     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group for       |
|                 |                 |                 | processing. If  |
|                 |                 |                 | the value is    |
|                 |                 |                 | **null**, the   |
|                 |                 |                 | listener has no |
|                 |                 |                 | default backend |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | has the         |
|                 |                 |                 | following       |
|                 |                 |                 | constraints:    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Its value    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    the ID of    |
|                 |                 |                 |    any backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    of other     |
|                 |                 |                 |    listeners.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  Its value    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    the ID of    |
|                 |                 |                 |    any backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    associated   |
|                 |                 |                 |    with the     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies set |
|                 |                 |                 |    for other    |
|                 |                 |                 |    listeners.   |
|                 |                 |                 |                 |
|                 |                 |                 | The             |
|                 |                 |                 | relationships   |
|                 |                 |                 | between the     |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the listener |
|                 |                 |                 | and the         |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group are as    |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **TCP**, the |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **TCP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **UDP**, the |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **UDP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **HTTP** or  |
|                 |                 |                 |    **TERM       |
|                 |                 |                 | INATED_HTTPS**, |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    of the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **HTTP**.    |
+-----------------+-----------------+-----------------+-----------------+
| default_tl      | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the       |
|                 |                 |                 | server          |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when            |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to          |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null** when   |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | not set to      |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when            |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to          |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| client_ca_tl    | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the CA    |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when            |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to          |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| sni             | No              | Array           | Lists the IDs   |
| _container_refs |                 |                 | of SNI          |
|                 |                 |                 | certificates    |
|                 |                 |                 | (server         |
|                 |                 |                 | certificates    |
|                 |                 |                 | with a domain   |
|                 |                 |                 | name) used by   |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | If the          |
|                 |                 |                 | parameter value |
|                 |                 |                 | is an empty     |
|                 |                 |                 | list, the SNI   |
|                 |                 |                 | feature is      |
|                 |                 |                 | disabled.       |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **[]**.         |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when            |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to          |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| tls             | No              | String          | Specifies the   |
| _ciphers_policy |                 |                 | security policy |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener. This  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | valid only when |
|                 |                 |                 | the protocol    |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener is set |
|                 |                 |                 | to              |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be              |
|                 |                 |                 | **tls           |
|                 |                 |                 | -1-0-inherit**, |
|                 |                 |                 | **tls-1-0**,    |
|                 |                 |                 | **tls-1-1**,    |
|                 |                 |                 | **tls-1-2**, or |
|                 |                 |                 | **tl            |
|                 |                 |                 | s-1-2-strict**, |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **tls-1-0**.    |
|                 |                 |                 | For details of  |
|                 |                 |                 | cipher suites   |
|                 |                 |                 | for each        |
|                 |                 |                 | security        |
|                 |                 |                 | policy, see     |
|                 |                 |                 | Table 3-40.     |
+-----------------+-----------------+-----------------+-----------------+

1. **tls_ciphers_policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Security Policy       | TLS Version           | Cipher Suite          |
+=======================+=======================+=======================+
| tls-1-0-inherit       | TLSv1.2 TLSv1.1 TLSv1 | EC                    |
|                       |                       | DHE-RSA-AES256-GCM-SH |
|                       |                       | A384:ECDHE-RSA-AES128 |
|                       |                       | -GCM-SHA256:ECDHE-ECD |
|                       |                       | SA-AES256-GCM-SHA384: |
|                       |                       | ECDHE-ECDSA-AES128-GC |
|                       |                       | M-SHA256:AES128-GCM-S |
|                       |                       | HA256:AES256-GCM-SHA3 |
|                       |                       | 84:ECDHE-ECDSA-AES128 |
|                       |                       | -SHA256:ECDHE-RSA-AES |
|                       |                       | 128-SHA256:AES128-SHA |
|                       |                       | 256:AES256-SHA256:ECD |
|                       |                       | HE-ECDSA-AES256-SHA38 |
|                       |                       | 4:ECDHE-RSA-AES256-SH |
|                       |                       | A384:ECDHE-ECDSA-AES1 |
|                       |                       | 28-SHA:ECDHE-RSA-AES1 |
|                       |                       | 28-SHA:DHE-RSA-AES128 |
|                       |                       | -SHA:ECDHE-RSA-AES256 |
|                       |                       | -SHA:ECDHE-ECDSA-AES2 |
|                       |                       | 56-SHA:AES128-SHA:AES |
|                       |                       | 256-SHA:DHE-DSS-AES12 |
|                       |                       | 8-SHA:CAMELLIA128-SHA |
|                       |                       | :EDH-RSA-DES-CBC3-SHA |
|                       |                       | :DES-CBC3-SHA:ECDHE-R |
|                       |                       | SA-RC4-SHA:RC4-SHA:DH |
|                       |                       | E-RSA-AES256-SHA:DHE- |
|                       |                       | DSS-AES256-SHA:DHE-RS |
|                       |                       | A-CAMELLIA256-SHA:DHE |
|                       |                       | -DSS-CAMELLIA256-SHA: |
|                       |                       | CAMELLIA256-SHA:EDH-D |
|                       |                       | SS-DES-CBC3-SHA:DHE-R |
|                       |                       | SA-CAMELLIA128-SHA:DH |
|                       |                       | E-DSS-CAMELLIA128-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-0               | TLSv1.2 TLSv1.1 TLSv1 | ECDHE-RSA-A           |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-RSA-AES128-GCM-SHA2 |
|                       |                       | 56:ECDHE-ECDSA-AES256 |
|                       |                       | -GCM-SHA384:ECDHE-ECD |
|                       |                       | SA-AES128-GCM-SHA256: |
|                       |                       | AES128-GCM-SHA256:AES |
|                       |                       | 256-GCM-SHA384:ECDHE- |
|                       |                       | ECDSA-AES128-SHA256:E |
|                       |                       | CDHE-RSA-AES128-SHA25 |
|                       |                       | 6:AES128-SHA256:AES25 |
|                       |                       | 6-SHA256:ECDHE-ECDSA- |
|                       |                       | AES256-SHA384:ECDHE-R |
|                       |                       | SA-AES256-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES256-SHA:EC |
|                       |                       | DHE-ECDSA-AES256-SHA: |
|                       |                       | AES128-SHA:AES256-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-1               |                       | TLSv1.2 TLSv1.1       |
+-----------------------+-----------------------+-----------------------+
| tls-1-2               |                       | TLSv1.2               |
+-----------------------+-----------------------+-----------------------+
| tls-1-2-strict        | TLSv1.2               | ECDHE-                |
|                       |                       | RSA-AES256-GCM-SHA384 |
|                       |                       | :ECDHE-RSA-AES128-GCM |
|                       |                       | -SHA256:ECDHE-ECDSA-A |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-GCM-SH |
|                       |                       | A256:AES128-GCM-SHA25 |
|                       |                       | 6:AES256-GCM-SHA384:E |
|                       |                       | CDHE-ECDSA-AES128-SHA |
|                       |                       | 256:ECDHE-RSA-AES128- |
|                       |                       | SHA256:AES128-SHA256: |
|                       |                       | AES256-SHA256:ECDHE-E |
|                       |                       | CDSA-AES256-SHA384:EC |
|                       |                       | DHE-RSA-AES256-SHA384 |
+-----------------------+-----------------------+-----------------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| listener              | Object                | Specifies the         |
|                       |                       | listener. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-42.                 |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**, **HTTP**,    |
|                       |                       | **UDP**, or           |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | The port number       |
|                       |                       | ranges from 1 to      |
|                       |                       | 65535.                |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array                 | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-43.                 |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections.          |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **-1** to             |
|                       |                       | **2147483647**. The   |
|                       |                       | default value is      |
|                       |                       | **-1**, indicating    |
|                       |                       | that there is no      |
|                       |                       | restriction on the    |
|                       |                       | maximum number of     |
|                       |                       | connections.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener.      |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: The load |
|                       |                       |    balancer is        |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**: The     |
|                       |                       |    load balancer is   |
|                       |                       |    disabled.          |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2.           |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: HTTP/2   |
|                       |                       |    is used.           |
|                       |                       |                       |
|                       |                       | -  **false**: HTTP/2  |
|                       |                       |    is not used.       |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | If a request does not |
|                       |                       | match the forwarding  |
|                       |                       | policy, the request   |
|                       |                       | is forwarded to the   |
|                       |                       | default backend       |
|                       |                       | server group for      |
|                       |                       | processing. If the    |
|                       |                       | value is **null**,    |
|                       |                       | the listener has no   |
|                       |                       | default backend       |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener. For     |
|                       |                       | details, see          |
|                       |                       | `Certificate          |
|                       |                       |  <#certificate-1>`__. |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when        |
|                       |                       | **protocol** is set   |
|                       |                       | to                    |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
|                       |                       | For details, see      |
|                       |                       | `Certificate          |
|                       |                       |  <#certificate-1>`__. |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array                 | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with a   |
|                       |                       | domain name) used by  |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | If the parameter      |
|                       |                       | value is an empty     |
|                       |                       | list, the SNI feature |
|                       |                       | is disabled.          |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Tags the listener.    |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is valid    |
|                       |                       | only when the         |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0-inherit**,  |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**. For   |
|                       |                       | details of cipher     |
|                       |                       | suites for each       |
|                       |                       | security policy, see  |
|                       |                       | Table 3-40.           |
+-----------------------+-----------------------+-----------------------+

1. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Adding a TCP listener

| POST https://{Endpoint}/v2.0/lbaas/listeners
| {
| "listener": {
| "protocol_port": 80,
| "protocol": "TCP",
| "loadbalancer_id": "0416b6f1-877f-4a51-987e-978b3f084253",
| "name": "listener-test",
| "admin_state_up": true
| }
| }

-  Example request 2: Adding an HTTPS listener

| POST https://{Endpoint}/v2.0/lbaas/listeners
| {
| "listener": {
| "protocol_port": 25,
| "protocol": "TERMINATED_HTTPS",
| "default_tls_container_ref": "02dcd56799e045bf8b131533cc911dd6",
| "loadbalancer_id": "0416b6f1-877f-4a51-987e-978b3f084253",
| "name": "listener-test",
| "admin_state_up": true
| }
| }

-  Example request 3: Adding a listener with the SNI feature enabled

| POST https://{Endpoint}/v2.0/lbaas/listeners
| {
| "listener": {
| "protocol_port": 27,
| "protocol": "TERMINATED_HTTPS",
| "loadbalancer_id": "6bb85e33-4953-457a-85a9-336d76125b7b",
| "name": "listener-test",
| "admin_state_up": true,
| "default_tls_container_ref":"02dcd56799e045bf8b131533cc911dd6",
| "sni_container_refs": ["e15d1b5000474adca383c3cd9ddc06d4",
| "5882325fd6dd4b95a88d33238d293a0f"]
| }
| }

#. Example Response

-  Example response 1

| {
| "listener": {
| "protocol_port": 80,
| "protocol": "TCP",
| "description": "",
| "client_ca_tls_container_ref": null,
| "default_tls_container_ref": null,
| "admin_state_up": true,
| "http2_enable": false,
| "loadbalancers": [
| {
| "id": "0416b6f1-877f-4a51-987e-978b3f084253"
| }
| ],
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "sni_container_refs": [],
| "connection_limit": -1,
| "default_pool_id": null,
| "tags": [],
| "id": "b7f32b52-6f17-4b16-9ec8-063d71b653ce",
| "name": "listener-test",
| "tls_ciphers_policy": null,
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| }
| }

-  Example response 2

| {
| "listener": {
| "protocol_port": 25,
| "protocol": "TERMINATED_HTTPS",
| "description": "",
| "default_tls_container_ref": "02dcd56799e045bf8b131533cc911dd6",
| "sni_container_refs": [],
| "loadbalancers": [
| {
| "id": "0416b6f1-877f-4a51-987e-978b3f084253"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "created_at": "2019-01-21T12:38:31",
| "client_ca_tls_container_ref": null,
| "connection_limit": -1,
| "updated_at": "2019-01-21T12:38:31",
| "http2_enable": false,
| "admin_state_up": true,
| "default_pool_id": null,
| "tls_ciphers_policy": "tls-1-0",
| "id": "b56634cd-5ba8-460e-b5a2-6de5ba8eaf60",
| "tags": [],
| "name": "listener-test"
| }
| }

-  Example response 3

| {
| "listener": {
| "protocol_port": 27,
| "protocol": "TERMINATED_HTTPS",
| "description": "",
| "default_tls_container_ref": "02dcd56799e045bf8b131533cc911dd6",
| "sni_container_refs": [
| "5882325fd6dd4b95a88d33238d293a0f",
| "e15d1b5000474adca383c3cd9ddc06d4"
| ],
| "loadbalancers": [
| {
| "id": "6bb85e33-4953-457a-85a9-336d76125b7b"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "project_id": "601240b9c5c94059b63d484c92cfe308",
| "created_at": "2019-01-21T12:43:55",
| "client_ca_tls_container_ref": null,
| "connection_limit": -1,
| "updated_at": "2019-01-21T12:43:55",
| "http2_enable": false,
| "admin_state_up": true,
| "default_pool_id": null,
| "": "tls-1-0",
| "id": "b2cfda5b-52fe-4320-8845-34e8d4dac2c7",
| "tags": [],
| "name": "listener-test"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _querying-listeners-1:

Querying Listeners
~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query the listeners and display them in a list.
Filter query and pagination query are supported. Unless otherwise
specified, exact match is applied.

You can query listeners using information such as listener ID, protocol
used by the listener, port used by the listener, or backend server
private IP address.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/listeners

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener from   |
|                 |                 |                 | which           |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | listener on the |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | listeners on    |
|                 |                 |                 | each page.      |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the listener is |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | listener name.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | associated load |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| c               | No              | Integer         | Specifies the   |
| onnection_limit |                 |                 | maximum number  |
|                 |                 |                 | of connections. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| default_pool_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | associated      |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| http2_enable    | No              | Boolean         | Specifies       |
|                 |                 |                 | whether to use  |
|                 |                 |                 | HTTP/2.         |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**:    |
|                 |                 |                 |    HTTP/2 is    |
|                 |                 |                 |    used.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**:   |
|                 |                 |                 |    HTTP/2 is    |
|                 |                 |                 |    not used.    |
+-----------------+-----------------+-----------------+-----------------+
| default_tl      | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the       |
|                 |                 |                 | server          |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| client_ca_tl    | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the CA    |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | No              | String          | Specifies the   |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the          |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **TCP**,     |
|                 |                 |                 | **HTTP**,       |
|                 |                 |                 | **UDP**, or     |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | No              | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the listener.   |
+-----------------+-----------------+-----------------+-----------------+
| tls             | No              | String          | Specifies the   |
| _ciphers_policy |                 |                 | security policy |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener. This  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | valid only when |
|                 |                 |                 | the protocol    |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener is set |
|                 |                 |                 | to              |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **tls-1-0**, |
|                 |                 |                 | **tls-1-1**,    |
|                 |                 |                 | **tls-1-2**, or |
|                 |                 |                 | **tl            |
|                 |                 |                 | s-1-2-strict**. |
|                 |                 |                 | For details of  |
|                 |                 |                 | cipher suites   |
|                 |                 |                 | for each        |
|                 |                 |                 | security        |
|                 |                 |                 | policy, see     |
|                 |                 |                 | Table 3-45.     |
+-----------------+-----------------+-----------------+-----------------+
| t               | No              | String          | Queries the     |
| ls_container_id |                 |                 | listener        |
|                 |                 |                 | associated with |
|                 |                 |                 | the             |
|                 |                 |                 | certificate.    |
+-----------------+-----------------+-----------------+-----------------+
| sni             | No              | String          | Queries the     |
| _container_refs |                 |                 | listener        |
|                 |                 |                 | associated with |
|                 |                 |                 | the SNI         |
|                 |                 |                 | certificate.    |
+-----------------+-----------------+-----------------+-----------------+

1. **tls_ciphers_policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Security Policy       | TLS Version           | Cipher Suite          |
+=======================+=======================+=======================+
| tls-1-0-inherit       | TLSv1.2 TLSv1.1 TLSv1 | EC                    |
|                       |                       | DHE-RSA-AES256-GCM-SH |
|                       |                       | A384:ECDHE-RSA-AES128 |
|                       |                       | -GCM-SHA256:ECDHE-ECD |
|                       |                       | SA-AES256-GCM-SHA384: |
|                       |                       | ECDHE-ECDSA-AES128-GC |
|                       |                       | M-SHA256:AES128-GCM-S |
|                       |                       | HA256:AES256-GCM-SHA3 |
|                       |                       | 84:ECDHE-ECDSA-AES128 |
|                       |                       | -SHA256:ECDHE-RSA-AES |
|                       |                       | 128-SHA256:AES128-SHA |
|                       |                       | 256:AES256-SHA256:ECD |
|                       |                       | HE-ECDSA-AES256-SHA38 |
|                       |                       | 4:ECDHE-RSA-AES256-SH |
|                       |                       | A384:ECDHE-ECDSA-AES1 |
|                       |                       | 28-SHA:ECDHE-RSA-AES1 |
|                       |                       | 28-SHA:DHE-RSA-AES128 |
|                       |                       | -SHA:ECDHE-RSA-AES256 |
|                       |                       | -SHA:ECDHE-ECDSA-AES2 |
|                       |                       | 56-SHA:AES128-SHA:AES |
|                       |                       | 256-SHA:DHE-DSS-AES12 |
|                       |                       | 8-SHA:CAMELLIA128-SHA |
|                       |                       | :EDH-RSA-DES-CBC3-SHA |
|                       |                       | :DES-CBC3-SHA:ECDHE-R |
|                       |                       | SA-RC4-SHA:RC4-SHA:DH |
|                       |                       | E-RSA-AES256-SHA:DHE- |
|                       |                       | DSS-AES256-SHA:DHE-RS |
|                       |                       | A-CAMELLIA256-SHA:DHE |
|                       |                       | -DSS-CAMELLIA256-SHA: |
|                       |                       | CAMELLIA256-SHA:EDH-D |
|                       |                       | SS-DES-CBC3-SHA:DHE-R |
|                       |                       | SA-CAMELLIA128-SHA:DH |
|                       |                       | E-DSS-CAMELLIA128-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-0               | TLSv1.2 TLSv1.1 TLSv1 | ECDHE-RSA-A           |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-RSA-AES128-GCM-SHA2 |
|                       |                       | 56:ECDHE-ECDSA-AES256 |
|                       |                       | -GCM-SHA384:ECDHE-ECD |
|                       |                       | SA-AES128-GCM-SHA256: |
|                       |                       | AES128-GCM-SHA256:AES |
|                       |                       | 256-GCM-SHA384:ECDHE- |
|                       |                       | ECDSA-AES128-SHA256:E |
|                       |                       | CDHE-RSA-AES128-SHA25 |
|                       |                       | 6:AES128-SHA256:AES25 |
|                       |                       | 6-SHA256:ECDHE-ECDSA- |
|                       |                       | AES256-SHA384:ECDHE-R |
|                       |                       | SA-AES256-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES256-SHA:EC |
|                       |                       | DHE-ECDSA-AES256-SHA: |
|                       |                       | AES128-SHA:AES256-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-1               |                       | TLSv1.2 TLSv1.1       |
+-----------------------+-----------------------+-----------------------+
| tls-1-2               |                       | TLSv1.2               |
+-----------------------+-----------------------+-----------------------+
| tls-1-2-strict        | TLSv1.2               | ECDHE-                |
|                       |                       | RSA-AES256-GCM-SHA384 |
|                       |                       | :ECDHE-RSA-AES128-GCM |
|                       |                       | -SHA256:ECDHE-ECDSA-A |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-GCM-SH |
|                       |                       | A256:AES128-GCM-SHA25 |
|                       |                       | 6:AES256-GCM-SHA384:E |
|                       |                       | CDHE-ECDSA-AES128-SHA |
|                       |                       | 256:ECDHE-RSA-AES128- |
|                       |                       | SHA256:AES128-SHA256: |
|                       |                       | AES256-SHA256:ECDHE-E |
|                       |                       | CDSA-AES256-SHA384:EC |
|                       |                       | DHE-RSA-AES256-SHA384 |
+-----------------------+-----------------------+-----------------------+

#. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| listeners             | Array                 | Lists the listeners.  |
|                       |                       | For details, see      |
|                       |                       | Table 3-47.           |
+-----------------------+-----------------------+-----------------------+
| listeners_links       | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query. For details,   |
|                       |                       | see Table 3-50.       |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**, **HTTP**,    |
|                       |                       | **UDP**, or           |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | The port number       |
|                       |                       | ranges from 1 to      |
|                       |                       | 65535.                |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array                 | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections.          |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **-1** to             |
|                       |                       | **2147483647**.       |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The default |
|                       |                       | value is **-1**,      |
|                       |                       | indicating that there |
|                       |                       | is no restriction on  |
|                       |                       | the maximum number of |
|                       |                       | connections.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener.      |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2.           |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: HTTP/2   |
|                       |                       |    will be used.      |
|                       |                       |                       |
|                       |                       | -  **false**: HTTP/2  |
|                       |                       |    will not be used.  |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| keepalive_timeout     | Integer               | Specifies the idle    |
|                       |                       | timeout duration in   |
|                       |                       | the unit of second.   |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **1** to **300**. The |
|                       |                       | default value is      |
|                       |                       | **15**.               |
+-----------------------+-----------------------+-----------------------+
| client_timeout        | Integer               | Specifies the request |
|                       |                       | timeout duration in   |
|                       |                       | the unit of second.   |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **1** to **60**. The  |
|                       |                       | default value is      |
|                       |                       | **60**.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when       |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTP** or        |
|                       |                       | **HTTPS**. In other   |
|                       |                       | cases, the request    |
|                       |                       | body does not contain |
|                       |                       | this parameter.       |
|                       |                       | Otherwise, an error   |
|                       |                       | is reported. When     |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTP** or        |
|                       |                       | **HTTPS**, if the     |
|                       |                       | request body does not |
|                       |                       | contain this          |
|                       |                       | parameter or the      |
|                       |                       | value of this         |
|                       |                       | parameter is          |
|                       |                       | **null**, the default |
|                       |                       | value is used.        |
+-----------------------+-----------------------+-----------------------+
| member_timeout        | Integer               | Specifies the         |
|                       |                       | response timeout      |
|                       |                       | duration in the unit  |
|                       |                       | of second.            |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **1** to **60**. The  |
|                       |                       | default value is      |
|                       |                       | **60**.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when       |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTP** or        |
|                       |                       | **HTTPS**. In other   |
|                       |                       | cases, the request    |
|                       |                       | body does not contain |
|                       |                       | this parameter.       |
|                       |                       | Otherwise, an error   |
|                       |                       | is reported. When     |
|                       |                       | **protocol** is set   |
|                       |                       | to **HTTP** or        |
|                       |                       | **HTTPS**, if the     |
|                       |                       | request body does not |
|                       |                       | contain this          |
|                       |                       | parameter or the      |
|                       |                       | value of this         |
|                       |                       | parameter is          |
|                       |                       | **null**, the default |
|                       |                       | value is used.        |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | If a request does not |
|                       |                       | match the forwarding  |
|                       |                       | policy, the request   |
|                       |                       | is forwarded to the   |
|                       |                       | default backend       |
|                       |                       | server group for      |
|                       |                       | processing. If the    |
|                       |                       | value is **null**,    |
|                       |                       | the listener has no   |
|                       |                       | default backend       |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when        |
|                       |                       | **protocol** is set   |
|                       |                       | to                    |
|                       |                       | **TERMINATED_HTTPS**. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 128        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 128        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array                 | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with a   |
|                       |                       | domain name) used by  |
|                       |                       | the listener.         |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Tags the listener.    |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 19         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listeners_links       | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query.                |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is valid    |
|                       |                       | only when the         |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0-inherit**,  |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**. For   |
|                       |                       | details of cipher     |
|                       |                       | suites for each       |
|                       |                       | security policy, see  |
|                       |                       | Table 3-49.           |
+-----------------------+-----------------------+-----------------------+

1. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

2. **tls_ciphers_policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Security Policy       | TLS Version           | Cipher Suite          |
+=======================+=======================+=======================+
| tls-1-0-inherit       | TLSv1.2 TLSv1.1 TLSv1 | EC                    |
|                       |                       | DHE-RSA-AES256-GCM-SH |
|                       |                       | A384:ECDHE-RSA-AES128 |
|                       |                       | -GCM-SHA256:ECDHE-ECD |
|                       |                       | SA-AES256-GCM-SHA384: |
|                       |                       | ECDHE-ECDSA-AES128-GC |
|                       |                       | M-SHA256:AES128-GCM-S |
|                       |                       | HA256:AES256-GCM-SHA3 |
|                       |                       | 84:ECDHE-ECDSA-AES128 |
|                       |                       | -SHA256:ECDHE-RSA-AES |
|                       |                       | 128-SHA256:AES128-SHA |
|                       |                       | 256:AES256-SHA256:ECD |
|                       |                       | HE-ECDSA-AES256-SHA38 |
|                       |                       | 4:ECDHE-RSA-AES256-SH |
|                       |                       | A384:ECDHE-ECDSA-AES1 |
|                       |                       | 28-SHA:ECDHE-RSA-AES1 |
|                       |                       | 28-SHA:DHE-RSA-AES128 |
|                       |                       | -SHA:ECDHE-RSA-AES256 |
|                       |                       | -SHA:ECDHE-ECDSA-AES2 |
|                       |                       | 56-SHA:AES128-SHA:AES |
|                       |                       | 256-SHA:DHE-DSS-AES12 |
|                       |                       | 8-SHA:CAMELLIA128-SHA |
|                       |                       | :EDH-RSA-DES-CBC3-SHA |
|                       |                       | :DES-CBC3-SHA:ECDHE-R |
|                       |                       | SA-RC4-SHA:RC4-SHA:DH |
|                       |                       | E-RSA-AES256-SHA:DHE- |
|                       |                       | DSS-AES256-SHA:DHE-RS |
|                       |                       | A-CAMELLIA256-SHA:DHE |
|                       |                       | -DSS-CAMELLIA256-SHA: |
|                       |                       | CAMELLIA256-SHA:EDH-D |
|                       |                       | SS-DES-CBC3-SHA:DHE-R |
|                       |                       | SA-CAMELLIA128-SHA:DH |
|                       |                       | E-DSS-CAMELLIA128-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-0               | TLSv1.2 TLSv1.1 TLSv1 | ECDHE-RSA-A           |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-RSA-AES128-GCM-SHA2 |
|                       |                       | 56:ECDHE-ECDSA-AES256 |
|                       |                       | -GCM-SHA384:ECDHE-ECD |
|                       |                       | SA-AES128-GCM-SHA256: |
|                       |                       | AES128-GCM-SHA256:AES |
|                       |                       | 256-GCM-SHA384:ECDHE- |
|                       |                       | ECDSA-AES128-SHA256:E |
|                       |                       | CDHE-RSA-AES128-SHA25 |
|                       |                       | 6:AES128-SHA256:AES25 |
|                       |                       | 6-SHA256:ECDHE-ECDSA- |
|                       |                       | AES256-SHA384:ECDHE-R |
|                       |                       | SA-AES256-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES256-SHA:EC |
|                       |                       | DHE-ECDSA-AES256-SHA: |
|                       |                       | AES128-SHA:AES256-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-1               |                       | TLSv1.2 TLSv1.1       |
+-----------------------+-----------------------+-----------------------+
| tls-1-2               |                       | TLSv1.2               |
+-----------------------+-----------------------+-----------------------+
| tls-1-2-strict        | TLSv1.2               | ECDHE-                |
|                       |                       | RSA-AES256-GCM-SHA384 |
|                       |                       | :ECDHE-RSA-AES128-GCM |
|                       |                       | -SHA256:ECDHE-ECDSA-A |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-GCM-SH |
|                       |                       | A256:AES128-GCM-SHA25 |
|                       |                       | 6:AES256-GCM-SHA384:E |
|                       |                       | CDHE-ECDSA-AES128-SHA |
|                       |                       | 256:ECDHE-RSA-AES128- |
|                       |                       | SHA256:AES128-SHA256: |
|                       |                       | AES256-SHA256:ECDHE-E |
|                       |                       | CDSA-AES256-SHA384:EC |
|                       |                       | DHE-RSA-AES256-SHA384 |
+-----------------------+-----------------------+-----------------------+

3. **listeners_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **next** or           |
|                       |                       | **previous**. The     |
|                       |                       | value **next**        |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the next page, and    |
|                       |                       | **previous**          |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the previous page.    |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Querying all listeners

GET https://{Endpoint}/v2.0/lbaas/listeners?limit=2

-  Request example 2: Querying UDP listeners

GET https://{Endpoint}/v2.0/lbaas/listeners?protocol=UDP

#. Example Response

-  Example response 1

| {
| "listeners": [
| {
| "client_ca_tls_container_ref": null,
| "protocol": "TCP",
| "description": "",
| "default_tls_container_ref": null,
| "admin_state_up": true,
| "http2_enable": false,
| "loadbalancers": [
| {
| "id": "bc7ba445-035a-4464-a1a3-a62cf4a14116"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "sni_container_refs": [],
| "connection_limit": -1,
| "protocol_port": 80,
| "default_pool_id": "ed75f16e-fcc6-403e-a3fb-4eae82005eab",
| "id": "75045172-70e9-480d-9443-b8b6459948f7",
| "tags": [],
| "name": "listener-cb2n",
| "tls_ciphers_policy": null,
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| },
| {
| "client_ca_tls_container_ref": null,
| "protocol": "TCP",
| "description": "",
| "default_tls_container_ref": null,
| "admin_state_up": true,
| "http2_enable": false,
| "loadbalancers": [
| {
| "id": "165b6a38-5278-4569-b747-b2ee65ea84a4"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "sni_container_refs": [],
| "connection_limit": -1,
| "protocol_port": 8080,
| "default_pool_id": null,
| "id": "dada0003-7b0e-4de8-a4e1-1e937be2ba14",
| "tags": [],
| "name": "lsnr_name_mod",
| "tls_ciphers_policy": null,
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| ,
| }
| ],
| "listeners_links": [
| {
| "href":
  "https://{Endpoint}/v2.0/lbaas/listeners?limit=2&marker=042cc6a5-e385-4e39-83de-4dde1f801ccb",
| "rel": "next"
| },
| {
| "href":
  "https://{Endpoint}/v2.0/lbaas/listeners?limit=2&marker=025fcaa9-0159-4a0d-8583-d97fa77d9972&page_reverse=True",
| "rel": "previous"
| }
| ]
| }

-  Example response 2

| {
| "listeners": [
| {
| "protocol_port": 64809,
| "protocol": "UDP",
| "description": "",
| "default_tls_container_ref": null,
| "sni_container_refs": [],
| "loadbalancers": [
| {
| "id": "c1127125-64a9-4394-a08a-ef3be8f7ef9c"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "created_at": "2018-11-29T13:56:21",
| "client_ca_tls_container_ref": null,
| "connection_limit": -1,
| "updated_at": "2018-11-29T13:56:22",
| "http2_enable": false,
| "tls_ciphers_policy": null,
| "admin_state_up": true,
| "default_pool_id": "2f6895be-019b-4c82-9b53-c4a2ac009e20",
| "id": "5c63d176-444f-4c75-9cfe-bcb8a05a845c",
| "tags": [],
| "name": "listener-tvp8"
| }
| ]
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _querying-details-of-a-listener-1:

Querying Details of a Listener
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a listener using its ID.

3. URI

GET /v2.0/lbaas/listeners/{listener_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| listener              | Object                | Lists the listeners.  |
|                       |                       | For details, see      |
|                       |                       | Table 3-53.           |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**, **HTTP**,    |
|                       |                       | **UDP**, or           |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | The port number       |
|                       |                       | ranges from 1 to      |
|                       |                       | 65535.                |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array                 | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-43.                 |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections.          |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **-1** to             |
|                       |                       | **2147483647**. The   |
|                       |                       | default value is      |
|                       |                       | **-1**, indicating    |
|                       |                       | that there is no      |
|                       |                       | restriction on the    |
|                       |                       | maximum number of     |
|                       |                       | connections.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener.      |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: The load |
|                       |                       |    balancer is        |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**: The     |
|                       |                       |    load balancer is   |
|                       |                       |    disabled.          |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2.           |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: HTTP/2   |
|                       |                       |    is used.           |
|                       |                       |                       |
|                       |                       | -  **false**: HTTP/2  |
|                       |                       |    is not used.       |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | If a request does not |
|                       |                       | match the forwarding  |
|                       |                       | policy, the request   |
|                       |                       | is forwarded to the   |
|                       |                       | default backend       |
|                       |                       | server group for      |
|                       |                       | processing. If the    |
|                       |                       | value is **null**,    |
|                       |                       | the listener has no   |
|                       |                       | default backend       |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener. For     |
|                       |                       | details, see          |
|                       |                       | `Certificate          |
|                       |                       |  <#certificate-1>`__. |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when        |
|                       |                       | **protocol** is set   |
|                       |                       | to                    |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
|                       |                       | For details, see      |
|                       |                       | `Certificate          |
|                       |                       |  <#certificate-1>`__. |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array                 | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with a   |
|                       |                       | domain name) used by  |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | If the parameter      |
|                       |                       | value is an empty     |
|                       |                       | list, the SNI feature |
|                       |                       | is disabled.          |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Tags the listener.    |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is valid    |
|                       |                       | only when the         |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0-inherit**,  |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**. For   |
|                       |                       | details of cipher     |
|                       |                       | suites for each       |
|                       |                       | security policy, see  |
|                       |                       | Table 3-40.           |
+-----------------------+-----------------------+-----------------------+

1. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Viewing details of a listener

GET
https://{Endpoint}/v2.0/lbaas/listeners/09e64049-2ab0-4763-a8c5-f4207875dc3e

#. Example Response

-  Example response

| {
| "listener": {
| "protocol_port": 8000,
| "protocol": "TCP",
| "description": "",
| "client_ca_tls_container_ref": null,
| "default_tls_container_ref": null,
| "admin_state_up": true,
| "http2_enable": false,
| "loadbalancers": [
| {
| "id": "3d77894d-2ffe-4411-ac0a-0d57689779b8"
| }
| ],
| "tenant_id": "1867112d054b427e808cc6096d8193a1",
| "sni_container_refs": [],
| "connection_limit": -1,
| "default_pool_id": "b7e53dbd-62ab-4505-a280-5c066078a5c9",
| "id": "09e64049-2ab0-4763-a8c5-f4207875dc3e",
| "tags": [],
| "name": "listener-2",
| "tls_ciphers_policy": null,
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Listener
~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a listener, such as listener name,
description, associated backend server groups, and server certificates.

3. Constraints

-  If the provisioning status of the associated load balancer is not
   **ACTIVE**, the listener cannot be updated.

-  Only the administrator can specify **connection_limit**.

-  The **default_pool_id** parameter has the following constraints:

-  Its value cannot be the ID of any backend server group of other
   listeners.

-  Its value cannot be the ID of any backend server group associated
   with the forwarding policies set for other listeners.

-  The relationships between the protocol used by the listener and the
   protocol of the backend server group are as follows:

-  When the protocol used by the listener is **TCP**, the protocol of
   the backend server group must be **TCP**.

-  When the protocol used by the listener is **UDP**, the protocol of
   the backend server group must be **UDP**.

-  When the protocol used by the listener is **HTTP** or
   **TERMINATED_HTTPS**, the protocol of the backend server group must
   be **HTTP**.

   #. URI

PUT /v2.0/lbaas/listeners/{listener_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+

2. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener        | Yes             | Object          | Specifies the   |
|                 |                 |                 | listener. For   |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-57.     |
+-----------------+-----------------+-----------------+-----------------+

2. **listener** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | listener name.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| c               | No              | Integer         | Specifies the   |
| onnection_limit |                 |                 | maximum number  |
|                 |                 |                 | of connections. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **-1** to       |
|                 |                 |                 | **2147483647**. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
|                 |                 |                 | Only the        |
|                 |                 |                 | administrator   |
|                 |                 |                 | can specify the |
|                 |                 |                 | maximum number  |
|                 |                 |                 | of connections. |
+-----------------+-----------------+-----------------+-----------------+
| http2_enable    | No              | Boolean         | Specifies       |
|                 |                 |                 | whether to use  |
|                 |                 |                 | HTTP/2.         |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**:    |
|                 |                 |                 |    HTTP/2 is    |
|                 |                 |                 |    used.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**:   |
|                 |                 |                 |    HTTP/2 is    |
|                 |                 |                 |    not used.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the        |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the listener |
|                 |                 |                 | is set to       |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| default_pool_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | associated      |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | If a request    |
|                 |                 |                 | does not match  |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | policy, the     |
|                 |                 |                 | request is      |
|                 |                 |                 | forwarded to    |
|                 |                 |                 | the default     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group for       |
|                 |                 |                 | processing. If  |
|                 |                 |                 | the value is    |
|                 |                 |                 | **null**, the   |
|                 |                 |                 | listener has no |
|                 |                 |                 | default backend |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | has the         |
|                 |                 |                 | following       |
|                 |                 |                 | constraints:    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Its value    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    the ID of    |
|                 |                 |                 |    any backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    of other     |
|                 |                 |                 |    listeners.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  Its value    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    the ID of    |
|                 |                 |                 |    any backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    associated   |
|                 |                 |                 |    with the     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies set |
|                 |                 |                 |    for other    |
|                 |                 |                 |    listeners.   |
|                 |                 |                 |                 |
|                 |                 |                 | The             |
|                 |                 |                 | relationships   |
|                 |                 |                 | between the     |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the listener |
|                 |                 |                 | and the         |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group are as    |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **TCP**, the |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **TCP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **UDP**, the |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **UDP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **HTTP** or  |
|                 |                 |                 |    **TERM       |
|                 |                 |                 | INATED_HTTPS**, |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    of the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **HTTP**.    |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| default_tl      | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the       |
|                 |                 |                 | server          |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when            |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to          |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| client_ca_tl    | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the CA    |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when            |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to          |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| sni             | No              | Array           | Lists the IDs   |
| _container_refs |                 |                 | of SNI          |
|                 |                 |                 | certificates    |
|                 |                 |                 | (server         |
|                 |                 |                 | certificates    |
|                 |                 |                 | with a domain   |
|                 |                 |                 | name) used by   |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | If the          |
|                 |                 |                 | parameter value |
|                 |                 |                 | is an empty     |
|                 |                 |                 | list, the SNI   |
|                 |                 |                 | feature is      |
|                 |                 |                 | disabled.       |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when            |
|                 |                 |                 | **protocol** is |
|                 |                 |                 | set to          |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
+-----------------+-----------------+-----------------+-----------------+
| tls             | No              | String          | Specifies the   |
| _ciphers_policy |                 |                 | security policy |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener. This  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | valid only when |
|                 |                 |                 | the protocol    |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener is set |
|                 |                 |                 | to              |
|                 |                 |                 | **TERM          |
|                 |                 |                 | INATED_HTTPS**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be              |
|                 |                 |                 | **tls           |
|                 |                 |                 | -1-0-inherit**, |
|                 |                 |                 | **tls-1-0**,    |
|                 |                 |                 | **tls-1-1**,    |
|                 |                 |                 | **tls-1-2**, or |
|                 |                 |                 | **tl            |
|                 |                 |                 | s-1-2-strict**, |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **tls-1-0**.    |
|                 |                 |                 | For details of  |
|                 |                 |                 | cipher suites   |
|                 |                 |                 | for each        |
|                 |                 |                 | security        |
|                 |                 |                 | policy, see     |
|                 |                 |                 | Table 3-58.     |
+-----------------+-----------------+-----------------+-----------------+

1. **tls_ciphers_policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Security Policy       | TLS Version           | Cipher Suite          |
+=======================+=======================+=======================+
| tls-1-0-inherit       | TLSv1.2 TLSv1.1 TLSv1 | EC                    |
|                       |                       | DHE-RSA-AES256-GCM-SH |
|                       |                       | A384:ECDHE-RSA-AES128 |
|                       |                       | -GCM-SHA256:ECDHE-ECD |
|                       |                       | SA-AES256-GCM-SHA384: |
|                       |                       | ECDHE-ECDSA-AES128-GC |
|                       |                       | M-SHA256:AES128-GCM-S |
|                       |                       | HA256:AES256-GCM-SHA3 |
|                       |                       | 84:ECDHE-ECDSA-AES128 |
|                       |                       | -SHA256:ECDHE-RSA-AES |
|                       |                       | 128-SHA256:AES128-SHA |
|                       |                       | 256:AES256-SHA256:ECD |
|                       |                       | HE-ECDSA-AES256-SHA38 |
|                       |                       | 4:ECDHE-RSA-AES256-SH |
|                       |                       | A384:ECDHE-ECDSA-AES1 |
|                       |                       | 28-SHA:ECDHE-RSA-AES1 |
|                       |                       | 28-SHA:DHE-RSA-AES128 |
|                       |                       | -SHA:ECDHE-RSA-AES256 |
|                       |                       | -SHA:ECDHE-ECDSA-AES2 |
|                       |                       | 56-SHA:AES128-SHA:AES |
|                       |                       | 256-SHA:DHE-DSS-AES12 |
|                       |                       | 8-SHA:CAMELLIA128-SHA |
|                       |                       | :EDH-RSA-DES-CBC3-SHA |
|                       |                       | :DES-CBC3-SHA:ECDHE-R |
|                       |                       | SA-RC4-SHA:RC4-SHA:DH |
|                       |                       | E-RSA-AES256-SHA:DHE- |
|                       |                       | DSS-AES256-SHA:DHE-RS |
|                       |                       | A-CAMELLIA256-SHA:DHE |
|                       |                       | -DSS-CAMELLIA256-SHA: |
|                       |                       | CAMELLIA256-SHA:EDH-D |
|                       |                       | SS-DES-CBC3-SHA:DHE-R |
|                       |                       | SA-CAMELLIA128-SHA:DH |
|                       |                       | E-DSS-CAMELLIA128-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-0               | TLSv1.2 TLSv1.1 TLSv1 | ECDHE-RSA-A           |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-RSA-AES128-GCM-SHA2 |
|                       |                       | 56:ECDHE-ECDSA-AES256 |
|                       |                       | -GCM-SHA384:ECDHE-ECD |
|                       |                       | SA-AES128-GCM-SHA256: |
|                       |                       | AES128-GCM-SHA256:AES |
|                       |                       | 256-GCM-SHA384:ECDHE- |
|                       |                       | ECDSA-AES128-SHA256:E |
|                       |                       | CDHE-RSA-AES128-SHA25 |
|                       |                       | 6:AES128-SHA256:AES25 |
|                       |                       | 6-SHA256:ECDHE-ECDSA- |
|                       |                       | AES256-SHA384:ECDHE-R |
|                       |                       | SA-AES256-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES128-SHA:EC |
|                       |                       | DHE-RSA-AES256-SHA:EC |
|                       |                       | DHE-ECDSA-AES256-SHA: |
|                       |                       | AES128-SHA:AES256-SHA |
+-----------------------+-----------------------+-----------------------+
| tls-1-1               |                       | TLSv1.2 TLSv1.1       |
+-----------------------+-----------------------+-----------------------+
| tls-1-2               |                       | TLSv1.2               |
+-----------------------+-----------------------+-----------------------+
| tls-1-2-strict        | TLSv1.2               | ECDHE-                |
|                       |                       | RSA-AES256-GCM-SHA384 |
|                       |                       | :ECDHE-RSA-AES128-GCM |
|                       |                       | -SHA256:ECDHE-ECDSA-A |
|                       |                       | ES256-GCM-SHA384:ECDH |
|                       |                       | E-ECDSA-AES128-GCM-SH |
|                       |                       | A256:AES128-GCM-SHA25 |
|                       |                       | 6:AES256-GCM-SHA384:E |
|                       |                       | CDHE-ECDSA-AES128-SHA |
|                       |                       | 256:ECDHE-RSA-AES128- |
|                       |                       | SHA256:AES128-SHA256: |
|                       |                       | AES256-SHA256:ECDHE-E |
|                       |                       | CDSA-AES256-SHA384:EC |
|                       |                       | DHE-RSA-AES256-SHA384 |
+-----------------------+-----------------------+-----------------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| listener              | Object                | Specifies the         |
|                       |                       | listener. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-60.                 |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**, **HTTP**,    |
|                       |                       | **UDP**, or           |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | The port number       |
|                       |                       | ranges from 1 to      |
|                       |                       | 65535.                |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array                 | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-43.                 |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections.          |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **-1** to             |
|                       |                       | **2147483647**. The   |
|                       |                       | default value is      |
|                       |                       | **-1**, indicating    |
|                       |                       | that there is no      |
|                       |                       | restriction on the    |
|                       |                       | maximum number of     |
|                       |                       | connections.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener.      |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: The load |
|                       |                       |    balancer is        |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**: The     |
|                       |                       |    load balancer is   |
|                       |                       |    disabled.          |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2.           |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: HTTP/2   |
|                       |                       |    is used.           |
|                       |                       |                       |
|                       |                       | -  **false**: HTTP/2  |
|                       |                       |    is not used.       |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | If a request does not |
|                       |                       | match the forwarding  |
|                       |                       | policy, the request   |
|                       |                       | is forwarded to the   |
|                       |                       | default backend       |
|                       |                       | server group for      |
|                       |                       | processing. If the    |
|                       |                       | value is **null**,    |
|                       |                       | the listener has no   |
|                       |                       | default backend       |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener. For     |
|                       |                       | details, see          |
|                       |                       | `Certificate          |
|                       |                       |  <#certificate-1>`__. |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when        |
|                       |                       | **protocol** is set   |
|                       |                       | to                    |
|                       |                       | **TERMINATED_HTTPS**. |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
|                       |                       | For details, see      |
|                       |                       | `Certificate          |
|                       |                       |  <#certificate-1>`__. |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array                 | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with a   |
|                       |                       | domain name) used by  |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | If the parameter      |
|                       |                       | value is an empty     |
|                       |                       | list, the SNI feature |
|                       |                       | is disabled.          |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Tags the listener.    |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated. The UTC time |
|                       |                       | is in                 |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is valid    |
|                       |                       | only when the         |
|                       |                       | protocol used by the  |
|                       |                       | listener is set to    |
|                       |                       | **TERMINATED_HTTPS**. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0-inherit**,  |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**. For   |
|                       |                       | details of cipher     |
|                       |                       | suites for each       |
|                       |                       | security policy, see  |
|                       |                       | Table 3-40.           |
+-----------------------+-----------------------+-----------------------+

1. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Updating a listener

| PUT
  https://{Endpoint}/v2.0/lbaas/listeners/f622c150-72f5-4263-a47a-e5003c652aa3
| {
| "listener": {
| "description": "my listener",
| "name": "listener-jy-test2",
| "default_pool_id": "c61310de-9a06-4f0c-850c-6f4797b9984c",
| "default_tls_container_ref": "23b58a961a4d4c95be585e98046e657a",
| "client_ca_tls_container_ref": "417a0976969f497db8cbb083bff343ba"
| }
| }

#. Example Response

-  Example response

| {
| "listener": {
| "client_ca_tls_container_ref": "417a0976969f497db8cbb083bff343ba",
| "protocol": "TERMINATED_HTTPS",
| "description": "my listener",
| "default_tls_container_ref": "23b58a961a4d4c95be585e98046e657a",
| "admin_state_up": true,
| "http2_enable": false,
| "loadbalancers": [
| {
| "id": "165b6a38-5278-4569-b747-b2ee65ea84a4"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "sni_container_refs": [],
| "connection_limit": -1,
| "protocol_port": 443,
| "tags": [],
| "default_pool_id": "c61310de-9a06-4f0c-850c-6f4797b9984c",
| "id": "f622c150-72f5-4263-a47a-e5003c652aa3",
| "name": "listener-jy-test2",
| "tls_ciphers_policy": "tls-1-0",
| "created_at": "2018-07-25T01:54:13",
| "updated_at": "2018-07-25T01:54:14"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _deleting-a-listener-1:

Deleting a Listener
~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a listener by ID.

3. Constraints

All backend server groups associated with the listener must be deleted
before the listener is deleted.

4. URI

DELETE /v2.0/lbaas/listeners/{listener_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

None

7. Example Request

-  Example request: Deleting a listener

DELETE
https://{Endpoint}/v2.0/lbaas/listeners/35cb8516-1173-4035-8dae-0dae3453f37f

#. Example Response

-  Example response

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Backend Server Group
--------------------

1. .. rubric:: Adding a Backend Server Group
      :name: adding-a-backend-server-group

   #. Function

This API is used to add a backend server group. After multiple backend
servers are added to a backend server group, requests are distributed
among backend servers based on the load balancing algorithm configured
for the backend server group and the weight set for each backend server.

2. Constraints

-  Backend server groups using different protocols cannot be added to
   the same listener.

-  If parameter **session-persistence** is configured, parameter
   **cookie_name** is available only when the value of **type** is
   **APP_COOKIE**.

   #. URI

POST /v2.0/lbaas/pools

2. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool            | Yes             | Object          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group. For      |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-64.     |
+-----------------+-----------------+-----------------+-----------------+

2. **pool** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group is |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | name of the     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | Yes             | String          | Specifies the   |
|                 |                 |                 | protocol that   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group    |
|                 |                 |                 | uses to receive |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | TCP, UDP, and   |
|                 |                 |                 | HTTP are        |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | When a backend  |
|                 |                 |                 | server group is |
|                 |                 |                 | associated with |
|                 |                 |                 | a listener, the |
|                 |                 |                 | relationships   |
|                 |                 |                 | between the     |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the listener |
|                 |                 |                 | and the         |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group are as    |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **UDP**, the |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **UDP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **TCP**, the |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **TCP**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol     |
|                 |                 |                 |    used by the  |
|                 |                 |                 |    listener is  |
|                 |                 |                 |    **HTTP** or  |
|                 |                 |                 |    **TERM       |
|                 |                 |                 | INATED_HTTPS**, |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    of the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    **HTTP**.    |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancing  |
|                 |                 |                 | algorithm of    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *ROUND_ROBIN**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the weighted |
|                 |                 |                 |    round robin  |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  **LEAST      |
|                 |                 |                 | _CONNECTIONS**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the weighted |
|                 |                 |                 |    least        |
|                 |                 |                 |    connections  |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **SOURCE_IP**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the source   |
|                 |                 |                 |    IP hash      |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | When the value  |
|                 |                 |                 | is              |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | the weights of  |
|                 |                 |                 | backend servers |
|                 |                 |                 | in the server   |
|                 |                 |                 | group are       |
|                 |                 |                 | invalid.        |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener        |
|                 |                 |                 | associated with |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | Specify either  |
|                 |                 |                 | **listener_id** |
|                 |                 |                 | or              |
|                 |                 |                 | **loa           |
|                 |                 |                 | dbalancer_id**, |
|                 |                 |                 | or both of      |
|                 |                 |                 | them.           |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer        |
|                 |                 |                 | associated with |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | Specify either  |
|                 |                 |                 | **listener_id** |
|                 |                 |                 | or              |
|                 |                 |                 | **loa           |
|                 |                 |                 | dbalancer_id**, |
|                 |                 |                 | or both of      |
|                 |                 |                 | them.           |
+-----------------+-----------------+-----------------+-----------------+
| sess            | No              | Object          | Specifies the   |
| ion_persistence |                 |                 | sticky session  |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration in     |
|                 |                 |                 | minutes. For    |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-65.     |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | **null**, the   |
|                 |                 |                 | sticky session  |
|                 |                 |                 | feature is      |
|                 |                 |                 | disabled.       |
+-----------------+-----------------+-----------------+-----------------+

1. **session_persistence** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | sticky session  |
|                 |                 |                 | type.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **SOURCE_IP**: |
|                 |                 |                 |    Requests are |
|                 |                 |                 |    distributed  |
|                 |                 |                 |    based on the |
|                 |                 |                 |    client's IP  |
|                 |                 |                 |    address.     |
|                 |                 |                 |    Requests     |
|                 |                 |                 |    from the     |
|                 |                 |                 |    same IP      |
|                 |                 |                 |    address are  |
|                 |                 |                 |    sent to the  |
|                 |                 |                 |    same backend |
|                 |                 |                 |    server.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *HTTP_COOKIE**: |
|                 |                 |                 |    When the     |
|                 |                 |                 |    client sends |
|                 |                 |                 |    a request    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    first time,  |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer     |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    generates a  |
|                 |                 |                 |    cookie and   |
|                 |                 |                 |    inserts the  |
|                 |                 |                 |    cookie into  |
|                 |                 |                 |    the response |
|                 |                 |                 |    message.     |
|                 |                 |                 |    Subsequent   |
|                 |                 |                 |    requests are |
|                 |                 |                 |    sent to the  |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server that  |
|                 |                 |                 |    processes    |
|                 |                 |                 |    the first    |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 | **APP_COOKIE**: |
|                 |                 |                 |    When the     |
|                 |                 |                 |    client sends |
|                 |                 |                 |    a request    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    first time,  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server that  |
|                 |                 |                 |    receives the |
|                 |                 |                 |    request      |
|                 |                 |                 |    generates a  |
|                 |                 |                 |    cookie and   |
|                 |                 |                 |    inserts the  |
|                 |                 |                 |    cookie into  |
|                 |                 |                 |    the response |
|                 |                 |                 |    message.     |
|                 |                 |                 |    Subsequent   |
|                 |                 |                 |    requests are |
|                 |                 |                 |    sent to this |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server.      |
|                 |                 |                 |                 |
|                 |                 |                 | When the        |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group is TCP,   |
|                 |                 |                 | only            |
|                 |                 |                 | **SOURCE_IP**   |
|                 |                 |                 | takes effect.   |
|                 |                 |                 | When the        |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group is HTTP,  |
|                 |                 |                 | only            |
|                 |                 |                 | **HTTP_COOKIE** |
|                 |                 |                 | or              |
|                 |                 |                 | **APP_COOKIE**  |
|                 |                 |                 | takes effect.   |
+-----------------+-----------------+-----------------+-----------------+
| cookie_name     | No              | String          | Specifies the   |
|                 |                 |                 | cookie name.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when the sticky |
|                 |                 |                 | session type is |
|                 |                 |                 | **APP_COOKIE**. |
+-----------------+-----------------+-----------------+-----------------+
| pers            | No              | Integer         | Specifies the   |
| istence_timeout |                 |                 | sticky session  |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration in     |
|                 |                 |                 | minutes.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is invalid when |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to              |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value range |
|                 |                 |                 | varies          |
|                 |                 |                 | depending on    |
|                 |                 |                 | the protocol of |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group:   |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP or    |
|                 |                 |                 |    UDP, the     |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **60**,   |
|                 |                 |                 |    and the      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **1**.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP, the |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **1440**, |
|                 |                 |                 |    and the      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| pool                  | Object                | Specifies the backend |
|                       |                       | server group. For     |
|                       |                       | details, see Table    |
|                       |                       | 3-67.                 |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server group  |
|                       |                       | is used.              |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol that the     |
|                       |                       | backend server group  |
|                       |                       | uses to receive       |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | TCP, UDP, and HTTP    |
|                       |                       | are supported.        |
|                       |                       |                       |
|                       |                       | When a backend server |
|                       |                       | group is associated   |
|                       |                       | with a listener, the  |
|                       |                       | relationships between |
|                       |                       | the protocol used by  |
|                       |                       | the listener and the  |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | are as follows:       |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **UDP**, the       |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    **UDP**.           |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **TCP**, the       |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    **TCP**.           |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **HTTP** or        |
|                       |                       |                       |
|                       |                       | **TERMINATED_HTTPS**, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be      |
|                       |                       |    **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ROUND_ROBIN**:   |
|                       |                       |    indicates the      |
|                       |                       |    weighted round     |
|                       |                       |    robin algorithm.   |
|                       |                       |                       |
|                       |                       | -  *                  |
|                       |                       | *LEAST_CONNECTIONS**: |
|                       |                       |    indicates the      |
|                       |                       |    weighted least     |
|                       |                       |    connections        |
|                       |                       |    algorithm.         |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    indicates the      |
|                       |                       |    source IP hash     |
|                       |                       |    algorithm. When    |
|                       |                       |    the value is       |
|                       |                       |    **SOURCE_IP**, the |
|                       |                       |    weights of backend |
|                       |                       |    servers in the     |
|                       |                       |    server group are   |
|                       |                       |    invalid.           |
+-----------------------+-----------------------+-----------------------+
| members               | Array                 | Lists the IDs of      |
|                       |                       | backend servers in    |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array                 | Lists the IDs of load |
|                       |                       | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Object                | Specifies whether to  |
|                       |                       | enable sticky         |
|                       |                       | sessions. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-71.                 |
|                       |                       |                       |
|                       |                       | Once sticky session   |
|                       |                       | are enabled, requests |
|                       |                       | from the same client  |
|                       |                       | are sent to the same  |
|                       |                       | backend server during |
|                       |                       | the session.          |
|                       |                       |                       |
|                       |                       | When sticky sessions  |
|                       |                       | are disabled, the     |
|                       |                       | value is **null**.    |
+-----------------------+-----------------------+-----------------------+

1. **members** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server.       |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

3. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

4. **session_persistence** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type.         |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    Requests are       |
|                       |                       |    distributed based  |
|                       |                       |    on the client's IP |
|                       |                       |    address. Requests  |
|                       |                       |    from the same IP   |
|                       |                       |    address are sent   |
|                       |                       |    to the same        |
|                       |                       |    backend server.    |
|                       |                       |                       |
|                       |                       | -  **HTTP_COOKIE**:   |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the load     |
|                       |                       |    balancer           |
|                       |                       |    automatically      |
|                       |                       |    generates a cookie |
|                       |                       |    and inserts the    |
|                       |                       |    cookie into the    |
|                       |                       |    response message.  |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to the backend     |
|                       |                       |    server that        |
|                       |                       |    processes the      |
|                       |                       |    first request.     |
|                       |                       |                       |
|                       |                       | -  **APP_COOKIE**:    |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the backend  |
|                       |                       |    server that        |
|                       |                       |    receives the       |
|                       |                       |    request generates  |
|                       |                       |    a cookie and       |
|                       |                       |    inserts the cookie |
|                       |                       |    into the response  |
|                       |                       |    message.           |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to this backend    |
|                       |                       |    server.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP, only    |
|                       |                       | **SOURCE_IP** takes   |
|                       |                       | effect. When the      |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP, only         |
|                       |                       | **HTTP_COOKIE** or    |
|                       |                       | **APP_COOKIE** takes  |
|                       |                       | effect.               |
+-----------------------+-----------------------+-----------------------+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when the    |
|                       |                       | sticky session type   |
|                       |                       | is **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the sticky  |
|                       |                       | session timeout       |
|                       |                       | duration in minutes.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when **type** |
|                       |                       | is set to             |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  Optional value     |
|                       |                       |    ranges are as      |
|                       |                       |    follows:           |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is TCP or |
|                       |                       |       UDP, the value  |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **60**.         |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is HTTP,  |
|                       |                       |       the value       |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **1440**.       |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Adding a backend server group with the sticky
   session feature disabled

| POST https://{Endpoint}/v2.0/lbaas/pools
| {
| "pool": {
| "lb_algorithm":"ROUND_ROBIN",
| "loadbalancer_id": "63ad9dfe-4750-479f-9630-ada43ccc8117",
| "protocol":"HTTP"
| }
| }

-  Example request 2: Adding an HTTP backend server group with the value
   of **type** set to **APP_COOKIE**

| POST https://{Endpoint}/v2.0/lbaas/pools
| {
| "pool": {
| "lb_algorithm": "ROUND_ROBIN",
| "listener_id": "370fb112-e920-486a-b051-1d0d30704dd3",
| "protocol": "HTTP",
| "session_persistence": {
| "cookie_name": "my_cookie",
| "type": "APP_COOKIE",
| "persistence_timeout": 1
| },
| "admin_state_up": true
| }
| }

-  Example request 3: Adding an HTTP backend server group with the value
   of **type** set to **HTTP_COOKIE**

| POST https://{Endpoint}/v2.0/lbaas/pools
| {
| "pool": {
| "lb_algorithm":"ROUND_ROBIN",
| "loadbalancer_id": "63ad9dfe-4750-479f-9630-ada43ccc8117",
| "protocol":"HTTP",
| "session_persistence":{
| "type":"HTTP_COOKIE"
| }
| }
| }

#. Example Response

-  Example response 1

| {
| "pool": {
| "lb_algorithm": "ROUND_ROBIN",
| "protocol": "HTTP",
| "description": "",
| "admin_state_up": true,
| "loadbalancers": [
| {
| "id": "63ad9dfe-4750-479f-9630-ada43ccc8117"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "session_persistence": null,
| "healthmonitor_id": null,
| "listeners": [],
| "members": [],
| "id": "4e496951-befb-47bf-9573-c1cd11825c07",
| "name": ""
| }
| }

-  Example response 2

| {
| "pool": {
| "lb_algorithm": "ROUND_ROBIN",
| "protocol": "HTTP",
| "description": "",
| "admin_state_up": true,
| "loadbalancers": [
| {
| "id": "6b041b9e-976b-40ba-b075-375be6110b53"
| }
| ],
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "session_persistence": {
| "cookie_name": "my_cookie",
| "type": "APP_COOKIE",
| "persistence_timeout": 1
| },
| "healthmonitor_id": null,
| "listeners": [
| {
| "id": "370fb112-e920-486a-b051-1d0d30704dd3"
| }
| ],
| "members": [
| ],
| "id": "307f8968-9474-4d0c-8434-66be09dabcc1",
| "name": ""
| }
| }

-  Example response 3

| {
| "pool": {
| "lb_algorithm": "ROUND_ROBIN",
| "protocol": "HTTP",
| "description": "",
| "admin_state_up": true,
| "loadbalancers": [
| {
| "id": "63ad9dfe-4750-479f-9630-ada43ccc8117"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "session_persistence": {
| "persistence_timeout": 1440,
| "cookie_name": null,
| "type": "HTTP_COOKIE"
| },
| "healthmonitor_id": null,
| "listeners": [],
| "members": [],
| "id": "d46eab56-d76b-4cd3-8952-3c3c4cf113aa",
| "name": ""
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Backend Server Groups
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Request

   1. Request parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group from      |
|                 |                 |                 | which           |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group on the    |
|                 |                 |                 | previous page.  |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not specified,  |
|                 |                 |                 | the first page  |
|                 |                 |                 | will be         |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | backend server  |
|                 |                 |                 | groups on each  |
|                 |                 |                 | page.           |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group is |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group name.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| h               | No              | String          | Specifies the   |
| ealthmonitor_id |                 |                 | ID of the       |
|                 |                 |                 | health check    |
|                 |                 |                 | configured for  |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer        |
|                 |                 |                 | associated with |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | No              | String          | Specifies the   |
|                 |                 |                 | protocol that   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group    |
|                 |                 |                 | uses to receive |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | TCP, UDP, and   |
|                 |                 |                 | HTTP are        |
|                 |                 |                 | supported.      |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | No              | String          | Specifies the   |
|                 |                 |                 | load balancing  |
|                 |                 |                 | algorithm of    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *ROUND_ROBIN**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the weighted |
|                 |                 |                 |    round robin  |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  **LEAST      |
|                 |                 |                 | _CONNECTIONS**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the weighted |
|                 |                 |                 |    least        |
|                 |                 |                 |    connections  |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **SOURCE_IP**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the source   |
|                 |                 |                 |    IP hash      |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | When the value  |
|                 |                 |                 | is              |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | the weights of  |
|                 |                 |                 | backend servers |
|                 |                 |                 | in the server   |
|                 |                 |                 | group are       |
|                 |                 |                 | invalid. For    |
|                 |                 |                 | details about   |
|                 |                 |                 | parameter       |
|                 |                 |                 | **weight**, see |
|                 |                 |                 | Table 3-109.    |
+-----------------+-----------------+-----------------+-----------------+
| member_address  | No              | String          | Lists the IDs   |
|                 |                 |                 | of backend      |
|                 |                 |                 | servers in the  |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | String          | Specifies the   |
| ember_device_id |                 |                 | ID of the ECS   |
|                 |                 |                 | corresponding   |
|                 |                 |                 | to the backend  |
|                 |                 |                 | server in the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| pools                 | Array                 | Lists the backend     |
|                       |                       | server groups. For    |
|                       |                       | details, see Table    |
|                       |                       | 3-74.                 |
+-----------------------+-----------------------+-----------------------+
| pools_links           | List                  | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       |                       |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query. For details,   |
|                       |                       | see Table 3-79.       |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server group  |
|                       |                       | is used.              |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server group name.    |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol that the     |
|                       |                       | backend server group  |
|                       |                       | uses to receive       |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | TCP, UDP, and HTTP    |
|                       |                       | are supported.        |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | -  **ROUND_ROBIN**:   |
|                       |                       |    indicates the      |
|                       |                       |    weighted round     |
|                       |                       |    robin algorithm.   |
|                       |                       |                       |
|                       |                       | -  *                  |
|                       |                       | *LEAST_CONNECTIONS**: |
|                       |                       |    indicates the      |
|                       |                       |    weighted least     |
|                       |                       |    connections        |
|                       |                       |    algorithm.         |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    indicates the      |
|                       |                       |    source IP hash     |
|                       |                       |    algorithm.         |
|                       |                       |                       |
|                       |                       | When the value is     |
|                       |                       | **SOURCE_IP**, the    |
|                       |                       | weights of backend    |
|                       |                       | servers in the server |
|                       |                       | group are invalid.    |
+-----------------------+-----------------------+-----------------------+
| members               | Array                 | Lists the IDs of      |
|                       |                       | backend servers in    |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The default |
|                       |                       | value is **true**.    |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | String                | Lists the IDs of load |
|                       |                       | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Object                | Specifies whether to  |
|                       |                       | enable the sticky     |
|                       |                       | session feature. For  |
|                       |                       | details, see Table    |
|                       |                       | 3-78.                 |
|                       |                       |                       |
|                       |                       | Once the sticky       |
|                       |                       | session feature is    |
|                       |                       | enabled, requests     |
|                       |                       | from the same client  |
|                       |                       | are sent to the same  |
|                       |                       | backend server within |
|                       |                       | the specified period. |
|                       |                       |                       |
|                       |                       | When this feature is  |
|                       |                       | disabled, the         |
|                       |                       | parameter value is    |
|                       |                       | **null**.             |
+-----------------------+-----------------------+-----------------------+

1. **members** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server.       |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

3. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

4. **session_persistence** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type.         |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    Requests are       |
|                       |                       |    distributed based  |
|                       |                       |    on the client's IP |
|                       |                       |    address. Requests  |
|                       |                       |    from the same IP   |
|                       |                       |    address are sent   |
|                       |                       |    to the same        |
|                       |                       |    backend server.    |
|                       |                       |                       |
|                       |                       | -  **HTTP_COOKIE**:   |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the load     |
|                       |                       |    balancer           |
|                       |                       |    automatically      |
|                       |                       |    generates a cookie |
|                       |                       |    and inserts the    |
|                       |                       |    cookie into the    |
|                       |                       |    response message.  |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to the backend     |
|                       |                       |    server that        |
|                       |                       |    processes the      |
|                       |                       |    first request.     |
|                       |                       |                       |
|                       |                       | -  **APP_COOKIE**:    |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the backend  |
|                       |                       |    server that        |
|                       |                       |    receives the       |
|                       |                       |    request generates  |
|                       |                       |    a cookie and       |
|                       |                       |    inserts the cookie |
|                       |                       |    into the response  |
|                       |                       |    message.           |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to this backend    |
|                       |                       |    server.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP, only    |
|                       |                       | **SOURCE_IP** takes   |
|                       |                       | effect. When the      |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP, only         |
|                       |                       | **HTTP_COOKIE** or    |
|                       |                       | **APP_COOKIE** takes  |
|                       |                       | effect.               |
+-----------------------+-----------------------+-----------------------+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when the    |
|                       |                       | sticky session type   |
|                       |                       | is **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the sticky  |
|                       |                       | session timeout       |
|                       |                       | duration in minutes.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when **type** |
|                       |                       | is set to             |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  Optional value     |
|                       |                       |    ranges are as      |
|                       |                       |    follows:           |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is TCP or |
|                       |                       |       UDP, the value  |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **60**.         |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is HTTP,  |
|                       |                       |       the value       |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **1440**.       |
+-----------------------+-----------------------+-----------------------+

1. **pools_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page. The value  |
|                       |                       | can be **next** or    |
|                       |                       | **previous**.         |
|                       |                       |                       |
|                       |                       | -  **next**:          |
|                       |                       |    indicates the URL  |
|                       |                       |    of the next page.  |
|                       |                       |                       |
|                       |                       | -  **previous**:      |
|                       |                       |    indicates the URL  |
|                       |                       |    of the previous    |
|                       |                       |    page.              |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Adding a backend server group with the sticky
   session feature disabled

| POST https://{Endpoint}/v2.0/lbaas/pools
| {
| "pool": {
| "lb_algorithm":"ROUND_ROBIN",
| "loadbalancer_id": "63ad9dfe-4750-479f-9630-ada43ccc8117",
| "protocol":"HTTP"
| }
| }

-  Example request 2: Querying backend server groups whose load
   balancing algorithm is **SOURCE_IP**

GET https://{Endpoint}/v2.0/lbaas/pools

-  Example response 2

| {
| "pools": [
| {
| "lb_algorithm": "SOURCE_IP",
| "protocol": "TCP",
| "description": "",
| "admin_state_up": true,
| "loadbalancers": [
| {
| "id": "07d28d4a-4899-40a3-a939-5d09d69019e1"
| }
| ],
| "tenant_id": "1867112d054b427e808cc6096d8193a1",
| "session_persistence": null,
| "healthmonitor_id": null,
| "listeners": [
| {
| "id": "1b421c2d-7e78-4a78-9ee4-c8ccba41f15b"
| }
| ],
| "members": [
| {
| "id": "88f9c079-29cb-435a-b98f-0c5c0b90c2bd"
| },
| {
| "id": "2f4c9644-d5d2-4cf8-a3c0-944239a4f58c"
| }
| ],
| "id": "3a9f50bb-f041-4eac-a117-82472d8a0007",
| "name": "my-pool"
| }
| ]
| }

#. Status Codes

See 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Details of a Backend Server Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a backend server group using its
ID.

3. URI

GET /v2.0/lbaas/pools/{pool_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| pool                  | Object                | Specifies the backend |
|                       |                       | server group. For     |
|                       |                       | details, see Table    |
|                       |                       | 3-82.                 |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server group  |
|                       |                       | is used.              |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol that the     |
|                       |                       | backend server group  |
|                       |                       | uses to receive       |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | TCP, UDP, and HTTP    |
|                       |                       | are supported.        |
|                       |                       |                       |
|                       |                       | When a backend server |
|                       |                       | group is associated   |
|                       |                       | with a listener, the  |
|                       |                       | relationships between |
|                       |                       | the protocol used by  |
|                       |                       | the listener and the  |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | are as follows:       |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **UDP**, the       |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    **UDP**.           |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **TCP**, the       |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    **TCP**.           |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **HTTP** or        |
|                       |                       |                       |
|                       |                       | **TERMINATED_HTTPS**, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be      |
|                       |                       |    **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ROUND_ROBIN**:   |
|                       |                       |    indicates the      |
|                       |                       |    weighted round     |
|                       |                       |    robin algorithm.   |
|                       |                       |                       |
|                       |                       | -  *                  |
|                       |                       | *LEAST_CONNECTIONS**: |
|                       |                       |    indicates the      |
|                       |                       |    weighted least     |
|                       |                       |    connections        |
|                       |                       |    algorithm.         |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    indicates the      |
|                       |                       |    source IP hash     |
|                       |                       |    algorithm. When    |
|                       |                       |    the value is       |
|                       |                       |    **SOURCE_IP**, the |
|                       |                       |    weights of backend |
|                       |                       |    servers in the     |
|                       |                       |    server group are   |
|                       |                       |    invalid.           |
+-----------------------+-----------------------+-----------------------+
| members               | Array                 | Lists the IDs of      |
|                       |                       | backend servers in    |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array                 | Lists the IDs of load |
|                       |                       | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Object                | Specifies whether to  |
|                       |                       | enable sticky         |
|                       |                       | sessions. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-71.                 |
|                       |                       |                       |
|                       |                       | Once sticky session   |
|                       |                       | are enabled, requests |
|                       |                       | from the same client  |
|                       |                       | are sent to the same  |
|                       |                       | backend server during |
|                       |                       | the session.          |
|                       |                       |                       |
|                       |                       | When sticky sessions  |
|                       |                       | are disabled, the     |
|                       |                       | value is **null**.    |
+-----------------------+-----------------------+-----------------------+

1. **members** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server.       |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

3. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

4. **session_persistence** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type.         |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    Requests are       |
|                       |                       |    distributed based  |
|                       |                       |    on the client's IP |
|                       |                       |    address. Requests  |
|                       |                       |    from the same IP   |
|                       |                       |    address are sent   |
|                       |                       |    to the same        |
|                       |                       |    backend server.    |
|                       |                       |                       |
|                       |                       | -  **HTTP_COOKIE**:   |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the load     |
|                       |                       |    balancer           |
|                       |                       |    automatically      |
|                       |                       |    generates a cookie |
|                       |                       |    and inserts the    |
|                       |                       |    cookie into the    |
|                       |                       |    response message.  |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to the backend     |
|                       |                       |    server that        |
|                       |                       |    processes the      |
|                       |                       |    first request.     |
|                       |                       |                       |
|                       |                       | -  **APP_COOKIE**:    |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the backend  |
|                       |                       |    server that        |
|                       |                       |    receives the       |
|                       |                       |    request generates  |
|                       |                       |    a cookie and       |
|                       |                       |    inserts the cookie |
|                       |                       |    into the response  |
|                       |                       |    message.           |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to this backend    |
|                       |                       |    server.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP, only    |
|                       |                       | **SOURCE_IP** takes   |
|                       |                       | effect. When the      |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP, only         |
|                       |                       | **HTTP_COOKIE** or    |
|                       |                       | **APP_COOKIE** takes  |
|                       |                       | effect.               |
+-----------------------+-----------------------+-----------------------+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when the    |
|                       |                       | sticky session type   |
|                       |                       | is **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the sticky  |
|                       |                       | session timeout       |
|                       |                       | duration in minutes.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when **type** |
|                       |                       | is set to             |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  Optional value     |
|                       |                       |    ranges are as      |
|                       |                       |    follows:           |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is TCP or |
|                       |                       |       UDP, the value  |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **60**.         |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is HTTP,  |
|                       |                       |       the value       |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **1440**.       |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Querying details of a backend server group

GET
https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332

#. Example Response

-  Example response

| {
| "pool": {
| "lb_algorithm": "SOURCE_IP",
| "protocol": "TCP",
| "description": "",
| "admin_state_up": true,
| "loadbalancers": [
| {
| "id": "6f52004c-3fe9-4c09-b8ce-ed9d9c74a3b1"
| }
| ],
| "tenant_id": "1867112d054b427e808cc6096d8193a1",
| "session_persistence": null,
| "healthmonitor_id": null,
| "listeners": [
| {
| "id": "6e29b2cd-4e53-40f6-ae7b-29e918de67f2"
| }
| ],
| "members": [],
| "id": "5a9a3e9e-d1aa-448e-af37-a70171f2a332",
| "name": "my-pool"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Backend Server Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a backend server group.

3. Constraints

If the provisioning status of the load balancer associated with a
backend server group is not **ACTIVE**, the backend server group cannot
be updated.

4. URI

PUT /v2.0/lbaas/pools/{pool_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool            | Yes             | Object          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group. For      |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-89.     |
+-----------------+-----------------+-----------------+-----------------+

2. **pool** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | name of the     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | No              | String          | Specifies the   |
|                 |                 |                 | load balancing  |
|                 |                 |                 | algorithm of    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *ROUND_ROBIN**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the weighted |
|                 |                 |                 |    round robin  |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  **LEAST      |
|                 |                 |                 | _CONNECTIONS**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the weighted |
|                 |                 |                 |    least        |
|                 |                 |                 |    connections  |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **SOURCE_IP**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the source   |
|                 |                 |                 |    IP hash      |
|                 |                 |                 |    algorithm.   |
|                 |                 |                 |                 |
|                 |                 |                 | When the value  |
|                 |                 |                 | is              |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | the weights of  |
|                 |                 |                 | backend servers |
|                 |                 |                 | in the server   |
|                 |                 |                 | group are       |
|                 |                 |                 | invalid.        |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| sess            | No              | Object          | Specifies       |
| ion_persistence |                 |                 | whether to      |
|                 |                 |                 | enable the      |
|                 |                 |                 | sticky session  |
|                 |                 |                 | feature. For    |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-96.     |
|                 |                 |                 |                 |
|                 |                 |                 | Once sticky     |
|                 |                 |                 | session are     |
|                 |                 |                 | enabled,        |
|                 |                 |                 | requests from   |
|                 |                 |                 | the same client |
|                 |                 |                 | are sent to the |
|                 |                 |                 | same backend    |
|                 |                 |                 | server during   |
|                 |                 |                 | the session.    |
|                 |                 |                 |                 |
|                 |                 |                 | When sticky     |
|                 |                 |                 | sessions are    |
|                 |                 |                 | disabled, the   |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
+-----------------+-----------------+-----------------+-----------------+

1. **session_persistence** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | sticky session  |
|                 |                 |                 | type.           |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **SOURCE_IP**: |
|                 |                 |                 |    Requests are |
|                 |                 |                 |    distributed  |
|                 |                 |                 |    based on the |
|                 |                 |                 |    client's IP  |
|                 |                 |                 |    address.     |
|                 |                 |                 |    Requests     |
|                 |                 |                 |    from the     |
|                 |                 |                 |    same IP      |
|                 |                 |                 |    address are  |
|                 |                 |                 |    sent to the  |
|                 |                 |                 |    same backend |
|                 |                 |                 |    server.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *HTTP_COOKIE**: |
|                 |                 |                 |    When the     |
|                 |                 |                 |    client sends |
|                 |                 |                 |    a request    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    first time,  |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer     |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    generates a  |
|                 |                 |                 |    cookie and   |
|                 |                 |                 |    inserts the  |
|                 |                 |                 |    cookie into  |
|                 |                 |                 |    the response |
|                 |                 |                 |    message.     |
|                 |                 |                 |    Subsequent   |
|                 |                 |                 |    requests are |
|                 |                 |                 |    sent to the  |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server that  |
|                 |                 |                 |    processes    |
|                 |                 |                 |    the first    |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 | **APP_COOKIE**: |
|                 |                 |                 |    When the     |
|                 |                 |                 |    client sends |
|                 |                 |                 |    a request    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    first time,  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server that  |
|                 |                 |                 |    receives the |
|                 |                 |                 |    request      |
|                 |                 |                 |    generates a  |
|                 |                 |                 |    cookie and   |
|                 |                 |                 |    inserts the  |
|                 |                 |                 |    cookie into  |
|                 |                 |                 |    the response |
|                 |                 |                 |    message.     |
|                 |                 |                 |    Subsequent   |
|                 |                 |                 |    requests are |
|                 |                 |                 |    sent to this |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP, only |
|                 |                 |                 |                 |
|                 |                 |                 |   **SOURCE_IP** |
|                 |                 |                 |    takes        |
|                 |                 |                 |    effect. When |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    of the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP,     |
|                 |                 |                 |    only         |
|                 |                 |                 |                 |
|                 |                 |                 | **HTTP_COOKIE** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |  **APP_COOKIE** |
|                 |                 |                 |    takes        |
|                 |                 |                 |    effect.      |
+-----------------+-----------------+-----------------+-----------------+
| cookie_name     | No              | String          | Specifies the   |
|                 |                 |                 | cookie name.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | and can be      |
|                 |                 |                 | specified when  |
|                 |                 |                 | the sticky      |
|                 |                 |                 | session type is |
|                 |                 |                 | **APP_COOKIE**. |
+-----------------+-----------------+-----------------+-----------------+
| pers            | No              | Integer         | Specifies the   |
| istence_timeout |                 |                 | sticky session  |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration in     |
|                 |                 |                 | minutes.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is invalid when |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to              |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | Value range     |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP or    |
|                 |                 |                 |    UDP, the     |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **60**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  When the     |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP, the |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **1440**. |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| pool                  | Object                | Specifies the backend |
|                       |                       | server group. For     |
|                       |                       | details, see Table    |
|                       |                       | 3-92.                 |
+-----------------------+-----------------------+-----------------------+

2. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server group  |
|                       |                       | is used.              |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol that the     |
|                       |                       | backend server group  |
|                       |                       | uses to receive       |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | TCP, UDP, and HTTP    |
|                       |                       | are supported.        |
|                       |                       |                       |
|                       |                       | When a backend server |
|                       |                       | group is associated   |
|                       |                       | with a listener, the  |
|                       |                       | relationships between |
|                       |                       | the protocol used by  |
|                       |                       | the listener and the  |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | are as follows:       |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **UDP**, the       |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    **UDP**.           |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **TCP**, the       |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    **TCP**.           |
|                       |                       |                       |
|                       |                       | -  When the protocol  |
|                       |                       |    used by the        |
|                       |                       |    listener is        |
|                       |                       |    **HTTP** or        |
|                       |                       |                       |
|                       |                       | **TERMINATED_HTTPS**, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be      |
|                       |                       |    **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ROUND_ROBIN**:   |
|                       |                       |    indicates the      |
|                       |                       |    weighted round     |
|                       |                       |    robin algorithm.   |
|                       |                       |                       |
|                       |                       | -  *                  |
|                       |                       | *LEAST_CONNECTIONS**: |
|                       |                       |    indicates the      |
|                       |                       |    weighted least     |
|                       |                       |    connections        |
|                       |                       |    algorithm.         |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    indicates the      |
|                       |                       |    source IP hash     |
|                       |                       |    algorithm. When    |
|                       |                       |    the value is       |
|                       |                       |    **SOURCE_IP**, the |
|                       |                       |    weights of backend |
|                       |                       |    servers in the     |
|                       |                       |    server group are   |
|                       |                       |    invalid.           |
+-----------------------+-----------------------+-----------------------+
| members               | Array                 | Lists the IDs of      |
|                       |                       | backend servers in    |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array                 | Lists the IDs of      |
|                       |                       | listeners associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array                 | Lists the IDs of load |
|                       |                       | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Object                | Specifies whether to  |
|                       |                       | enable sticky         |
|                       |                       | sessions. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-71.                 |
|                       |                       |                       |
|                       |                       | Once sticky session   |
|                       |                       | are enabled, requests |
|                       |                       | from the same client  |
|                       |                       | are sent to the same  |
|                       |                       | backend server during |
|                       |                       | the session.          |
|                       |                       |                       |
|                       |                       | When sticky sessions  |
|                       |                       | are disabled, the     |
|                       |                       | value is **null**.    |
+-----------------------+-----------------------+-----------------------+

1. **members** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server.       |
+-----------------------+-----------------------+-----------------------+

2. **listeners** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

3. **loadbalancers** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated load   |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

4. **session_persistence** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type.         |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **SOURCE_IP**:     |
|                       |                       |    Requests are       |
|                       |                       |    distributed based  |
|                       |                       |    on the client's IP |
|                       |                       |    address. Requests  |
|                       |                       |    from the same IP   |
|                       |                       |    address are sent   |
|                       |                       |    to the same        |
|                       |                       |    backend server.    |
|                       |                       |                       |
|                       |                       | -  **HTTP_COOKIE**:   |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the load     |
|                       |                       |    balancer           |
|                       |                       |    automatically      |
|                       |                       |    generates a cookie |
|                       |                       |    and inserts the    |
|                       |                       |    cookie into the    |
|                       |                       |    response message.  |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to the backend     |
|                       |                       |    server that        |
|                       |                       |    processes the      |
|                       |                       |    first request.     |
|                       |                       |                       |
|                       |                       | -  **APP_COOKIE**:    |
|                       |                       |    When the client    |
|                       |                       |    sends a request    |
|                       |                       |    for the first      |
|                       |                       |    time, the backend  |
|                       |                       |    server that        |
|                       |                       |    receives the       |
|                       |                       |    request generates  |
|                       |                       |    a cookie and       |
|                       |                       |    inserts the cookie |
|                       |                       |    into the response  |
|                       |                       |    message.           |
|                       |                       |    Subsequent         |
|                       |                       |    requests are sent  |
|                       |                       |    to this backend    |
|                       |                       |    server.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP, only    |
|                       |                       | **SOURCE_IP** takes   |
|                       |                       | effect. When the      |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP, only         |
|                       |                       | **HTTP_COOKIE** or    |
|                       |                       | **APP_COOKIE** takes  |
|                       |                       | effect.               |
+-----------------------+-----------------------+-----------------------+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | mandatory when the    |
|                       |                       | sticky session type   |
|                       |                       | is **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the sticky  |
|                       |                       | session timeout       |
|                       |                       | duration in minutes.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when **type** |
|                       |                       | is set to             |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  Optional value     |
|                       |                       |    ranges are as      |
|                       |                       |    follows:           |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is TCP or |
|                       |                       |       UDP, the value  |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **60**.         |
|                       |                       |                       |
|                       |                       |    -  When the        |
|                       |                       |       protocol of the |
|                       |                       |       backend server  |
|                       |                       |       group is HTTP,  |
|                       |                       |       the value       |
|                       |                       |       ranges from     |
|                       |                       |       **1** to        |
|                       |                       |       **1440**.       |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Updating a backend server group

| PUT
  https://{Endpoint}/v2.0/lbaas/pools/12ff63af-4127-4074-a251-bcb2ecc53ebe
| {
| "pool": {
| "name": "pool2",
| "description": "pool two",
| "lb_algorithm": "LEAST_CONNECTIONS"
| }
| }

-  Example request 2: Disabling the sticky session feature of a backend
   server group

| PUT
  https://{Endpoint}/v2.0/lbaas/pools/d46eab56-d76b-4cd3-8952-3c3c4cf113aa
| {
| "pool": {
| "session_persistence":null
| }
| }

#. Example Response

-  Example response 1

| {
| "pool": {
| "lb_algorithm": "LEAST_CONNECTIONS",
| "protocol": "HTTP",
| "description": "pool two",
| "loadbalancers": [
| {
| "id": "63ad9dfe-4750-479f-9630-ada43ccc8117"
| }
| ],
| "admin_state_up": true,
| "tenant_id": "1a3e005cf9ce40308c900bcb08e5320c",
| "session_persistence": {
| "cookie_name": null,
| "type": "HTTP_COOKIE",
| "persistence_timeout": 1
| },
| "healthmonitor_id": null,
| "listeners": [
| {
| "id": "39de4d56-d663-46e5-85a1-5b9d5fa17829"
| }
| ],
| "members": [],
| "id": "12ff63af-4127-4074-a251-bcb2ecc53ebe",
| "name": "pool2"
| }
| }

-  Example response 2

| {
| "pool": {
| "lb_algorithm": "ROUND_ROBIN",
| "protocol": "HTTP",
| "description": "",
| "admin_state_up": true,
| "loadbalancers": [
| {
| "id": "63ad9dfe-4750-479f-9630-ada43ccc8117"
| }
| ],
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "session_persistence": null,
| "healthmonitor_id": null,
| "listeners": [],
| "members": [],
| "id": "d46eab56-d76b-4cd3-8952-3c3c4cf113aa",
| "name": ""
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Deleting a Backend Server Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a backend server group.

3. Constraints

Before deleting a backend server group, remove all backend servers,
delete the health check, and disassociate forwarding policies from the
backend server group by changing the value of **redirect_pool_id** to
**null**. For details, see `Updating a Forwarding
Policy <#updating-a-forwarding-policy>`__.

4. URI

DELETE /v2.0/lbaas/pools/{pool_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

None

7. Example Request

-  Example request: Deleting a backend server group

DELETE /v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332

#. Example Response

-  Example response

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Backend Server
--------------

1. .. rubric:: Adding a Backend Server
      :name: adding-a-backend-server

   #. Function

This API is used to add a backend server to a specific backend server
group. After a backend server group is added to a listener, traffic is
distributed to backend servers in this server group using the specified
load balancing algorithm.

2. Constraints

Two backend servers in a backend server group cannot have the same
private IP address or port number.

The subnet specified during server creation must be in the same VPC as
the subnet from which the private IP address of the load balancer is
assigned.

3. URI

POST /v2.0/lbaas/pools/{pool_id}/members

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| member          | Yes             | Object          | Specifies the   |
|                 |                 |                 | backend server. |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table       |
|                 |                 |                 | 3-100.          |
+-----------------+-----------------+-----------------+-----------------+

2. **member** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server is used. |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name. The value |
|                 |                 |                 | is an empty     |
|                 |                 |                 | character       |
|                 |                 |                 | string by       |
|                 |                 |                 | default.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| address         | Yes             | String          | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend server. |
|                 |                 |                 | This IP address |
|                 |                 |                 | must be in the  |
|                 |                 |                 | subnet          |
|                 |                 |                 | specified by    |
|                 |                 |                 | **subnet_id**.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be set only |
|                 |                 |                 | to the IP       |
|                 |                 |                 | address of the  |
|                 |                 |                 | primary NIC,    |
|                 |                 |                 | for example,    |
|                 |                 |                 | 192.168.3.11.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | Yes             | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server. The     |
|                 |                 |                 | port number     |
|                 |                 |                 | ranges from 1   |
|                 |                 |                 | to 65535.       |
+-----------------+-----------------+-----------------+-----------------+
| subnet_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server works.   |
|                 |                 |                 |                 |
|                 |                 |                 | The private IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend server  |
|                 |                 |                 | is in this      |
|                 |                 |                 | subnet.         |
|                 |                 |                 |                 |
|                 |                 |                 | Only IPv4       |
|                 |                 |                 | subnets are     |
|                 |                 |                 | supported.      |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Integer         | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | weight. The     |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **0** to   |
|                 |                 |                 | **100**.        |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | **0**, the      |
|                 |                 |                 | backend server  |
|                 |                 |                 | will not accept |
|                 |                 |                 | new requests.   |
|                 |                 |                 | The default     |
|                 |                 |                 | value is **1**. |
+-----------------+-----------------+-----------------+-----------------+

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| member                | Object                | Specifies the backend |
|                       |                       | server. For details,  |
|                       |                       | see Table 3-102.      |
+-----------------------+-----------------------+-----------------------+

2. **member** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | The value of this     |
|                       |                       | parameter is not the  |
|                       |                       | ID of the server but  |
|                       |                       | an ID automatically   |
|                       |                       | generated for the     |
|                       |                       | backend server that   |
|                       |                       | has already           |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server is     |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | backend server. This  |
|                       |                       | IP address must be in |
|                       |                       | the subnet specified  |
|                       |                       | by **subnet_id**.     |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | set only to the IP    |
|                       |                       | address of the        |
|                       |                       | primary NIC, for      |
|                       |                       | example,              |
|                       |                       | 192.168.3.11.         |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server. The port      |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
+-----------------------+-----------------------+-----------------------+
| subnet_id             | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | The private IP        |
|                       |                       | address of the        |
|                       |                       | backend server is in  |
|                       |                       | this subnet.          |
|                       |                       |                       |
|                       |                       | IPv6 subnets are not  |
|                       |                       | supported.            |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the backend |
|                       |                       | server weight. The    |
|                       |                       | value ranges from     |
|                       |                       | **0** to **100**.     |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **0**, the backend    |
|                       |                       | server will not       |
|                       |                       | accept new requests.  |
|                       |                       | The default value is  |
|                       |                       | **1**.                |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the health  |
|                       |                       | check result of the   |
|                       |                       | backend server. The   |
|                       |                       | value can be one of   |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group that the     |
|                       |                       |    backend server     |
|                       |                       |    belongs to.        |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Step 1: Query the subnet ID and IP address using the server ID.
   **device_id** in the request indicates the server ID. Obtain the
   values of **subnet_id** and **ip_address** of the primary NIC (the
   port for which **primary_interface** is **true**) in the response
   body.

GET
https://{VPCEndpoint}/v2.0/ports?device_id=f738c464-b5c2-45df-86c0-7f436620cd54

Example response

| {
| "ports": [
| {
| "id": "94971c39-46f0-443a-85e8-31cb7497c78e",
| "name": "",
| "status": "ACTIVE",
| "admin_state_up": true,
| "fixed_ips": [
| {
| **"subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503"**,
| **"ip_address": "192.168.44.11"**
| }
| ],
| "mac_address": "fa:16:3e:5c:d2:57",
| "network_id": "1b76b9c2-9b7e-4ced-81bd-d13f7389d7c9",
| "tenant_id": "04dd36f978800fe22f9bc00bea090736",
| "project_id": "04dd36f978800fe22f9bc00bea090736",
| "device_id": "f738c464-b5c2-45df-86c0-7f436620cd54",
| "device_owner": "compute:xx-xxxx-4a",
| "security_groups": [
| "a10dfc31-0055-4b84-b36e-1291b918125c",
| "7a233393-5be2-4dff-8360-1558dd950f6e"
| ],
| "extra_dhcp_opts": [],
| "allowed_address_pairs": [],
| "binding:vnic_type": "normal",
| "binding:vif_details": {
| **"primary_interface": true**
| },
| "binding:profile": {},
| "port_security_enabled": true,
| "created_at": "2019-11-12T17:17:51",
| "updated_at": "2019-11-12T17:17:51"
| }
| ]
| }

-  Step 2: Use the subnet ID and IP address obtained in `▪ Step
   1 <#en-us_topic_0096561556_li1069222685516>`__ to add a backend
   server.

| POST
  https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members
| {
| "member": {
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "protocol_port": 88,
| "name": "member-jy-tt-1",
| "address": "192.168.44.11"
| }
| }

#. Example Response

-  Example response

| {
| "member": {
| "name": "member-jy-tt-1",
| "weight": 1,
| "admin_state_up": true,
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "address": "192.168.44.11",
| "protocol_port": 88,
| "operating_status": "ONLINE",
| "id": "c0042496-e220-44f6-914b-e6ca33bab503"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Backend Servers
~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query backend servers in a specific backend server
group. Filter query and pagination query are supported. Unless otherwise
specified, exact match is applied.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/pools/{pool_id}/members

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | from which      |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | backend server  |
|                 |                 |                 | on the previous |
|                 |                 |                 | page. If this   |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not specified,  |
|                 |                 |                 | the first page  |
|                 |                 |                 | will be         |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | backend servers |
|                 |                 |                 | on each page.   |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not set, all    |
|                 |                 |                 | backend servers |
|                 |                 |                 | are queried by  |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not the ID   |
|                 |                 |                 | of the server   |
|                 |                 |                 | but an ID       |
|                 |                 |                 | automatically   |
|                 |                 |                 | generated for   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server that has |
|                 |                 |                 | already         |
|                 |                 |                 | associated with |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server is used. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not the name |
|                 |                 |                 | of server. It   |
|                 |                 |                 | is the name     |
|                 |                 |                 | automatically   |
|                 |                 |                 | generated for   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server          |
|                 |                 |                 | associated with |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| address         | No              | String          | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | No              | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server.         |
+-----------------+-----------------+-----------------+-----------------+
| subnet_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server works.   |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Integer         | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | weight.         |
+-----------------+-----------------+-----------------+-----------------+

6. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| members               | Array                 | Lists the backend     |
|                       |                       | servers in the        |
|                       |                       | backend server group. |
|                       |                       | For details, see      |
|                       |                       | Table 3-106.          |
+-----------------------+-----------------------+-----------------------+
| members_links         | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       |                       |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query. For details,   |
|                       |                       | see Table 3-107.      |
+-----------------------+-----------------------+-----------------------+

2. **members** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | The value of this     |
|                       |                       | parameter is not the  |
|                       |                       | ID of the server but  |
|                       |                       | an ID automatically   |
|                       |                       | generated for the     |
|                       |                       | backend server that   |
|                       |                       | has already           |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server is     |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | backend server. This  |
|                       |                       | IP address must be in |
|                       |                       | the subnet specified  |
|                       |                       | by **subnet_id**.     |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | set only to the IP    |
|                       |                       | address of the        |
|                       |                       | primary NIC, for      |
|                       |                       | example,              |
|                       |                       | 192.168.3.11.         |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server. The port      |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
+-----------------------+-----------------------+-----------------------+
| subnet_id             | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | The private IP        |
|                       |                       | address of the        |
|                       |                       | backend server is in  |
|                       |                       | this subnet.          |
|                       |                       |                       |
|                       |                       | IPv6 subnets are not  |
|                       |                       | supported.            |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the backend |
|                       |                       | server weight. The    |
|                       |                       | value ranges from     |
|                       |                       | **0** to **100**.     |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **0**, the backend    |
|                       |                       | server will not       |
|                       |                       | accept new requests.  |
|                       |                       | The default value is  |
|                       |                       | **1**.                |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ONLINE**.           |
+-----------------------+-----------------------+-----------------------+

1. **members_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page. The value  |
|                       |                       | can be **next** or    |
|                       |                       | **previous**.         |
|                       |                       |                       |
|                       |                       | -  **next**:          |
|                       |                       |    indicates the URL  |
|                       |                       |    of the next page.  |
|                       |                       |                       |
|                       |                       | -  **previous**:      |
|                       |                       |    indicates the URL  |
|                       |                       |    of the previous    |
|                       |                       |    page.              |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Querying all backend servers

GET
https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members

-  Example request 2: Querying the backend cloud server whose IP address
   is 10.0.0.8 and port number is 80

GET
https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members?address=10.0.0.8&protocol_port=80

#. Example Response

-  Example response 1

| {
| "members": [
| {
| "address": "10.0.0.8",
| "admin_state_up": true,
| "id": "9a7aff27-fd41-4ec1-ba4c-3eb92c629313",
| "protocol_port": 80,
| "subnet_id": "013d3059-87a4-45a5-91e9-d721068ae0b2",
| "tenant_id": "1a3e005cf9ce40308c900bcb08e5320c",
| "weight": 1,
| "operating_status": "ONLINE",
| "name": "member-name"
| }
| ]
| }

-  Example response 2

| {
| "members": [
| {
| "address": "10.0.0.8",
| "admin_state_up": true,
| "id": "9a7aff27-fd41-4ec1-ba4c-3eb92c629313",
| "protocol_port": 80,
| "subnet_id": "013d3059-87a4-45a5-91e9-d721068ae0b2",
| "tenant_id": "1a3e005cf9ce40308c900bcb08e5320c",
| "weight": 1,
| "operating_status": "ONLINE",
| "name": "member-name"
| }
| ]
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Details of a Backend Server
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a backend server.

3. URI

GET /v2.0/lbaas/pools/{pool_id}/members/{member_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| member_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value of |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not the ID   |
|                 |                 |                 |    of the       |
|                 |                 |                 |    server but   |
|                 |                 |                 |    an ID        |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    generated    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server that  |
|                 |                 |                 |    has already  |
|                 |                 |                 |    associated   |
|                 |                 |                 |    with the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  You can      |
|                 |                 |                 |    obtain this  |
|                 |                 |                 |    value by     |
|                 |                 |                 |    calling the  |
|                 |                 |                 |    API          |
|                 |                 |                 |    described in |
|                 |                 |                 |    `Querying    |
|                 |                 |                 |    Backend      |
|                 |                 |                 |    Servers <    |
|                 |                 |                 | #querying-backe |
|                 |                 |                 | nd-servers>`__. |
+-----------------+-----------------+-----------------+-----------------+

#. Request

None

2. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| member                | Object                | Lists the backend     |
|                       |                       | servers. For details, |
|                       |                       | see Table 3-110.      |
+-----------------------+-----------------------+-----------------------+

2. **member** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | The value of this     |
|                       |                       | parameter is not the  |
|                       |                       | ID of the server but  |
|                       |                       | an ID automatically   |
|                       |                       | generated for the     |
|                       |                       | backend server that   |
|                       |                       | has already           |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server is     |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | backend server. This  |
|                       |                       | IP address must be in |
|                       |                       | the subnet specified  |
|                       |                       | by **subnet_id**.     |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | set only to the IP    |
|                       |                       | address of the        |
|                       |                       | primary NIC, for      |
|                       |                       | example,              |
|                       |                       | 192.168.3.11.         |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server. The port      |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
+-----------------------+-----------------------+-----------------------+
| subnet_id             | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | The private IP        |
|                       |                       | address of the        |
|                       |                       | backend server is in  |
|                       |                       | this subnet.          |
|                       |                       |                       |
|                       |                       | IPv6 subnets are not  |
|                       |                       | supported.            |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the backend |
|                       |                       | server weight. The    |
|                       |                       | value ranges from     |
|                       |                       | **0** to **100**.     |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **0**, the backend    |
|                       |                       | server will not       |
|                       |                       | accept new requests.  |
|                       |                       | The default value is  |
|                       |                       | **1**.                |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the health  |
|                       |                       | check result of the   |
|                       |                       | backend server. The   |
|                       |                       | value can be one of   |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group that the     |
|                       |                       |    backend server     |
|                       |                       |    belongs to.        |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Querying details of a backend server

GET
https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members/cf024846-7516-4e3a-b0fb-6590322c836f

#. Example Response

-  Example response

| {
| "member": {
| "name": "",
| "weight": 1,
| "admin_state_up": true,
| "subnet_id": "823d5866-6e30-45c2-9b1a-a1ebc3757fdb",
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "address": "192.172.3.100",
| "protocol_port": 8080,
| "operating_status": "ONLINE",
| "id": "e58f5bfa-0e46-4bc5-951c-8473d3e5f24a"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Backend Server
~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a backend server. You can modify its name and
weight. You can set a larger weight for backend servers that can receive
more traffic.

3. Constraints

If the provisioning status of the associated load balancer is not
**ACTIVE**, the backend server cannot be updated.

4. URI

PUT /v2.0/lbaas/pools/{pool_id}/members/{member_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| member_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value of |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not the ID   |
|                 |                 |                 |    of the       |
|                 |                 |                 |    server but   |
|                 |                 |                 |    an ID        |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    generated    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server that  |
|                 |                 |                 |    has already  |
|                 |                 |                 |    associated   |
|                 |                 |                 |    with the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  You can      |
|                 |                 |                 |    obtain this  |
|                 |                 |                 |    value by     |
|                 |                 |                 |    calling the  |
|                 |                 |                 |    API          |
|                 |                 |                 |    described in |
|                 |                 |                 |    `Querying    |
|                 |                 |                 |    Backend      |
|                 |                 |                 |    Servers <    |
|                 |                 |                 | #querying-backe |
|                 |                 |                 | nd-servers>`__. |
+-----------------+-----------------+-----------------+-----------------+

#. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| member          | Yes             | Object          | Specifies the   |
|                 |                 |                 | backend server. |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table       |
|                 |                 |                 | 3-113.          |
+-----------------+-----------------+-----------------+-----------------+

2. **member** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Integer         | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | weight. The     |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **0** to   |
|                 |                 |                 | **100**.        |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | **0**, the      |
|                 |                 |                 | backend server  |
|                 |                 |                 | will not accept |
|                 |                 |                 | new requests.   |
|                 |                 |                 | The default     |
|                 |                 |                 | value is **1**. |
+-----------------+-----------------+-----------------+-----------------+

2. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| member                | Object                | Specifies the backend |
|                       |                       | server. For details,  |
|                       |                       | see Table 3-115.      |
+-----------------------+-----------------------+-----------------------+

2. **member** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | The value of this     |
|                       |                       | parameter is not the  |
|                       |                       | ID of the server but  |
|                       |                       | an ID automatically   |
|                       |                       | generated for the     |
|                       |                       | backend server that   |
|                       |                       | has already           |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server is     |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | backend server. This  |
|                       |                       | IP address must be in |
|                       |                       | the subnet specified  |
|                       |                       | by **subnet_id**.     |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | set only to the IP    |
|                       |                       | address of the        |
|                       |                       | primary NIC, for      |
|                       |                       | example,              |
|                       |                       | 192.168.3.11.         |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server. The port      |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
+-----------------------+-----------------------+-----------------------+
| subnet_id             | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | The private IP        |
|                       |                       | address of the        |
|                       |                       | backend server is in  |
|                       |                       | this subnet.          |
|                       |                       |                       |
|                       |                       | IPv6 subnets are not  |
|                       |                       | supported.            |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the backend |
|                       |                       | server weight. The    |
|                       |                       | value ranges from     |
|                       |                       | **0** to **100**.     |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **0**, the backend    |
|                       |                       | server will not       |
|                       |                       | accept new requests.  |
|                       |                       | The default value is  |
|                       |                       | **1**.                |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the health  |
|                       |                       | check result of the   |
|                       |                       | backend server. The   |
|                       |                       | value can be one of   |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group that the     |
|                       |                       |    backend server     |
|                       |                       |    belongs to.        |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Updating the name and weight of a backend server

| PUT
  https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members/c0042496-e220-44f6-914b-e6ca33bab503
| {
| "member": {
| "name": "member create test",
| "weight": 10
| }
| }

#. Example Response

-  Example response

| {
| "member": {
| "name": "member-jy-tt-1",
| "weight": 1,
| "admin_state_up": true,
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "address": "192.168.44.11",
| "protocol_port": 88,
| "operating_status": "ONLINE",
| "id": "c0042496-e220-44f6-914b-e6ca33bab503"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Removing a Backend Server
~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to remove a backend server by its ID.

3. Constraints

After you remove a backend server, new connections to this server will
not be established. However, long connections that have been established
will be maintained.

4. URI

DELETE /v2.0/lbaas/pools/{pool_id}/members/{member_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| member_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value of |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not the ID   |
|                 |                 |                 |    of the       |
|                 |                 |                 |    server but   |
|                 |                 |                 |    an ID        |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    generated    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server that  |
|                 |                 |                 |    has already  |
|                 |                 |                 |    associated   |
|                 |                 |                 |    with the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  You can      |
|                 |                 |                 |    obtain this  |
|                 |                 |                 |    value by     |
|                 |                 |                 |    calling the  |
|                 |                 |                 |    API          |
|                 |                 |                 |    described in |
|                 |                 |                 |    `Querying    |
|                 |                 |                 |    Backend      |
|                 |                 |                 |    Servers <    |
|                 |                 |                 | #querying-backe |
|                 |                 |                 | nd-servers>`__. |
+-----------------+-----------------+-----------------+-----------------+

#. Request

None

2. Response

None

3. Example Request

-  Example request: Removing a backend server

DELETE
https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members/cf024846-7516-4e3a-b0fb-6590322c836f

#. Example Response

-  Example response

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying All Backend Servers (Extension API)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query all backend servers. Filter query and
pagination query are supported.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/members

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | from which      |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | backend server  |
|                 |                 |                 | on the previous |
|                 |                 |                 | page. If this   |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not specified,  |
|                 |                 |                 | the first page  |
|                 |                 |                 | will be         |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | backend servers |
|                 |                 |                 | on each page.   |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not set, all    |
|                 |                 |                 | backend servers |
|                 |                 |                 | are queried by  |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | The value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not the ID   |
|                 |                 |                 | of the server   |
|                 |                 |                 | but an ID       |
|                 |                 |                 | automatically   |
|                 |                 |                 | generated for   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server that has |
|                 |                 |                 | already         |
|                 |                 |                 | associated with |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| address         | No              | String          | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | No              | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server.         |
+-----------------+-----------------+-----------------+-----------------+
| subnet_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server works.   |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Integer         | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | weight.         |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| o               | No              | String          | Specifies the   |
| perating_status |                 |                 | health check    |
|                 |                 |                 | result of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **ONLINE**:  |
|                 |                 |                 |    The backend  |
|                 |                 |                 |    server is    |
|                 |                 |                 |    running      |
|                 |                 |                 |    normally.    |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 | **NO_MONITOR**: |
|                 |                 |                 |    No health    |
|                 |                 |                 |    check is     |
|                 |                 |                 |    performed on |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **OFFLINE**: |
|                 |                 |                 |    The cloud    |
|                 |                 |                 |    server used  |
|                 |                 |                 |    as the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server is    |
|                 |                 |                 |    stopped or   |
|                 |                 |                 |    does not     |
|                 |                 |                 |    exist.       |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **ONLINE**.     |
+-----------------+-----------------+-----------------+-----------------+
| members_links   | No              | Array           | Provides links  |
|                 |                 |                 | to the previous |
|                 |                 |                 | or next page    |
|                 |                 |                 | during          |
|                 |                 |                 | pagination      |
|                 |                 |                 | query,          |
|                 |                 |                 | respectively.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | exists only in  |
|                 |                 |                 | the response    |
|                 |                 |                 | body of         |
|                 |                 |                 | pagination      |
|                 |                 |                 | query. For      |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-121.    |
+-----------------+-----------------+-----------------+-----------------+

1. **members_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page. The value  |
|                       |                       | can be **next** or    |
|                       |                       | **previous**.         |
|                       |                       |                       |
|                       |                       | -  **next**:          |
|                       |                       |    indicates the URL  |
|                       |                       |    of the next page.  |
|                       |                       |                       |
|                       |                       | -  **previous**:      |
|                       |                       |    indicates the URL  |
|                       |                       |    of the previous    |
|                       |                       |    page.              |
+-----------------------+-----------------------+-----------------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| members               | Array                 | Lists the backend     |
|                       |                       | servers. For details, |
|                       |                       | see Table 3-120.      |
+-----------------------+-----------------------+-----------------------+

2. **members** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | The value of this     |
|                       |                       | parameter is not the  |
|                       |                       | ID of the server but  |
|                       |                       | an ID automatically   |
|                       |                       | generated for the     |
|                       |                       | backend server that   |
|                       |                       | has already           |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | backend server is     |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the private |
|                       |                       | IP address of the     |
|                       |                       | backend server. This  |
|                       |                       | IP address must be in |
|                       |                       | the subnet specified  |
|                       |                       | by **subnet_id**.     |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | set only to the IP    |
|                       |                       | address of the        |
|                       |                       | primary NIC, for      |
|                       |                       | example,              |
|                       |                       | 192.168.3.11.         |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server. The port      |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
+-----------------------+-----------------------+-----------------------+
| subnet_id             | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | The private IP        |
|                       |                       | address of the        |
|                       |                       | backend server is in  |
|                       |                       | this subnet.          |
|                       |                       |                       |
|                       |                       | IPv6 subnets are not  |
|                       |                       | supported.            |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the backend |
|                       |                       | server weight. The    |
|                       |                       | value ranges from     |
|                       |                       | **0** to **100**.     |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **0**, the backend    |
|                       |                       | server will not       |
|                       |                       | accept new requests.  |
|                       |                       | The default value is  |
|                       |                       | **1**.                |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the health  |
|                       |                       | check result of the   |
|                       |                       | backend server. The   |
|                       |                       | value can be one of   |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    performed on the   |
|                       |                       |    backend server.    |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+
| device_id             | String                | Specifies the ID of   |
|                       |                       | the cloud server used |
|                       |                       | as the backend        |
|                       |                       | server. If the cloud  |
|                       |                       | server does not       |
|                       |                       | exist, this parameter |
|                       |                       | is an empty string.   |
+-----------------------+-----------------------+-----------------------+
| device_owner          | String                | Specifies the         |
|                       |                       | resource ID and AZ ID |
|                       |                       | of the cloud server   |
|                       |                       | used as the backend   |
|                       |                       | server, for example,  |
|                       |                       | **compute:az2.dc2**.  |
|                       |                       |                       |
|                       |                       | If no corresponding   |
|                       |                       | ECS is available, the |
|                       |                       | value is an empty     |
|                       |                       | string.               |
+-----------------------+-----------------------+-----------------------+
| loadbalancer_id       | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+
| members_links         | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       |                       |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query. For details,   |
|                       |                       | see Table 3-121.      |
+-----------------------+-----------------------+-----------------------+
| pool_id               | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+

1. **members_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page. The value  |
|                       |                       | can be **next** or    |
|                       |                       | **previous**.         |
|                       |                       |                       |
|                       |                       | -  **next**:          |
|                       |                       |    indicates the URL  |
|                       |                       |    of the next page.  |
|                       |                       |                       |
|                       |                       | -  **previous**:      |
|                       |                       |    indicates the URL  |
|                       |                       |    of the previous    |
|                       |                       |    page.              |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Querying all backend servers

GET https://{Endpoint}/v2.0/lbaas/members

-  Example request 2: Displaying two backend servers on each page and
   filtering out backend servers whose health check result is
   **OFFLINE**

GET
https://{Endpoint}/v2.0/lbaas/members?operating_status=OFFLINE&limit=2

#. Example Response

-  Example response 1

| {
| "members": [
| {
| "name": "",
| "weight": 1,
| "admin_state_up": false,
| "subnet_id": "03e1458a-fe0d-4e2f-bc4a-44f25a045287",
| "tenant_id": "573d73c9f90e48d0bddfa0eb202b25c2",
| "pool_id": "b299051c-a154-4bd6-b630-215151593306",
| "loadbalancer_id": "77bfe95e-9f5b-4cff-afd9-900f8de5775b",
| "device_owner": "",
| "address": "192.168.77.11",
| "protocol_port": 880,
| "id": "50bd4ae0-fdf4-4540-b94a-04ce6241751e",
| "operating_status": "OFFLINE",
| "device_id": ""
| },
| {
| "name": "",
| "weight": 1,
| "admin_state_up": false,
| "subnet_id": "03e1458a-fe0d-4e2f-bc4a-44f25a045287",
| "tenant_id": "573d73c9f90e48d0bddfa0eb202b25c2",
| "pool_id": "b299051c-a154-4bd6-b630-215151593306",
| "loadbalancer_id": "77bfe95e-9f5b-4cff-afd9-900f8de5775b",
| "device_owner": "",
| "address": "192.168.77.12",
| "protocol_port": 880,
| "id": "fa2045e3-b296-406b-ad12-1611dce44be6",
| "operating_status": "OFFLINE",
| "device_id": ""
| }
| ]
| }

-  Example response 2

| {
| "members_links": [
| {
| "href":
  "https://network.localdomain.com:8020/v2.0/lbaas/members?pool_id=b299051c-a154-4bd6-b630-215151593306&marker=50bd4ae0-fdf4-4540-b94a-04ce6241751e&page_reverse=True",
| "rel": "previous"
| }
| ],
| "members": [
| {
| "name": "",
| "weight": 1,
| "admin_state_up": false,
| "subnet_id": "03e1458a-fe0d-4e2f-bc4a-44f25a045287",
| "tenant_id": "573d73c9f90e48d0bddfa0eb202b25c2",
| "pool_id": "b299051c-a154-4bd6-b630-215151593306",
| "loadbalancer_id": "77bfe95e-9f5b-4cff-afd9-900f8de5775b",
| "device_owner": "",
| "address": "192.168.77.11",
| "protocol_port": 880,
| "id": "50bd4ae0-fdf4-4540-b94a-04ce6241751e",
| "operating_status": "OFFLINE",
| "device_id": ""
| },
| {
| "name": "",
| "weight": 1,
| "admin_state_up": false,
| "subnet_id": "03e1458a-fe0d-4e2f-bc4a-44f25a045287",
| "tenant_id": "573d73c9f90e48d0bddfa0eb202b25c2",
| "pool_id": "b299051c-a154-4bd6-b630-215151593306",
| "loadbalancer_id": "77bfe95e-9f5b-4cff-afd9-900f8de5775b",
| "device_owner": "",
| "address": "192.168.77.12",
| "protocol_port": 880,
| "id": "fa2045e3-b296-406b-ad12-1611dce44be6",
| "operating_status": "OFFLINE",
| "device_id": ""
| }
| ]
| }

#. Return Codes

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Batch Updating Backend Servers
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update backend servers in batches.

3. Constraints

-  A maximum of 200 backend servers can be modified at a time.

-  Two backend servers a backend server group cannot have the same
   private IP address or port number.

-  The subnet specified during server creation must be in the same VPC
   as the subnet from which the private IP address of the load balancer
   is assigned.

   #. URI

PUT /v2.0/lbaas/pools/{pool_id}/members

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

2. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| members         | Yes             | Array           | Lists the       |
|                 |                 |                 | backend servers |
|                 |                 |                 | in the backend  |
|                 |                 |                 | server group.   |
|                 |                 |                 | If **action**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **add** or      |
|                 |                 |                 | **replace**,    |
|                 |                 |                 | see Table 3-124 |
|                 |                 |                 | for details     |
|                 |                 |                 | about the       |
|                 |                 |                 | parameters. If  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **delete**, see |
|                 |                 |                 | Table 3-125 for |
|                 |                 |                 | details about   |
|                 |                 |                 | the parameters. |
|                 |                 |                 |                 |
|                 |                 |                 | An empty list   |
|                 |                 |                 | is supported.   |
|                 |                 |                 | If **action**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **add**, no     |
|                 |                 |                 | backend server  |
|                 |                 |                 | is added to the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group. If       |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **replace**,    |
|                 |                 |                 | all backend     |
|                 |                 |                 | servers are     |
|                 |                 |                 | removed from    |
|                 |                 |                 | the backend     |
|                 |                 |                 | cloud server    |
|                 |                 |                 | group. If       |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **delete**, no  |
|                 |                 |                 | backend server  |
|                 |                 |                 | is removed.     |
+-----------------+-----------------+-----------------+-----------------+
| action          | No              | String          | Specifies the   |
|                 |                 |                 | operation type. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **add**,     |
|                 |                 |                 | **delete**, or  |
|                 |                 |                 | **replace**.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **replace**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **add**: All |
|                 |                 |                 |    backend      |
|                 |                 |                 |    servers in   |
|                 |                 |                 |    the request  |
|                 |                 |                 |    body are     |
|                 |                 |                 |    added to the |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    in batches.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **delete**:  |
|                 |                 |                 |    All backend  |
|                 |                 |                 |    servers in   |
|                 |                 |                 |    the request  |
|                 |                 |                 |    are removed  |
|                 |                 |                 |    from the     |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    in batches.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **replace**: |
|                 |                 |                 |    All backend  |
|                 |                 |                 |    servers in   |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    are replaced |
|                 |                 |                 |    with those   |
|                 |                 |                 |    in the       |
|                 |                 |                 |    request      |
|                 |                 |                 |    body.        |
+-----------------+-----------------+-----------------+-----------------+

1. **members** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name. The value |
|                 |                 |                 | is an empty     |
|                 |                 |                 | character       |
|                 |                 |                 | string by       |
|                 |                 |                 | default.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| address         | Yes             | String          | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend server. |
|                 |                 |                 | This IP address |
|                 |                 |                 | must be in the  |
|                 |                 |                 | subnet          |
|                 |                 |                 | specified by    |
|                 |                 |                 | **subnet_id**.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be set only |
|                 |                 |                 | to the IP       |
|                 |                 |                 | address of the  |
|                 |                 |                 | primary NIC,    |
|                 |                 |                 | for example,    |
|                 |                 |                 | 192.168.3.11.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | Yes             | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server. The     |
|                 |                 |                 | port number     |
|                 |                 |                 | ranges from 1   |
|                 |                 |                 | to 65535.       |
+-----------------+-----------------+-----------------+-----------------+
| subnet_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server works.   |
|                 |                 |                 | The private IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend server  |
|                 |                 |                 | is in this      |
|                 |                 |                 | subnet.         |
|                 |                 |                 |                 |
|                 |                 |                 | IPv6 subnets    |
|                 |                 |                 | are not         |
|                 |                 |                 | supported.      |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Integer         | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | weight. The     |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **0** to   |
|                 |                 |                 | **100**.        |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | **0**, the      |
|                 |                 |                 | backend server  |
|                 |                 |                 | will not accept |
|                 |                 |                 | new requests.   |
|                 |                 |                 | The default     |
|                 |                 |                 | value is **1**. |
+-----------------+-----------------+-----------------+-----------------+

2. **members** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| id              | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value of |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not the ID   |
|                 |                 |                 |    of the       |
|                 |                 |                 |    server but   |
|                 |                 |                 |    an ID        |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    generated    |
|                 |                 |                 |    for the      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server that  |
|                 |                 |                 |    has already  |
|                 |                 |                 |    associated   |
|                 |                 |                 |    with the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  You can      |
|                 |                 |                 |    obtain this  |
|                 |                 |                 |    value by     |
|                 |                 |                 |    calling the  |
|                 |                 |                 |    API          |
|                 |                 |                 |    described in |
|                 |                 |                 |    `Querying    |
|                 |                 |                 |    Backend      |
|                 |                 |                 |    Servers <    |
|                 |                 |                 | #querying-backe |
|                 |                 |                 | nd-servers>`__. |
+-----------------+-----------------+-----------------+-----------------+

#. Response

None

2. Example Request

-  Example request 1: Adding backend servers in batches

| PUT
  https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members
| {
| "members": [
| {
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "protocol_port": 88,
| "name": "member-1",
| "address": "192.168.44.11"
| },
| {
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "protocol_port": 88,
| "name": "member-2",
| "address": "192.168.44.12"
| },
| {
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "protocol_port": 88,
| "name": "member-3",
| "address": "192.168.44.13"
| }
| ],
| "action": "add"
| }

-  Example request 2: Updating backend servers in batches

| PUT
  https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members
| {
| "members": [
| {
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "protocol_port": 88,
| "name": "member-1",
| "address": "192.168.44.11"
| },
| {
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "protocol_port": 88,
| "name": "member-3",
| "address": "192.168.44.12"
| },
| {
| "subnet_id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503",
| "protocol_port": 88,
| "name": "member-3",
| "address": "192.168.44.13"
| }
| ]
| }

-  Example request 3: Removing backend servers in batches

| PUT
  https://{Endpoint}/v2.0/lbaas/pools/5a9a3e9e-d1aa-448e-af37-a70171f2a332/members
| {
| "members": [
| {
| "id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503"
| },
| {
| "id": "33d8b01a-bbe6-41f4-bc45-78a1d284d503"
| }
| ],
| "action": "delete"
| }

#. Example Response

-  Example response 1

None

-  Example response 2

None

-  Example response 3

None

#. Status Code

If the operation succeeds, 202 Accepted is returned. For details, see
6.2 HTTP Status Codes of Shared Load Balancers.

.. _quota-1:

Quota
-----

1. .. rubric:: Querying Default Resource Quotas
      :name: querying-default-resource-quotas

   #. Function

This API is used to query default quotas of load balancer, listener,
backend server group, backend server, health check, forwarding policy,
and certificate.

2. URI

GET /v2.0/lbaas/quotas/defaults

3. Request

None

4. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| quota                 | String                | Specifies the         |
|                       |                       | resource quotas. For  |
|                       |                       | details, see Table    |
|                       |                       | 3-127.                |
+-----------------------+-----------------------+-----------------------+

2. **quota** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthmonitor         | Integer               | Specifies the health  |
|                       |                       | check quota.          |
+-----------------------+-----------------------+-----------------------+
| listener              | Integer               | Specifies the         |
|                       |                       | listener quota.       |
+-----------------------+-----------------------+-----------------------+
| loadbalancer          | Integer               | Specifies the load    |
|                       |                       | balancer quota.       |
+-----------------------+-----------------------+-----------------------+
| member                | Integer               | Specifies the backend |
|                       |                       | server quota.         |
+-----------------------+-----------------------+-----------------------+
| pool                  | Integer               | Specifies the backend |
|                       |                       | server group quota.   |
+-----------------------+-----------------------+-----------------------+
| l7policy              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | quota.                |
+-----------------------+-----------------------+-----------------------+
| certificate           | Integer               | Specifies the         |
|                       |                       | certificate quota.    |
+-----------------------+-----------------------+-----------------------+

.. image:: media/image2.png

**-1** indicates that the quota is not limited.

5. Example Request

-  Example request: Querying default resource quotas

GET https://{Endpoint}/v2.0/lbaas/quotas/defaults

#. Example Response

-  Example response

| {
| "quota": {
| "listener": 50,
| "certificate": 120,
| "l7policy": 100,
| "member": -1,
| "loadbalancer": 50,
| "healthmonitor": -1,
| "pool": 50
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Current Resource Quotas
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query existing resource quotas.

3. URI

GET /v2.0/lbaas/quotas/{project_id}

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| fields          | No              | String          | Defines the     |
|                 |                 |                 | parameters to   |
|                 |                 |                 | be returned by  |
|                 |                 |                 | the server. If  |
|                 |                 |                 | the URL does    |
|                 |                 |                 | not contain     |
|                 |                 |                 | this parameter, |
|                 |                 |                 | all parameters  |
|                 |                 |                 | are returned.   |
|                 |                 |                 | For example, if |
|                 |                 |                 | the URL         |
|                 |                 |                 | contains        |
|                 |                 |                 | **parame        |
|                 |                 |                 | ters=pool&param |
|                 |                 |                 | eters=member**, |
|                 |                 |                 | only the quotas |
|                 |                 |                 | of backend      |
|                 |                 |                 | server groups   |
|                 |                 |                 | and backend     |
|                 |                 |                 | servers are     |
|                 |                 |                 | returned.       |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| quota                 | String                | Specifies the         |
|                       |                       | resource quotas. For  |
|                       |                       | details, see Table    |
|                       |                       | 3-130.                |
+-----------------------+-----------------------+-----------------------+

2. **quota** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthmonitor         | Integer               | Specifies the health  |
|                       |                       | check quota.          |
+-----------------------+-----------------------+-----------------------+
| listener              | Integer               | Specifies the         |
|                       |                       | listener quota.       |
+-----------------------+-----------------------+-----------------------+
| loadbalancer          | Integer               | Specifies the load    |
|                       |                       | balancer quota.       |
+-----------------------+-----------------------+-----------------------+
| member                | Integer               | Specifies the backend |
|                       |                       | server quota.         |
+-----------------------+-----------------------+-----------------------+
| pool                  | Integer               | Specifies the backend |
|                       |                       | server group quota.   |
+-----------------------+-----------------------+-----------------------+
| l7policy              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | quota.                |
+-----------------------+-----------------------+-----------------------+
| certificate           | Integer               | Specifies the         |
|                       |                       | certificate quota.    |
+-----------------------+-----------------------+-----------------------+

.. image:: media/image2.png

**-1** indicates that the quota is not limited.

6. Example Request

-  Example request: Querying current resource quotas

GET
https://{Endpoint}/v2.0/lbaas/quotas/e3cd678b11784734bc366148aa37580e

#. Example Response

-  Example response

| {
| "quota": {
| "listener": 50,
| "certificate": 120,
| "l7policy": 100,
| "member": -1,
| "loadbalancer": 50,
| "healthmonitor": -1,
| "pool": 50
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _health-check-1:

Health Check
------------

1. .. rubric:: Configuring a Health Check
      :name: configuring-a-health-check-1

   #. Function

This API is used to configure a health check for a backend server group
to check the status of backend servers. If the health check result is
**OFFLINE**, backend servers are considered unhealthy. You need to check
the server configuration.

2. Constraints

The security group must allow access from 100.125.0.0/16. Otherwise, the
health check cannot be performed.

3. URI

POST /v2.0/lbaas/healthmonitors

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| healthmonitor   | Yes             | Object          | Specifies the   |
|                 |                 |                 | health check.   |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table       |
|                 |                 |                 | 3-132.          |
+-----------------+-----------------+-----------------+-----------------+

2. **healthmonitor** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the health      |
|                 |                 |                 | check is        |
|                 |                 |                 | performed.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| delay           | Yes             | Integer         | Specifies the   |
|                 |                 |                 | maximum time    |
|                 |                 |                 | between health  |
|                 |                 |                 | checks in the   |
|                 |                 |                 | unit of second. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **50**.         |
+-----------------+-----------------+-----------------+-----------------+
| max_retries     | Yes             | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from            |
|                 |                 |                 | **OFFLINE** to  |
|                 |                 |                 | **ONLINE**. The |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **10**.         |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Integer         | Specifies the   |
| ax_retries_down |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from **ONLINE** |
|                 |                 |                 | to **OFFLINE**. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **10**.         |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | Only one health |
|                 |                 |                 | check can be    |
|                 |                 |                 | configured for  |
|                 |                 |                 | each backend    |
|                 |                 |                 | server group.   |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| timeout         | Yes             | Integer         | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration in the |
|                 |                 |                 | unit of second. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **50**.         |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | You are advised |
|                 |                 |                 | to set the      |
|                 |                 |                 | value less than |
|                 |                 |                 | that of         |
|                 |                 |                 | parameter       |
|                 |                 |                 | **delay**.      |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | protocol.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **TCP**,     |
|                 |                 |                 | *               |
|                 |                 |                 | *UDP_CONNECT**, |
|                 |                 |                 | or **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | The             |
|                 |                 |                 | relationships   |
|                 |                 |                 | between the     |
|                 |                 |                 | health check    |
|                 |                 |                 | protocol and    |
|                 |                 |                 | the protocol    |
|                 |                 |                 | used by the     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group are as    |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is UDP, the  |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    value can    |
|                 |                 |                 |    only be      |
|                 |                 |                 |    *            |
|                 |                 |                 | *UDP_CONNECT**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP, the  |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    value can be |
|                 |                 |                 |    **TCP** or   |
|                 |                 |                 |    **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP, the |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    value can be |
|                 |                 |                 |    **TCP** or   |
|                 |                 |                 |    **HTTP**.    |
+-----------------+-----------------+-----------------+-----------------+
| monitor_port    | No              | Integer         | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | port. The port  |
|                 |                 |                 | number ranges   |
|                 |                 |                 | from 1 to       |
|                 |                 |                 | 65535.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the port of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | is used as the  |
|                 |                 |                 | health check    |
|                 |                 |                 | port.           |
+-----------------+-----------------+-----------------+-----------------+
| domain_name     | No              | String          | Specifies the   |
|                 |                 |                 | domain name of  |
|                 |                 |                 | HTTP requests   |
|                 |                 |                 | during the      |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the private IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is used as the  |
|                 |                 |                 | destination     |
|                 |                 |                 | address of HTTP |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | digits,         |
|                 |                 |                 | letters,        |
|                 |                 |                 | hyphens (-),    |
|                 |                 |                 | and periods (.) |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a digit or |
|                 |                 |                 | letter, for     |
|                 |                 |                 | example,        |
|                 |                 |                 | **              |
|                 |                 |                 | www.test.com**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 100  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| url_path        | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | path for the    |
|                 |                 |                 | health check.   |
|                 |                 |                 | The default     |
|                 |                 |                 | value is **/**, |
|                 |                 |                 | and the value   |
|                 |                 |                 | must start with |
|                 |                 |                 | a slash (/).    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | An example      |
|                 |                 |                 | value is        |
|                 |                 |                 | **/test**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| expected_codes  | No              | String          | Specifies the   |
|                 |                 |                 | expected HTTP   |
|                 |                 |                 | status code.    |
|                 |                 |                 | The following   |
|                 |                 |                 | options are     |
|                 |                 |                 | available:      |
|                 |                 |                 |                 |
|                 |                 |                 | A single value, |
|                 |                 |                 | such as **200** |
|                 |                 |                 |                 |
|                 |                 |                 | A list of       |
|                 |                 |                 | values, such as |
|                 |                 |                 | **200,202**     |
|                 |                 |                 |                 |
|                 |                 |                 | A value range,  |
|                 |                 |                 | such as         |
|                 |                 |                 | **200-204**     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| http_method     | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | method. The     |
|                 |                 |                 | default value   |
|                 |                 |                 | is **GET**.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **GET**,     |
|                 |                 |                 | **HEAD**,       |
|                 |                 |                 | **POST**,       |
|                 |                 |                 | **PUT**,        |
|                 |                 |                 | **DELETE**,     |
|                 |                 |                 | **TRACE**,      |
|                 |                 |                 | **OPTIONS**,    |
|                 |                 |                 | **CONNECT**,    |
|                 |                 |                 | and **PATCH**.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthmonitor         | Object                | Specifies the health  |
|                       |                       | check. For details,   |
|                       |                       | see Table 3-134.      |
+-----------------------+-----------------------+-----------------------+

2. **healthmonitor** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | health check is       |
|                       |                       | performed.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the maximum |
|                       |                       | time between health   |
|                       |                       | checks in the unit of |
|                       |                       | second. The value     |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**. The value |
|                       |                       | ranges from **1** to  |
|                       |                       | **10**.               |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**. The      |
|                       |                       | value ranges from     |
|                       |                       | **1** to **10**.      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group associated with |
|                       |                       | the health check. For |
|                       |                       | details, see Table    |
|                       |                       | 3-135.                |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the health  |
|                       |                       | check timeout         |
|                       |                       | duration in the unit  |
|                       |                       | of second. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | You are advised to    |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**,              |
|                       |                       | **UDP_CONNECT**, or   |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The relationships     |
|                       |                       | between the value of  |
|                       |                       | this parameter and    |
|                       |                       | the protocol of the   |
|                       |                       | backend server group  |
|                       |                       | are as follows:       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is UDP, the  |
|                       |                       |    parameter value    |
|                       |                       |    can only be        |
|                       |                       |    **UDP_CONNECT**.   |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP, the  |
|                       |                       |    parameter value    |
|                       |                       |    can be **TCP** or  |
|                       |                       |    **HTTP**.          |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is HTTP, the |
|                       |                       |    parameter value    |
|                       |                       |    can be **TCP** or  |
|                       |                       |    **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the health  |
|                       |                       | check port. The port  |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | port of the backend   |
|                       |                       | server is used as the |
|                       |                       | health check port.    |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. The following   |
|                       |                       | options are           |
|                       |                       | available:            |
|                       |                       |                       |
|                       |                       | A single value, such  |
|                       |                       | as **200**            |
|                       |                       |                       |
|                       |                       | A list of values,     |
|                       |                       | such as **200,202**   |
|                       |                       |                       |
|                       |                       | A value range, such   |
|                       |                       | as **200-204**        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | Currently, this       |
|                       |                       | parameter is not      |
|                       |                       | supported and is      |
|                       |                       | fixed at **200**.     |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name of HTTP requests |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | private IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter, for example,  |
|                       |                       | **www.test.com**.     |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | default value is      |
|                       |                       | **/**, and the value  |
|                       |                       | must start with a     |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | An example value is   |
|                       |                       | **/test**.            |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | request method. The   |
|                       |                       | default value is      |
|                       |                       | **GET**.              |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, and      |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+

1. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Configuring a health check

| POST https://{Endpoint}/v2.0/lbaas/healthmonitors
| {
| "healthmonitor": {
| "admin_state_up": true,
| "pool_id": "bb44bffb-05d9-412c-9d9c-b189d9e14193",
| "domain_name": "www.test.com",
| "delay": 10,
| "max_retries": 10,
| "max_retries_down": 5,
| "timeout": 10,
| "type": "HTTP"
| }
| }

#. Example Response

-  Example response

| {
| "healthmonitor": {
| "name": "",
| "admin_state_up": true,
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "domain_name": "www.test.com",
| "delay": 10,
| "max_retries": 10,
| "expected_codes": "200",
| "max_retries_down": 5,
| "http_method": "GET",
| "timeout": 10,
| "pools": [
| {
| "id": "bb44bffb-05d9-412c-9d9c-b189d9e14193"
| }
| ],
| "url_path": "/",
| "type": "HTTP",
| "id": "2dca3867-98c5-4cde-8f2c-b89ae6bd7e36",
| "monitor_port": 112
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Health Checks
~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query the health checks. Filter query and pagination
query are supported. Unless otherwise specified, exact match is applied.

3. URI

GET /v2.0/lbaas/healthmonitors

4. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | health check    |
|                 |                 |                 | from which      |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | health check on |
|                 |                 |                 | the previous    |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | health checks   |
|                 |                 |                 | on each page.   |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not set, all    |
|                 |                 |                 | health checks   |
|                 |                 |                 | are queried by  |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the health      |
|                 |                 |                 | check is        |
|                 |                 |                 | performed.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| delay           | No              | Integer         | Specifies the   |
|                 |                 |                 | maximum time    |
|                 |                 |                 | between health  |
|                 |                 |                 | checks in the   |
|                 |                 |                 | unit of second. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **50**.         |
+-----------------+-----------------+-----------------+-----------------+
| max_retries     | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from            |
|                 |                 |                 | **OFFLINE** to  |
|                 |                 |                 | **ONLINE**. The |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **10**.         |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Integer         | Specifies the   |
| ax_retries_down |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from **ONLINE** |
|                 |                 |                 | to **OFFLINE**. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **10**.         |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| timeout         | No              | Integer         | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration in the |
|                 |                 |                 | unit of second. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **50**.         |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | You are advised |
|                 |                 |                 | to set the      |
|                 |                 |                 | value less than |
|                 |                 |                 | that of         |
|                 |                 |                 | parameter       |
|                 |                 |                 | **delay**.      |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | protocol.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **TCP**,     |
|                 |                 |                 | *               |
|                 |                 |                 | *UDP_CONNECT**, |
|                 |                 |                 | or **HTTP**.    |
+-----------------+-----------------+-----------------+-----------------+
| monitor_port    | No              | Integer         | Specifies the   |
|                 |                 |                 | port used for   |
|                 |                 |                 | the health      |
|                 |                 |                 | check.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the port of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | is used as the  |
|                 |                 |                 | health check    |
|                 |                 |                 | port.           |
+-----------------+-----------------+-----------------+-----------------+
| expected_codes  | No              | String          | Specifies the   |
|                 |                 |                 | expected HTTP   |
|                 |                 |                 | status code.    |
|                 |                 |                 | The following   |
|                 |                 |                 | options are     |
|                 |                 |                 | available:      |
|                 |                 |                 |                 |
|                 |                 |                 | A single value, |
|                 |                 |                 | such as **200** |
|                 |                 |                 |                 |
|                 |                 |                 | A list of       |
|                 |                 |                 | values, such as |
|                 |                 |                 | **200,202**     |
|                 |                 |                 |                 |
|                 |                 |                 | A value range,  |
|                 |                 |                 | such as         |
|                 |                 |                 | **200-204**     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 64   |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| domain_name     | No              | String          | Specifies the   |
|                 |                 |                 | domain name of  |
|                 |                 |                 | HTTP requests   |
|                 |                 |                 | during the      |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the private IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is used as the  |
|                 |                 |                 | destination     |
|                 |                 |                 | address of HTTP |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | digits,         |
|                 |                 |                 | letters,        |
|                 |                 |                 | hyphens (-),    |
|                 |                 |                 | and periods (.) |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a digit or |
|                 |                 |                 | letter, for     |
|                 |                 |                 | example,        |
|                 |                 |                 | **              |
|                 |                 |                 | www.test.com**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 100  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| url_path        | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | path for the    |
|                 |                 |                 | health check.   |
|                 |                 |                 | The default     |
|                 |                 |                 | value is **/**, |
|                 |                 |                 | and the value   |
|                 |                 |                 | must start with |
|                 |                 |                 | a slash (/).    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | An example      |
|                 |                 |                 | value is        |
|                 |                 |                 | **/test**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| http_method     | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | method. The     |
|                 |                 |                 | default value   |
|                 |                 |                 | is **GET**.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **GET**,     |
|                 |                 |                 | **HEAD**,       |
|                 |                 |                 | **POST**,       |
|                 |                 |                 | **PUT**,        |
|                 |                 |                 | **DELETE**,     |
|                 |                 |                 | **TRACE**,      |
|                 |                 |                 | **OPTIONS**,    |
|                 |                 |                 | **CONNECT**,    |
|                 |                 |                 | and **PATCH**.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+

6. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthmonitors        | Array                 | Lists the health      |
|                       |                       | checks. For details,  |
|                       |                       | see Table 3-138.      |
+-----------------------+-----------------------+-----------------------+
| healthmonitors_links  | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       |                       |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query.                |
|                       |                       |                       |
|                       |                       | For details, see      |
|                       |                       | Table 3-140.          |
+-----------------------+-----------------------+-----------------------+

2. **healthmonitors** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | health check is       |
|                       |                       | performed.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the maximum |
|                       |                       | time between health   |
|                       |                       | checks in the unit of |
|                       |                       | second. The value     |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **1** to **10**.      |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**.          |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **1** to **10**.      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Lists the IDs of      |
|                       |                       | backend server groups |
|                       |                       | associated with the   |
|                       |                       | health check.         |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the health  |
|                       |                       | check timeout         |
|                       |                       | duration in the unit  |
|                       |                       | of second. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | You are advised to    |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**,              |
|                       |                       | **UDP_CONNECT**, or   |
|                       |                       | **HTTP**.             |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the health  |
|                       |                       | check port. The port  |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | port of the backend   |
|                       |                       | server is used as the |
|                       |                       | health check port.    |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. The following   |
|                       |                       | options are           |
|                       |                       | available:            |
|                       |                       |                       |
|                       |                       | A single value, such  |
|                       |                       | as **200**            |
|                       |                       |                       |
|                       |                       | A list of values,     |
|                       |                       | such as **200,202**   |
|                       |                       |                       |
|                       |                       | A value range, such   |
|                       |                       | as **200-204**        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 64         |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name of HTTP requests |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | private IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter, for example,  |
|                       |                       | **www.test.com**.     |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 100        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | default value is      |
|                       |                       | **/**, and the value  |
|                       |                       | must start with a     |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | An example value is   |
|                       |                       | **/test**.            |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | request method. The   |
|                       |                       | default value is      |
|                       |                       | **GET**.              |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, and      |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+

1. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

2. **healthmonitors_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **next** or           |
|                       |                       | **previous**. The     |
|                       |                       | value **next**        |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the next page, and    |
|                       |                       | **previous**          |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the previous page.    |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Querying all health checks

GET https://{Endpoint}/v2.0/lbaas/healthmonitors

-  Example request 2: Querying HTTP health checks

GET https://{Endpoint}/v2.0/lbaas/healthmonitors?type=HTTP

#. Example Response

-  Example response 1

| {
| "healthmonitors": [
| {
| "monitor_port": null,
| "name": "",
| "admin_state_up": true,
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "domain_name": null,
| "delay": 5,
| "max_retries": 3,
| "max_retries_down": 5,
| "http_method": "GET",
| "timeout": 10,
| "pools": [
| {
| "id": "caef8316-6b65-4676-8293-cf41fb63cc2a"
| }
| ],
| "url_path": "/",
| "type": "HTTP",
| "id": "1b587819-d619-49c1-9101-fe72d8b361ef"
| }
| ]
| }

-  Example response 2

| {
| "healthmonitors": [
| {
| "monitor_port": null,
| "name": "",
| "admin_state_up": true,
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "domain_name": null,
| "delay": 5,
| "expected_codes": "200-204,300-302,401",
| "max_retries": 3,
| "max_retries_down": 5,
| "http_method": "GET",
| "timeout": 10,
| "pools": [
| {
| "id": "caef8316-6b65-4676-8293-cf41fb63cc2a"
| }
| ],
| "url_path": "/",
| "type": "HTTP",
| "id": "1b587819-d619-49c1-9101-fe72d8b361ef"
| }
| ]
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _querying-details-of-a-health-check-1:

Querying Details of a Health Check
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a health check using its iD.

3. URI

GET /v2.0/lbaas/healthmonitors/{healthmonitor_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| h               | Yes             | String          | Specifies the   |
| ealthmonitor_id |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthmonitor         | Object                | Specifies the health  |
|                       |                       | check. For details,   |
|                       |                       | see Table 3-143.      |
+-----------------------+-----------------------+-----------------------+

2. **healthmonitor** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | health check is       |
|                       |                       | performed.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the maximum |
|                       |                       | time between health   |
|                       |                       | checks in the unit of |
|                       |                       | second. The value     |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**. The value |
|                       |                       | ranges from **1** to  |
|                       |                       | **10**.               |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**. The      |
|                       |                       | value ranges from     |
|                       |                       | **1** to **10**.      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group associated with |
|                       |                       | the health check. For |
|                       |                       | details, see Table    |
|                       |                       | 3-135.                |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the health  |
|                       |                       | check timeout         |
|                       |                       | duration in the unit  |
|                       |                       | of second. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | You are advised to    |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**,              |
|                       |                       | **UDP_CONNECT**, or   |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The relationships     |
|                       |                       | between the value of  |
|                       |                       | this parameter and    |
|                       |                       | the protocol of the   |
|                       |                       | backend server group  |
|                       |                       | are as follows:       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is UDP, the  |
|                       |                       |    parameter value    |
|                       |                       |    can only be        |
|                       |                       |    **UDP_CONNECT**.   |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP, the  |
|                       |                       |    parameter value    |
|                       |                       |    can be **TCP** or  |
|                       |                       |    **HTTP**.          |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is HTTP, the |
|                       |                       |    parameter value    |
|                       |                       |    can be **TCP** or  |
|                       |                       |    **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the health  |
|                       |                       | check port. The port  |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | port of the backend   |
|                       |                       | server is used as the |
|                       |                       | health check port.    |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. The following   |
|                       |                       | options are           |
|                       |                       | available:            |
|                       |                       |                       |
|                       |                       | A single value, such  |
|                       |                       | as **200**            |
|                       |                       |                       |
|                       |                       | A list of values,     |
|                       |                       | such as **200,202**   |
|                       |                       |                       |
|                       |                       | A value range, such   |
|                       |                       | as **200-204**        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | Currently, this       |
|                       |                       | parameter is not      |
|                       |                       | supported and is      |
|                       |                       | fixed at **200**.     |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name of HTTP requests |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | private IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter, for example,  |
|                       |                       | **www.test.com**.     |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | default value is      |
|                       |                       | **/**, and the value  |
|                       |                       | must start with a     |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | An example value is   |
|                       |                       | **/test**.            |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | request method. The   |
|                       |                       | default value is      |
|                       |                       | **GET**.              |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, and      |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+

1. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Querying details of a health check

GET
https://{Endpoint}/v2.0/lbaas/healthmonitors/b7633ade-24dc-4d72-8475-06aa22be5412

#. Example Response

-  Example response

| {
| "healthmonitor": {
| "name": "",
| "admin_state_up": true,
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "domain_name": null,
| "delay": 10,
| "expected_codes": "200-204,300-302,401",
| "max_retries": 10,
| "max_retries_down": 5,
| "http_method": "GET",
| "timeout": 10,
| "pools": [
| {
| "id": "bb44bffb-05d9-412c-9d9c-b189d9e14193"
| }
| ],
| "url_path": "/",
| "type": "HTTP",
| "id": "61c24cba-19bb-45c1-a013-7565e5f98872",
| "monitor_port": 112
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Health Check
~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a health check.

3. Constraints

If **provisioning_status** of the load balancer for which the health
check is configured is not **ACTIVE**, the health check cannot be
updated.

4. URI

PUT /v2.0/lbaas/healthmonitors/{healthmonitor_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| h               | Yes             | String          | Specifies the   |
| ealthmonitor_id |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| healthmonitor   | Yes             | Object          | Specifies the   |
|                 |                 |                 | health check.   |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table       |
|                 |                 |                 | 3-147.          |
+-----------------+-----------------+-----------------+-----------------+

2. **healthmonitor** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| delay           | No              | Integer         | Specifies the   |
|                 |                 |                 | maximum time    |
|                 |                 |                 | between health  |
|                 |                 |                 | checks in the   |
|                 |                 |                 | unit of second. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **50**.         |
+-----------------+-----------------+-----------------+-----------------+
| max_retries     | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from            |
|                 |                 |                 | **OFFLINE** to  |
|                 |                 |                 | **ONLINE**. The |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **10**.         |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Integer         | Specifies the   |
| ax_retries_down |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from **ONLINE** |
|                 |                 |                 | to **OFFLINE**. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **10**.         |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| timeout         | No              | Integer         | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration in the |
|                 |                 |                 | unit of second. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **50**.         |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | You are advised |
|                 |                 |                 | to set the      |
|                 |                 |                 | value less than |
|                 |                 |                 | that of         |
|                 |                 |                 | parameter       |
|                 |                 |                 | **delay**.      |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | protocol.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **TCP**,     |
|                 |                 |                 | *               |
|                 |                 |                 | *UDP_CONNECT**, |
|                 |                 |                 | or **HTTP**.    |
+-----------------+-----------------+-----------------+-----------------+
| monitor_port    | No              | Integer         | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | port. The port  |
|                 |                 |                 | number ranges   |
|                 |                 |                 | from 1 to       |
|                 |                 |                 | 65535.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the port of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | is used as the  |
|                 |                 |                 | health check    |
|                 |                 |                 | port.           |
+-----------------+-----------------+-----------------+-----------------+
| expected_codes  | No              | String          | Specifies the   |
|                 |                 |                 | expected HTTP   |
|                 |                 |                 | status code.    |
|                 |                 |                 | The following   |
|                 |                 |                 | options are     |
|                 |                 |                 | available:      |
|                 |                 |                 |                 |
|                 |                 |                 | A single value, |
|                 |                 |                 | such as **200** |
|                 |                 |                 |                 |
|                 |                 |                 | A list of       |
|                 |                 |                 | values, such as |
|                 |                 |                 | **200,202**     |
|                 |                 |                 |                 |
|                 |                 |                 | A value range,  |
|                 |                 |                 | such as         |
|                 |                 |                 | **200-204**     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
+-----------------+-----------------+-----------------+-----------------+
| domain_name     | No              | String          | Specifies the   |
|                 |                 |                 | domain name of  |
|                 |                 |                 | HTTP requests   |
|                 |                 |                 | during the      |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the private IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is used as the  |
|                 |                 |                 | destination     |
|                 |                 |                 | address of HTTP |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | digits,         |
|                 |                 |                 | letters,        |
|                 |                 |                 | hyphens (-),    |
|                 |                 |                 | and periods (.) |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a digit or |
|                 |                 |                 | letter, for     |
|                 |                 |                 | example,        |
|                 |                 |                 | **              |
|                 |                 |                 | www.test.com**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 100  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| url_path        | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | path for the    |
|                 |                 |                 | health check.   |
|                 |                 |                 | The default     |
|                 |                 |                 | value is **/**, |
|                 |                 |                 | and the value   |
|                 |                 |                 | must start with |
|                 |                 |                 | a slash (/).    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | An example      |
|                 |                 |                 | value is        |
|                 |                 |                 | **/test**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| http_method     | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | method. The     |
|                 |                 |                 | default value   |
|                 |                 |                 | is **GET**.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **GET**,     |
|                 |                 |                 | **HEAD**,       |
|                 |                 |                 | **POST**,       |
|                 |                 |                 | **PUT**,        |
|                 |                 |                 | **DELETE**,     |
|                 |                 |                 | **TRACE**,      |
|                 |                 |                 | **OPTIONS**,    |
|                 |                 |                 | **CONNECT**,    |
|                 |                 |                 | and **PATCH**.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when the value  |
|                 |                 |                 | of **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+

6. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| healthmonitor         | Object                | Specifies the health  |
|                       |                       | check. For details,   |
|                       |                       | see Table 3-149.      |
+-----------------------+-----------------------+-----------------------+

2. **healthmonitor** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | health check is       |
|                       |                       | performed.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the maximum |
|                       |                       | time between health   |
|                       |                       | checks in the unit of |
|                       |                       | second. The value     |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**. The value |
|                       |                       | ranges from **1** to  |
|                       |                       | **10**.               |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**. The      |
|                       |                       | value ranges from     |
|                       |                       | **1** to **10**.      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array                 | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group associated with |
|                       |                       | the health check. For |
|                       |                       | details, see Table    |
|                       |                       | 3-135.                |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the health  |
|                       |                       | check timeout         |
|                       |                       | duration in the unit  |
|                       |                       | of second. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **50**.               |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | You are advised to    |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **TCP**,              |
|                       |                       | **UDP_CONNECT**, or   |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The relationships     |
|                       |                       | between the value of  |
|                       |                       | this parameter and    |
|                       |                       | the protocol of the   |
|                       |                       | backend server group  |
|                       |                       | are as follows:       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is UDP, the  |
|                       |                       |    parameter value    |
|                       |                       |    can only be        |
|                       |                       |    **UDP_CONNECT**.   |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP, the  |
|                       |                       |    parameter value    |
|                       |                       |    can be **TCP** or  |
|                       |                       |    **HTTP**.          |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is HTTP, the |
|                       |                       |    parameter value    |
|                       |                       |    can be **TCP** or  |
|                       |                       |    **HTTP**.          |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the health  |
|                       |                       | check port. The port  |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | port of the backend   |
|                       |                       | server is used as the |
|                       |                       | health check port.    |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. The following   |
|                       |                       | options are           |
|                       |                       | available:            |
|                       |                       |                       |
|                       |                       | A single value, such  |
|                       |                       | as **200**            |
|                       |                       |                       |
|                       |                       | A list of values,     |
|                       |                       | such as **200,202**   |
|                       |                       |                       |
|                       |                       | A value range, such   |
|                       |                       | as **200-204**        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | Currently, this       |
|                       |                       | parameter is not      |
|                       |                       | supported and is      |
|                       |                       | fixed at **200**.     |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name of HTTP requests |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | private IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter, for example,  |
|                       |                       | **www.test.com**.     |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | default value is      |
|                       |                       | **/**, and the value  |
|                       |                       | must start with a     |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | An example value is   |
|                       |                       | **/test**.            |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | request method. The   |
|                       |                       | default value is      |
|                       |                       | **GET**.              |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, and      |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid only when the   |
|                       |                       | value of **type** is  |
|                       |                       | set to **HTTP**.      |
|                       |                       |                       |
|                       |                       | NOTE                  |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+

1. **pools** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the associated        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Updating a health check

| PUT
  https://{Endpoint}/v2.0/lbaas/healthmonitors/b7633ade-24dc-4d72-8475-06aa22be5412
| {
| "healthmonitor": {
| "delay": 15,
| "name": "health-xx",
| "timeout": 12
| }
| }

#. Example Response

-  Example response

| {
| "healthmonitor": {
| "name": "health-xx",
| "admin_state_up": true,
| "tenant_id": "145483a5107745e9b3d80f956713e6a3",
| "domain_name": null,
| "delay": 15,
| "expected_codes": "200",
| "max_retries": 10,
| "max_retries_down": 5,
| "http_method": "GET",
| "timeout": 12,
| "pools": [
| {
| "id": "bb44bffb-05d9-412c-9d9c-b189d9e14193"
| }
| ],
| "url_path": "/",
| "type": "HTTP",
| "id": "2dca3867-98c5-4cde-8f2c-b89ae6bd7e36",
| "monitor_port": 112
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _deleting-a-health-check-1:

Deleting a Health Check
~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a health check.

3. Constraints

If **provisioning_status** of the load balancer for which the health
check is configured is not **ACTIVE**, the health check cannot be
deleted.

4. URI

DELETE /v2.0/lbaas/healthmonitors/{healthmonitor_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| h               | Yes             | String          | Specifies the   |
| ealthmonitor_id |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

None

7. Example Request

-  Example request: Deleting a health check

DELETE
https://{Endpoint}/v2.0/lbaas/healthmonitors/b7633ade-24dc-4d72-8475-06aa22be5412

#. Example Response

-  Example response

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Forwarding Policy
-----------------

1. .. rubric:: Adding a Forwarding Policy
      :name: adding-a-forwarding-policy

   #. Function

This API is used to add a forwarding policy. The listener and forwarding
policy determine how traffic is forwarded to backend servers.

-  By matching the URL or domain name specified in the forwarding policy
   when **action** is set to **REDIRECT_TO_POOL**, the load balancer
   distributes the traffic to backend servers in a specific backend
   server group.

-  When **action** is set to **REDIRECT_TO_LISTENER**, the HTTP listener
   is redirected to an HTTPS listener, and requests are routed by the
   HTTPS listener.

   #. Constraints

Currently, only redirects from an HTTP listener to an HTTPS listener are
supported. When **action** is set to **REDIRECT_TO_LISTENER**, the
listener specified by **listener_id** can only be an HTTP listener, and
the listener specified by **redirect_listener_id** can only be an HTTPS
listener.

The load balancer of the HTTPS listener to which traffic is redirected
must be the same as that of the HTTP listener.

2. URI

POST /v2.0/lbaas/l7policies

3. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy        | Yes             | Object          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. For     |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-153.    |
+-----------------+-----------------+-----------------+-----------------+

2. **l7policy** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | policy is used. |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy name.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy is       |
|                 |                 |                 | added.          |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **action**   |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **REDI       |
|                 |                 |                 | RECT_TO_POOL**, |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies can |
|                 |                 |                 |    be added to  |
|                 |                 |                 |    a listener   |
|                 |                 |                 |    with         |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **HTTP** or  |
|                 |                 |                 |    **TERM       |
|                 |                 |                 | INATED_HTTPS**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **action**   |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **REDIRECT   |
|                 |                 |                 | _TO_LISTENER**, |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies can |
|                 |                 |                 |    be added to  |
|                 |                 |                 |    a listener   |
|                 |                 |                 |    with         |
|                 |                 |                 |    **protocol** |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **HTTP**.    |
+-----------------+-----------------+-----------------+-----------------+
| action          | Yes             | String          | Specifies       |
|                 |                 |                 | whether         |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded to    |
|                 |                 |                 | another backend |
|                 |                 |                 | server group or |
|                 |                 |                 | redirected to   |
|                 |                 |                 | an HTTPS        |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REDI       |
|                 |                 |                 | RECT_TO_POOL**: |
|                 |                 |                 |    Requests are |
|                 |                 |                 |    forwarded to |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **redi       |
|                 |                 |                 | rect_pool_id**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REDIRECT   |
|                 |                 |                 | _TO_LISTENER**: |
|                 |                 |                 |    Requests are |
|                 |                 |                 |    redirected   |
|                 |                 |                 |    from the     |
|                 |                 |                 |    HTTP         |
|                 |                 |                 |    listener     |
|                 |                 |                 |    specified by |
|                 |                 |                 |                 |
|                 |                 |                 | **listener_id** |
|                 |                 |                 |    to the HTTPS |
|                 |                 |                 |    listener     |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **redirect   |
|                 |                 |                 | _listener_id**. |
+-----------------+-----------------+-----------------+-----------------+
| r               | No              | String          | Specifies the   |
| edirect_pool_id |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group to which  |
|                 |                 |                 | traffic is      |
|                 |                 |                 | forwarded. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDI          |
|                 |                 |                 | RECT_TO_POOL**. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | cannot be       |
|                 |                 |                 | specified when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
|                 |                 |                 |                 |
|                 |                 |                 | The backend     |
|                 |                 |                 | server group    |
|                 |                 |                 | must meet the   |
|                 |                 |                 | following       |
|                 |                 |                 | requirements:   |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    the default  |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    of the       |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    used by      |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies of  |
|                 |                 |                 |    other        |
|                 |                 |                 |    listeners.   |
+-----------------+-----------------+-----------------+-----------------+
| redir           | No              | String          | Specifies the   |
| ect_listener_id |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which the       |
|                 |                 |                 | traffic is      |
|                 |                 |                 | redirected. The |
|                 |                 |                 | default value   |
|                 |                 |                 | is **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | cannot be       |
|                 |                 |                 | specified when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **REDI          |
|                 |                 |                 | RECT_TO_POOL**. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**, |
|                 |                 |                 | and the         |
|                 |                 |                 | listener must   |
|                 |                 |                 | meet the        |
|                 |                 |                 | following       |
|                 |                 |                 | requirements:   |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can only be  |
|                 |                 |                 |    an HTTPS     |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can only be  |
|                 |                 |                 |    a listener   |
|                 |                 |                 |    of the same  |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+
| redirect_url    | No              | String          | Specifies the   |
|                 |                 |                 | URL to which    |
|                 |                 |                 | traffic is      |
|                 |                 |                 | redirected. The |
|                 |                 |                 | default value   |
|                 |                 |                 | is **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| position        | No              | Integer         | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | priority. The   |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **100**. The    |
|                 |                 |                 | default value   |
|                 |                 |                 | is **100**.     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| rules           | No              | Array           | Lists the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rules of the    |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. For     |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-154.    |
|                 |                 |                 |                 |
|                 |                 |                 | The list        |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of two  |
|                 |                 |                 | rules, and the  |
|                 |                 |                 | **type**        |
|                 |                 |                 | parameter of    |
|                 |                 |                 | each rule must  |
|                 |                 |                 | be unique.      |
+-----------------+-----------------+-----------------+-----------------+

1. **rules** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | match type of a |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value range |
|                 |                 |                 | varies          |
|                 |                 |                 | depending on    |
|                 |                 |                 | the protocol of |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group:   |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **HOST_NAME**: |
|                 |                 |                 |    matches the  |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    in the       |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **PATH**:    |
|                 |                 |                 |    matches the  |
|                 |                 |                 |    path in the  |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | The match type  |
|                 |                 |                 | of forwarding   |
|                 |                 |                 | rules in a      |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy must be  |
|                 |                 |                 | unique.         |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | Yes             | String          | Specifies the   |
|                 |                 |                 | match mode. The |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | the value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | can only be the |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **PATH**, the   |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REGEX**:   |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    regular      |
|                 |                 |                 |    expression   |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *STARTS_WITH**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    prefix       |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **false**.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match content.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match content.  |
|                 |                 |                 | The value       |
|                 |                 |                 | cannot contain  |
|                 |                 |                 | spaces.         |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    100          |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that contain |
|                 |                 |                 |    only         |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    128          |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    When         |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |  \_~';@^-%#&$.* |
|                 |                 |                 | +?,=!:|\/()[]{} |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| l7policy              | Object                | Specifies the         |
|                       |                       | forwarding policy.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-156.          |
+-----------------------+-----------------------+-----------------------+

2. **l7policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding policy is  |
|                       |                       | used.                 |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
+-----------------------+-----------------------+-----------------------+
| action                | String                | Specifies whether     |
|                       |                       | requests are          |
|                       |                       | forwarded to another  |
|                       |                       | backend server group  |
|                       |                       | or redirected to an   |
|                       |                       | HTTPS listener.       |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests are       |
|                       |                       |    forwarded to the   |
|                       |                       |    backend server     |
|                       |                       |    group specified by |
|                       |                       |                       |
|                       |                       | **redirect_pool_id**. |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests are       |
|                       |                       |    redirected from    |
|                       |                       |    the HTTP listener  |
|                       |                       |    specified by       |
|                       |                       |    **listener_id** to |
|                       |                       |    the HTTPS listener |
|                       |                       |    specified by       |
|                       |                       |    **re               |
|                       |                       | direct_listener_id**. |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group to which        |
|                       |                       | traffic is forwarded. |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the traffic is        |
|                       |                       | redirected.           |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which traffic is      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array                 | Lists the forwarding  |
|                       |                       | rules of the          |
|                       |                       | forwarding policy.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-157.          |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding priority.  |
|                       |                       | The value ranges from |
|                       |                       | **1** to **100**. The |
|                       |                       | default value is      |
|                       |                       | **100**.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

1. **rules** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Lists the IDs of the  |
|                       |                       | forwarding rules in   |
|                       |                       | the forwarding        |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Adding a forwarding policy

| POST https://{Endpoint}/v2.0/lbaas/l7policies
| {
| "l7policy": {
| "name": "niubiao_yaqing_api-2",
| "listener_id": "3e24a3ca-11e5-4aa3-abd4-61ba0a8a18f1",
| "action": "REDIRECT_TO_POOL",
| "redirect_pool_id": "6460f13a-76de-43c7-b776-4fefc06a676e",
| "rules": [
| {
| "type": "PATH",
| "compare_type": "EQUAL_TO",
| "value": "/test"
| },
| {
| "type": "HOST_NAME",
| "compare_type": "EQUAL_TO",
| "value": "www.test.com"
| }
| ]
| }
| }

-  Example request 2: Creating a redirect

| POST https://{Endpoint}/v2.0/lbaas/l7policies
| {
| "l7policy": {
| "action": "REDIRECT_TO_LISTENER",
| "listener_id": "4ef8553e-9ef7-4859-a42d-919feaf89d60",
| "redirect_listener_id": "3ee10199-a7b4-4784-93cd-857afe9d0890",
| "name": "redirect-test"
| }
| }

#. Example Response

-  Example response 1

| {
| "l7policy": {
| "redirect_pool_id": "6460f13a-76de-43c7-b776-4fefc06a676e",
| "description": "",
| "admin_state_up": true,
| "rules": [
| {
| "id": "742600d9-2a14-4808-af69-336883dbb590"
| },
| {
| "id": "3251ed77-0d52-412b-9310-733636bb3fbf"
| }
| ],
| "tenant_id": "573d73c9f90e48d0bddfa0eb202b25c2",
| "listener_id": "3e24a3ca-11e5-4aa3-abd4-61ba0a8a18f1",
| "redirect_url": null,
| "redirect_listener_id": null,
| "action": "REDIRECT_TO_POOL",
| "position": 100,
| "provisioning_status": "ACTIVE",
| "id": "65d6e115-f179-4bcd-9bbb-1484e5f8ee81",
| "name": "niubiao_yaqing-_api-2"
| }
| }

-  Example response 2

| {
| "l7policy": {
| "redirect_pool_id": null,
| "description": "",
| "admin_state_up": true,
| "rules": [ ],
| "tenant_id": "573d73c9f90e48d0bddfa0eb202b25c2",
| "listener_id": "4ef8553e-9ef7-4859-a42d-919feaf89d60",
| "redirect_url": null,
| "redirect_listener_id": "3ee10199-a7b4-4784-93cd-857afe9d0890",
| "action": "REDIRECT_TO_LISTENER",
| "position": 100,
| "provisioning_status": "ACTIVE",
| "id": "bc4e4338-480f-4a98-8245-5bb1964f0e1d",
| "name": "redirect-test"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Forwarding Policies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query the forwarding policies. Filter query and
pagination query are supported. Unless otherwise specified, exact match
is applied.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/l7policies

5. Request

   1. Parameter description

+---------------+---------------+---------------+--------------------+
| Parameter     | Mandatory     | Type          | Description        |
+===============+===============+===============+====================+
| marker        | No            | String        | Specifies the ID   |
|               |               |               | of the forwarding  |
|               |               |               | policy from which  |
|               |               |               | pagination query   |
|               |               |               | starts, that is,   |
|               |               |               | the ID of the last |
|               |               |               | forwarding policy  |
|               |               |               | on the previous    |
|               |               |               | page.              |
|               |               |               |                    |
|               |               |               | This parameter     |
|               |               |               | must be used       |
|               |               |               | together with      |
|               |               |               | **limit**.         |
+---------------+---------------+---------------+--------------------+
| limit         | No            | Integer       | Specifies the      |
|               |               |               | number of          |
|               |               |               | forwarding         |
|               |               |               | policies on each   |
|               |               |               | page. If this      |
|               |               |               | parameter is not   |
|               |               |               | set, all           |
|               |               |               | forwarding         |
|               |               |               | policies are       |
|               |               |               | queried by         |
|               |               |               | default.           |
+---------------+---------------+---------------+--------------------+
| page_reverse  | No            | Boolean       | Specifies the page |
|               |               |               | direction. The     |
|               |               |               | value can be       |
|               |               |               | **true** or        |
|               |               |               | **false**, and the |
|               |               |               | default value is   |
|               |               |               | **false**. The     |
|               |               |               | last page in the   |
|               |               |               | list requested     |
|               |               |               | with               |
|               |               |               | **page_reverse**   |
|               |               |               | set to **false**   |
|               |               |               | will not contain   |
|               |               |               | the "next" link,   |
|               |               |               | and the last page  |
|               |               |               | in the list        |
|               |               |               | requested with     |
|               |               |               | **page_reverse**   |
|               |               |               | set to **true**    |
|               |               |               | will not contain   |
|               |               |               | the "previous"     |
|               |               |               | link.              |
|               |               |               |                    |
|               |               |               | This parameter     |
|               |               |               | must be used       |
|               |               |               | together with      |
|               |               |               | **limit**.         |
+---------------+---------------+---------------+--------------------+
| id            | No            | String        | Specifies the      |
|               |               |               | forwarding policy  |
|               |               |               | ID.                |
+---------------+---------------+---------------+--------------------+
| tenant_id     | No            | String        | Specifies the ID   |
|               |               |               | of the project     |
|               |               |               | where the          |
|               |               |               | forwarding policy  |
|               |               |               | is used.           |
|               |               |               |                    |
|               |               |               | The value contains |
|               |               |               | a maximum of 255   |
|               |               |               | characters.        |
+---------------+---------------+---------------+--------------------+
| name          | No            | String        | Specifies the      |
|               |               |               | forwarding policy  |
|               |               |               | name.              |
|               |               |               |                    |
|               |               |               | The value contains |
|               |               |               | a maximum of 255   |
|               |               |               | characters.        |
+---------------+---------------+---------------+--------------------+
| a             | No            | Boolean       | Specifies the      |
| dmin_state_up |               |               | administrative     |
|               |               |               | status of the      |
|               |               |               | forwarding policy. |
|               |               |               |                    |
|               |               |               | This parameter is  |
|               |               |               | reserved, and the  |
|               |               |               | default value is   |
|               |               |               | **true**.          |
+---------------+---------------+---------------+--------------------+
| description   | No            | String        | Provides           |
|               |               |               | supplementary      |
|               |               |               | information about  |
|               |               |               | the forwarding     |
|               |               |               | policy.            |
|               |               |               |                    |
|               |               |               | The value contains |
|               |               |               | a maximum of 255   |
|               |               |               | characters.        |
+---------------+---------------+---------------+--------------------+
| listener_id   | No            | String        | Specifies the ID   |
|               |               |               | of the listener to |
|               |               |               | which the          |
|               |               |               | forwarding policy  |
|               |               |               | is added.          |
+---------------+---------------+---------------+--------------------+
| action        | No            | String        | Specifies whether  |
|               |               |               | requests are       |
|               |               |               | forwarded to       |
|               |               |               | another backend    |
|               |               |               | server group or    |
|               |               |               | redirected to an   |
|               |               |               | HTTPS listener.    |
|               |               |               |                    |
|               |               |               | The value can be   |
|               |               |               | one of the         |
|               |               |               | following:         |
|               |               |               |                    |
|               |               |               | -  **R             |
|               |               |               | EDIRECT_TO_POOL**: |
|               |               |               |    Requests are    |
|               |               |               |    forwarded to    |
|               |               |               |    the backend     |
|               |               |               |    server group    |
|               |               |               |    specified by    |
|               |               |               |    **r             |
|               |               |               | edirect_pool_id**. |
|               |               |               |                    |
|               |               |               | -  **REDIR         |
|               |               |               | ECT_TO_LISTENER**: |
|               |               |               |    Requests are    |
|               |               |               |    redirected from |
|               |               |               |    the HTTP        |
|               |               |               |    listener        |
|               |               |               |    specified by    |
|               |               |               |    **listener_id** |
|               |               |               |    to the HTTPS    |
|               |               |               |    listener        |
|               |               |               |    specified by    |
|               |               |               |    **redir         |
|               |               |               | ect_listener_id**. |
+---------------+---------------+---------------+--------------------+
| red           | No            | String        | Specifies the ID   |
| irect_pool_id |               |               | of the backend     |
|               |               |               | server group to    |
|               |               |               | which traffic is   |
|               |               |               | forwarded.         |
+---------------+---------------+---------------+--------------------+
| redirec       | No            | String        | Specifies the ID   |
| t_listener_id |               |               | of the listener to |
|               |               |               | which the traffic  |
|               |               |               | is redirected.     |
+---------------+---------------+---------------+--------------------+
| redirect_url  | No            | String        | Specifies the URL  |
|               |               |               | to which traffic   |
|               |               |               | is redirected.     |
|               |               |               |                    |
|               |               |               | This parameter is  |
|               |               |               | reserved.          |
|               |               |               |                    |
|               |               |               | The value contains |
|               |               |               | a maximum of 255   |
|               |               |               | characters.        |
+---------------+---------------+---------------+--------------------+
| position      | No            | Integer       | Specifies the      |
|               |               |               | forwarding         |
|               |               |               | priority. The      |
|               |               |               | value ranges from  |
|               |               |               | **1** to **100**.  |
|               |               |               | The default value  |
|               |               |               | is **100**.        |
|               |               |               |                    |
|               |               |               | This parameter is  |
|               |               |               | reserved.          |
+---------------+---------------+---------------+--------------------+
| provis        | No            | String        | This parameter is  |
| ioning_status |               |               | reserved, and its  |
|               |               |               | value can only be  |
|               |               |               | **ACTIVE**.        |
|               |               |               |                    |
|               |               |               | It specifies the   |
|               |               |               | provisioning       |
|               |               |               | status of the      |
|               |               |               | forwarding policy. |
+---------------+---------------+---------------+--------------------+
| disp          | No            | Boolean       | Specifies whether  |
| lay_all_rules |               |               | to display all     |
|               |               |               | forwarding rules   |
|               |               |               | added to the       |
|               |               |               | forwarding policy. |
|               |               |               |                    |
|               |               |               | Value options:     |
|               |               |               |                    |
|               |               |               | **false**:         |
|               |               |               | Forwarding rules   |
|               |               |               | will not be        |
|               |               |               | displayed, and     |
|               |               |               | only IDs are       |
|               |               |               | displayed.         |
|               |               |               |                    |
|               |               |               | **true**:          |
|               |               |               | Forwarding rules   |
|               |               |               | will be displayed. |
+---------------+---------------+---------------+--------------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| l7policies            | Array                 | Lists the forwarding  |
|                       |                       | policies. For         |
|                       |                       | details, see Table    |
|                       |                       | 3-160.                |
+-----------------------+-----------------------+-----------------------+
| l7policies_links      | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       |                       |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query.                |
|                       |                       |                       |
|                       |                       | For details, see      |
|                       |                       | Table 3-162.          |
+-----------------------+-----------------------+-----------------------+

2. **l7policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding policy is  |
|                       |                       | used.                 |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
+-----------------------+-----------------------+-----------------------+
| action                | String                | Specifies whether     |
|                       |                       | requests are          |
|                       |                       | forwarded to another  |
|                       |                       | backend server group  |
|                       |                       | or redirected to an   |
|                       |                       | HTTPS listener.       |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests are       |
|                       |                       |    forwarded to the   |
|                       |                       |    backend server     |
|                       |                       |    group specified by |
|                       |                       |                       |
|                       |                       | **redirect_pool_id**. |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests are       |
|                       |                       |    redirected from    |
|                       |                       |    the HTTP listener  |
|                       |                       |    specified by       |
|                       |                       |    **listener_id** to |
|                       |                       |    the HTTPS listener |
|                       |                       |    specified by       |
|                       |                       |    **re               |
|                       |                       | direct_listener_id**. |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group to which        |
|                       |                       | traffic is forwarded. |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the traffic is        |
|                       |                       | redirected.           |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which traffic is      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array                 | Lists the forwarding  |
|                       |                       | rules of the          |
|                       |                       | forwarding policy.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-157.          |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding priority.  |
|                       |                       | The value ranges from |
|                       |                       | **1** to **100**. The |
|                       |                       | default value is      |
|                       |                       | **100**.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

1. **rules** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Lists the IDs of the  |
|                       |                       | forwarding rules in   |
|                       |                       | the forwarding        |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

2. **l7policies_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **next** or           |
|                       |                       | **previous**. The     |
|                       |                       | value **next**        |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the next page, and    |
|                       |                       | **previous**          |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the previous page.    |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request 1: Querying all forwarding policies

GET https://{Endpoint}/v2.0/lbaas/l7policies

-  Example request 2: Querying forwarding policies through which
   requests are forwarded to the backend server group

GET https://{Endpoint}/v2.0/lbaas/l7policies?action=REDIRECT_TO_POOL

#. Example Response

-  Example response 1

| {
| "l7policies": [
| {
| "redirect_pool_id": "431a03eb-81bb-408e-ae37-7ce19023692b",
| "redirect_listener_id": null,
| "description": "",
| "admin_state_up": true,
| "rules": [
| {
| "id": "67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3"
| },
| {
| "id": "f02b3bca-69d2-4335-a3fa-a8054e996213"
| }
| ],
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "listener_id": "26058b64-6185-4e06-874e-4bd68b7633d0",
| "redirect_url": null,
| "action": "REDIRECT_TO_POOL",
| "position": 2,
| "provisioning_status": "ACTIVE",
| "id": "5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586",
| "name": ""
| },
| {
| "redirect_pool_id": "59eebd7b-c68f-4f8a-aa7f-e062e84c0690",
| "redirect_listener_id": null,
| "description": "",
| "admin_state_up": true,
| "rules": [
| {
| "id": "f4499f48-de3d-4efe-926d-926aa4d6aaf5"
| }
| ],
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "listener_id": "e1310063-00de-4867-ab55-ccac4d9db364",
| "redirect_url": null,
| "action": "REDIRECT_TO_POOL",
| "position": 1,
| "provisioning_status": "ACTIVE",
| "id": "6cfd9d89-1d7e-4d84-ae1f-a8c5ff126f72",
| "name": ""
| }
| ],
| "l7policies_links": [
| {
| "href":
  "https://{Endpoint}/v2.0/lbaas/l7policies/061f461c-c7cf-47ab-9583-09be5076cd09/rules?marker=167c1a31-bc12-4c3d-9ad1-c9bf450df4ce&page_reverse=True",
| "rel": "previous"
| }
| ]
| }

-  Example response 2

| {
| "l7policies": [
| {
| "redirect_pool_id": "431a03eb-81bb-408e-ae37-7ce19023692b",
| "redirect_listener_id": null,
| "description": "",
| "admin_state_up": true,
| "rules": [
| {
| "id": "67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3"
| },
| {
| "id": "f02b3bca-69d2-4335-a3fa-a8054e996213"
| }
| ],
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "listener_id": "26058b64-6185-4e06-874e-4bd68b7633d0",
| "redirect_url": null,
| "action": "REDIRECT_TO_POOL",
| "position": 2,
| "provisioning_status": "ACTIVE",
| "id": "5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586",
| "name": ""
| },
| {
| "redirect_pool_id": "59eebd7b-c68f-4f8a-aa7f-e062e84c0690",
| "redirect_listener_id": null,
| "description": "",
| "admin_state_up": true,
| "rules": [
| {
| "id": "f4499f48-de3d-4efe-926d-926aa4d6aaf5"
| }
| ],
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "listener_id": "e1310063-00de-4867-ab55-ccac4d9db364",
| "redirect_url": null,
| "action": "REDIRECT_TO_POOL",
| "position": 1,
| "provisioning_status": "ACTIVE",
| "id": "6cfd9d89-1d7e-4d84-ae1f-a8c5ff126f72",
| "name": ""
| }
| ],
| "l7policies_links": [
| {
| "href":
  "https://{Endpoint}/v2.0/lbaas/l7policies/061f461c-c7cf-47ab-9583-09be5076cd09/rules?marker=167c1a31-bc12-4c3d-9ad1-c9bf450df4ce&page_reverse=True",
| "rel": "previous"
| }
| ]
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Details of a Forwarding Policy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a forwarding policy.

3. URI

GET /v2.0/lbaas/l7policies/{l7policy_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| l7policy              | Object                | Specifies the         |
|                       |                       | forwarding policy.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-165.          |
+-----------------------+-----------------------+-----------------------+

2. **l7policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding policy is  |
|                       |                       | used.                 |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
+-----------------------+-----------------------+-----------------------+
| action                | String                | Specifies whether     |
|                       |                       | requests are          |
|                       |                       | forwarded to another  |
|                       |                       | backend server group  |
|                       |                       | or redirected to an   |
|                       |                       | HTTPS listener.       |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests are       |
|                       |                       |    forwarded to the   |
|                       |                       |    backend server     |
|                       |                       |    group specified by |
|                       |                       |                       |
|                       |                       | **redirect_pool_id**. |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests are       |
|                       |                       |    redirected from    |
|                       |                       |    the HTTP listener  |
|                       |                       |    specified by       |
|                       |                       |    **listener_id** to |
|                       |                       |    the HTTPS listener |
|                       |                       |    specified by       |
|                       |                       |    **re               |
|                       |                       | direct_listener_id**. |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group to which        |
|                       |                       | traffic is forwarded. |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the traffic is        |
|                       |                       | redirected.           |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which traffic is      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array                 | Lists the forwarding  |
|                       |                       | rules of the          |
|                       |                       | forwarding policy.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-157.          |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding priority.  |
|                       |                       | The value ranges from |
|                       |                       | **1** to **100**. The |
|                       |                       | default value is      |
|                       |                       | **100**.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

1. **rules** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Lists the IDs of the  |
|                       |                       | forwarding rules in   |
|                       |                       | the forwarding        |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Querying details of a forwarding policy

GET
https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586

#. Example Response

-  Example response

| {
| "l7policy": {
| "redirect_pool_id": "431a03eb-81bb-408e-ae37-7ce19023692b",
| "redirect_listener_id": null,
| "description": "",
| "admin_state_up": true,
| "rules": [
| {
| "id": "67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3"
| },
| {
| "id": "f02b3bca-69d2-4335-a3fa-a8054e996213"
| }
| ],
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "listener_id": "26058b64-6185-4e06-874e-4bd68b7633d0",
| "redirect_url": null,
| "provisioning_status": "ACTIVE",
| "action": "REDIRECT_TO_POOL",
| "position": 1,
| "id": "5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586",
| "name": "l7policy-garry-1"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Forwarding Policy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a forwarding policy. You can select another
backend server group or redirect to another HTTPS listener.

3. URI

PUT /v2.0/lbaas/l7policies/{l7policy_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | Object          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy        | Yes             | Object          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. For     |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-169.    |
+-----------------+-----------------+-----------------+-----------------+

2. **l7policy** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy name.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| r               | No              | String          | Specifies the   |
| edirect_pool_id |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group to which  |
|                 |                 |                 | traffic is      |
|                 |                 |                 | forwarded. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDI          |
|                 |                 |                 | RECT_TO_POOL**. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | cannot be       |
|                 |                 |                 | specified when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
|                 |                 |                 |                 |
|                 |                 |                 | The backend     |
|                 |                 |                 | server group    |
|                 |                 |                 | must meet the   |
|                 |                 |                 | following       |
|                 |                 |                 | requirements:   |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    the default  |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    of the       |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    used by      |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies of  |
|                 |                 |                 |    other        |
|                 |                 |                 |    listeners.   |
+-----------------+-----------------+-----------------+-----------------+
| redir           | No              | String          | Specifies the   |
| ect_listener_id |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which the       |
|                 |                 |                 | traffic is      |
|                 |                 |                 | redirected. The |
|                 |                 |                 | default value   |
|                 |                 |                 | is **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | cannot be       |
|                 |                 |                 | specified when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **REDI          |
|                 |                 |                 | RECT_TO_POOL**. |
|                 |                 |                 | The listener    |
|                 |                 |                 | must meet the   |
|                 |                 |                 | following       |
|                 |                 |                 | requirements:   |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can only be  |
|                 |                 |                 |    an HTTPS     |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can only be  |
|                 |                 |                 |    a listener   |
|                 |                 |                 |    of the same  |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy        | Yes             | Object          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. For     |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-171.    |
+-----------------+-----------------+-----------------+-----------------+

2. **l7policy** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding policy is  |
|                       |                       | used.                 |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
+-----------------------+-----------------------+-----------------------+
| action                | String                | Specifies whether     |
|                       |                       | requests are          |
|                       |                       | forwarded to another  |
|                       |                       | backend server group  |
|                       |                       | or redirected to an   |
|                       |                       | HTTPS listener.       |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests are       |
|                       |                       |    forwarded to the   |
|                       |                       |    backend server     |
|                       |                       |    group specified by |
|                       |                       |                       |
|                       |                       | **redirect_pool_id**. |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests are       |
|                       |                       |    redirected from    |
|                       |                       |    the HTTP listener  |
|                       |                       |    specified by       |
|                       |                       |    **listener_id** to |
|                       |                       |    the HTTPS listener |
|                       |                       |    specified by       |
|                       |                       |    **re               |
|                       |                       | direct_listener_id**. |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group to which        |
|                       |                       | traffic is forwarded. |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the traffic is        |
|                       |                       | redirected.           |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which traffic is      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array                 | Lists the forwarding  |
|                       |                       | rules of the          |
|                       |                       | forwarding policy.    |
|                       |                       | For details, see      |
|                       |                       | Table 3-157.          |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding priority.  |
|                       |                       | The value ranges from |
|                       |                       | **1** to **100**. The |
|                       |                       | default value is      |
|                       |                       | **100**.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

1. **rules** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Lists the IDs of the  |
|                       |                       | forwarding rules in   |
|                       |                       | the forwarding        |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Updating a forwarding policy

| PUT
  https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586
| {
| "l7policy": {
| "name": "test"
| }
| }

#. Example Response

-  Example response

| {
| "l7policy": {
| "redirect_pool_id": "431a03eb-81bb-408e-ae37-7ce19023692b",
| "redirect_listener_id": null,
| "description": "",
| "admin_state_up": true,
| "rules": [
| {
| "id": "67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3"
| },
| {
| "id": "f02b3bca-69d2-4335-a3fa-a8054e996213"
| }
| ],
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "listener_id": "26058b64-6185-4e06-874e-4bd68b7633d0",
| "redirect_url": null,
| "action": "REDIRECT_TO_POOL",
| "provisioning_status": "ACTIVE",
| "position": 2,
| "id": "5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586",
| "name": "test"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Deleting a Forwarding Policy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a specific forwarding policy.

3. URI

DELETE /v2.0/lbaas/l7policies/{l7policy_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | Object          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

None

6. Example Request

-  Example request: Deleting a forwarding policy

DELETE
https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586

#. Example Response

-  Example response

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Forwarding Rule
---------------

1. .. rubric:: Adding a Forwarding Rule
      :name: adding-a-forwarding-rule

   #. Function

This API is used to add a forwarding rule. After you add a forwarding
rule, the load balancer matches the domain name and path in the request
and distributes the traffic to the backend server group specified by
**redirect_pool_id** of the associated forwarding policy.

2. Constraints

The match type of forwarding rules in a forwarding policy must be
unique.

3. URI

POST /v2.0/lbaas/l7policies/{l7policy_id}/rules

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| rule            | Yes             | Object          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. For       |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-176.    |
+-----------------+-----------------+-----------------+-----------------+

2. **rule** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule is used.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | match type of a |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **HOST_NAME**: |
|                 |                 |                 |    matches the  |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    in the       |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **PATH**:    |
|                 |                 |                 |    matches the  |
|                 |                 |                 |    path in the  |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | The match type  |
|                 |                 |                 | of forwarding   |
|                 |                 |                 | rules in a      |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy must be  |
|                 |                 |                 | unique.         |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | Yes             | String          | Specifies the   |
|                 |                 |                 | match mode. The |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | the value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | can only be the |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **PATH**, the   |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REGEX**:   |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    regular      |
|                 |                 |                 |    expression   |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *STARTS_WITH**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    prefix       |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **false**.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match content.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match content.  |
|                 |                 |                 | The value       |
|                 |                 |                 | cannot contain  |
|                 |                 |                 | spaces.         |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    100          |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that contain |
|                 |                 |                 |    only         |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    128          |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    When         |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    \_~';@^      |
|                 |                 |                 | -%#&$.*+?,=!:\| |
|                 |                 |                 |    \\/()[]{}    |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| rule                  | Object                | Specifies the         |
|                       |                       | forwarding rule. For  |
|                       |                       | details, see Table    |
|                       |                       | 3-178.                |
+-----------------------+-----------------------+-----------------------+

2. **rule** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding rule is    |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | type of a forwarding  |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**:     |
|                       |                       |    matches the domain |
|                       |                       |    name in the        |
|                       |                       |    request.           |
|                       |                       |                       |
|                       |                       | -  **PATH**: matches  |
|                       |                       |    the path in the    |
|                       |                       |    request.           |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies the match   |
|                       |                       | mode. The options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **HOST_NAME**, the |
|                       |                       | value of this         |
|                       |                       | parameter can only be |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **PATH**, the      |
|                       |                       | value of this         |
|                       |                       | parameter can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **REGEX**:         |
|                       |                       |    indicates regular  |
|                       |                       |    expression match.  |
|                       |                       |                       |
|                       |                       | -  **STARTS_WITH**:   |
|                       |                       |    indicates prefix   |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. The        |
|                       |                       | default value is      |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | The default value is  |
|                       |                       | **null**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match content. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 128        |
|                       |                       | characters.           |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to             |
|                       |                       |    **HOST_NAME**, the |
|                       |                       |    value can contain  |
|                       |                       |    a maximum of 100   |
|                       |                       |    characters that    |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    hyphens (-), and   |
|                       |                       |    periods (.), and   |
|                       |                       |    must start with a  |
|                       |                       |    letter or digit.   |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to **PATH**,   |
|                       |                       |    the value can      |
|                       |                       |    contain a maximum  |
|                       |                       |    of 128 characters. |
|                       |                       |    When               |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO**, the  |
|                       |                       |    value must start   |
|                       |                       |    with a slash (/)   |
|                       |                       |    and can contain    |
|                       |                       |    only letters,      |
|                       |                       |    digits, and        |
|                       |                       |    special characters |
|                       |                       |    \                  |
|                       |                       | _~';@^-%#&$.*+?,=!:\| |
|                       |                       |    \\/()[]{}          |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Adding a forwarding rule

| POST
  https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586/rules
| {
| "rule": {
| "compare_type": "EQUAL_TO",
| "type": "PATH",
| "value": "/bbb.html"
| }
| }

#. Example Response

-  Example response

| {
| "rule": {
| "compare_type": "EQUAL_TO",
| "admin_state_up": true,
| "provisioning_status": "ACTIVE",
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "invert": false,
| "value": "/bbb.html",
| "key": null,
| "type": "PATH",
| "id": "c6f457b8-bf6f-45d7-be5c-a3226945b7b1"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Forwarding Rules
~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query forwarding rules. Filter query and pagination
query are supported. Unless otherwise specified, exact match is applied.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/l7policies/{l7policy_id}/rules

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | from which      |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | on the previous |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rules on each   |
|                 |                 |                 | page. If this   |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not set, all    |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rules are       |
|                 |                 |                 | queried by      |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule is used.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | match type of a |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **HOST_NAME**: |
|                 |                 |                 |    matches the  |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    in the       |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **PATH**:    |
|                 |                 |                 |    matches the  |
|                 |                 |                 |    path in the  |
|                 |                 |                 |    request.     |
|                 |                 |                 |                 |
|                 |                 |                 | The match type  |
|                 |                 |                 | of forwarding   |
|                 |                 |                 | rules in a      |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy must be  |
|                 |                 |                 | unique.         |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | No              | String          | Specifies the   |
|                 |                 |                 | match mode. The |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | the value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | can only be the |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **PATH**, the   |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REGEX**:   |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    regular      |
|                 |                 |                 |    expression   |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *STARTS_WITH**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    prefix       |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **false**.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match content.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match content.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    100          |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that contain |
|                 |                 |                 |    only         |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    128          |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    When         |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    \_~';@^      |
|                 |                 |                 | -%#&$.*+?,=!:\| |
|                 |                 |                 |    \\/()[]{}    |
+-----------------+-----------------+-----------------+-----------------+
| prov            | No              | String          | This parameter  |
| isioning_status |                 |                 | is reserved,    |
|                 |                 |                 | and its value   |
|                 |                 |                 | can only be     |
|                 |                 |                 | **ACTIVE**.     |
|                 |                 |                 |                 |
|                 |                 |                 | It specifies    |
|                 |                 |                 | the             |
|                 |                 |                 | provisioning    |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| rules                 | Array                 | Lists the forwarding  |
|                       |                       | rules. For details,   |
|                       |                       | see Table 3-182.      |
+-----------------------+-----------------------+-----------------------+
| rules_links           | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       |                       |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query.                |
|                       |                       |                       |
|                       |                       | For details, see      |
|                       |                       | Table 3-183.          |
+-----------------------+-----------------------+-----------------------+

2. **rules** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding rule is    |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | type of a forwarding  |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**:     |
|                       |                       |    matches the domain |
|                       |                       |    name in the        |
|                       |                       |    request.           |
|                       |                       |                       |
|                       |                       | -  **PATH**: matches  |
|                       |                       |    the path in the    |
|                       |                       |    request.           |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies the match   |
|                       |                       | mode. The options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **HOST_NAME**, the |
|                       |                       | value of this         |
|                       |                       | parameter can only be |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **PATH**, the      |
|                       |                       | value of this         |
|                       |                       | parameter can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **REGEX**:         |
|                       |                       |    indicates regular  |
|                       |                       |    expression match.  |
|                       |                       |                       |
|                       |                       | -  **STARTS_WITH**:   |
|                       |                       |    indicates prefix   |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. The        |
|                       |                       | default value is      |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | The default value is  |
|                       |                       | **null**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match content. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 128        |
|                       |                       | characters.           |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to             |
|                       |                       |    **HOST_NAME**, the |
|                       |                       |    value can contain  |
|                       |                       |    a maximum of 100   |
|                       |                       |    characters that    |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    hyphens (-), and   |
|                       |                       |    periods (.), and   |
|                       |                       |    must start with a  |
|                       |                       |    letter or digit.   |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to **PATH**,   |
|                       |                       |    the value can      |
|                       |                       |    contain a maximum  |
|                       |                       |    of 128 characters. |
|                       |                       |    When               |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO**, the  |
|                       |                       |    value must start   |
|                       |                       |    with a slash (/)   |
|                       |                       |    and can contain    |
|                       |                       |    only letters,      |
|                       |                       |    digits, and        |
|                       |                       |    special characters |
|                       |                       |    \                  |
|                       |                       | _~';@^-%#&$.*+?,=!:\| |
|                       |                       |    \\/()[]{}          |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
+-----------------------+-----------------------+-----------------------+

1. **rules_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **next** or           |
|                       |                       | **previous**. The     |
|                       |                       | value **next**        |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the next page, and    |
|                       |                       | **previous**          |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the previous page.    |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Querying all forwarding rules of a specific
   forwarding policy

GET
https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586/rules

#. Example Response

-  Example response

| {
| "rules": [
| {
| "compare_type": "EQUAL_TO",
| "provisioning_status": "ACTIVE",
| "admin_state_up": true,
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "invert": false,
| "value": "www.test.com",
| "key": null,
| "type": "HOST_NAME",
| "id": "67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3"
| },
| {
| "compare_type": "EQUAL_TO",
| "provisioning_status": "ACTIVE",
| "admin_state_up": true,
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "invert": false,
| "value": "/aaa.html",
| "key": null,
| "type": "PATH",
| "id": "f02b3bca-69d2-4335-a3fa-a8054e996213"
| }
| ]
| "rules_links": [
| {
| "href":
  "https://{Endpoint}/v2.0/lbaas/l7policies/061f461c-c7cf-47ab-9583-09be5076cd09/rules?marker=167c1a31-bc12-4c3d-9ad1-c9bf450df4ce&page_reverse=True",
| "rel": "previous"
| }
| ]
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Details of a Forwarding Rule
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a forwarding rule using its ID.

3. URI

GET /v2.0/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+
| l7rule_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| rule                  | Object                | Specifies the         |
|                       |                       | forwarding rule. For  |
|                       |                       | details, see Table    |
|                       |                       | 3-186.                |
+-----------------------+-----------------------+-----------------------+

2. **rule** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding rule is    |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | type of a forwarding  |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**:     |
|                       |                       |    matches the domain |
|                       |                       |    name in the        |
|                       |                       |    request.           |
|                       |                       |                       |
|                       |                       | -  **PATH**: matches  |
|                       |                       |    the path in the    |
|                       |                       |    request.           |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies the match   |
|                       |                       | mode. The options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **HOST_NAME**, the |
|                       |                       | value of this         |
|                       |                       | parameter can only be |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **PATH**, the      |
|                       |                       | value of this         |
|                       |                       | parameter can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **REGEX**:         |
|                       |                       |    indicates regular  |
|                       |                       |    expression match.  |
|                       |                       |                       |
|                       |                       | -  **STARTS_WITH**:   |
|                       |                       |    indicates prefix   |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. The        |
|                       |                       | default value is      |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | The default value is  |
|                       |                       | **null**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match content. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 128        |
|                       |                       | characters.           |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to             |
|                       |                       |    **HOST_NAME**, the |
|                       |                       |    value can contain  |
|                       |                       |    a maximum of 100   |
|                       |                       |    characters that    |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    hyphens (-), and   |
|                       |                       |    periods (.), and   |
|                       |                       |    must start with a  |
|                       |                       |    letter or digit.   |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to **PATH**,   |
|                       |                       |    the value can      |
|                       |                       |    contain a maximum  |
|                       |                       |    of 128 characters. |
|                       |                       |    When               |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO**, the  |
|                       |                       |    value must start   |
|                       |                       |    with a slash (/)   |
|                       |                       |    and can contain    |
|                       |                       |    only letters,      |
|                       |                       |    digits, and        |
|                       |                       |    special characters |
|                       |                       |    \                  |
|                       |                       | _~';@^-%#&$.*+?,=!:\| |
|                       |                       |    \\/()[]{}          |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Querying details of a forwarding rule

GET
https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586/rules/67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3

#. Example Response

-  Example response

| {
| "rule": {
| "compare_type": "EQUAL_TO",
| "provisioning_status": "ACTIVE",
| "admin_state_up": true,
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "invert": false,
| "value": "/index.html",
| "key": null,
| "type": "PATH",
| "id": "67d8a8fa-b0dd-4bd4-a85b-671db19b2ef3"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Forwarding Rule
~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a forwarding rule. You can change the mode
that how traffic is distributed by updating the forwarding rule.

3. URI

PUT /v2.0/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+
| l7rule_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| rule            | Yes             | Object          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. For       |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-189.    |
+-----------------+-----------------+-----------------+-----------------+

2. **rule** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| compare_type    | No              | String          | Specifies the   |
|                 |                 |                 | match mode. The |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | the value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | can only be the |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
|                 |                 |                 |                 |
|                 |                 |                 | When **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **PATH**, the   |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REGEX**:   |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    regular      |
|                 |                 |                 |    expression   |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *STARTS_WITH**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    prefix       |
|                 |                 |                 |    match.       |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **EQUAL_TO**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    exact match. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **false**.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match content.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match content.  |
|                 |                 |                 | The value       |
|                 |                 |                 | cannot contain  |
|                 |                 |                 | spaces.         |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 128  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    100          |
|                 |                 |                 |    characters   |
|                 |                 |                 |    that contain |
|                 |                 |                 |    only         |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  When         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    128          |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    When         |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |    \_~';@^      |
|                 |                 |                 | -%#&$.*+?,=!:\| |
|                 |                 |                 |    \\/()[]{}    |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| rule                  | Object                | Specifies the         |
|                       |                       | forwarding rule. For  |
|                       |                       | details, see Table    |
|                       |                       | 3-191.                |
+-----------------------+-----------------------+-----------------------+

2. **rule** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding rule is    |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | type of a forwarding  |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**:     |
|                       |                       |    matches the domain |
|                       |                       |    name in the        |
|                       |                       |    request.           |
|                       |                       |                       |
|                       |                       | -  **PATH**: matches  |
|                       |                       |    the path in the    |
|                       |                       |    request.           |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies the match   |
|                       |                       | mode. The options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **HOST_NAME**, the |
|                       |                       | value of this         |
|                       |                       | parameter can only be |
|                       |                       | the following:        |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | When **type** is set  |
|                       |                       | to **PATH**, the      |
|                       |                       | value of this         |
|                       |                       | parameter can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **REGEX**:         |
|                       |                       |    indicates regular  |
|                       |                       |    expression match.  |
|                       |                       |                       |
|                       |                       | -  **STARTS_WITH**:   |
|                       |                       |    indicates prefix   |
|                       |                       |    match.             |
|                       |                       |                       |
|                       |                       | -  **EQUAL_TO**:      |
|                       |                       |    indicates exact    |
|                       |                       |    match.             |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. The        |
|                       |                       | default value is      |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | The default value is  |
|                       |                       | **null**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved.             |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match content. |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 128        |
|                       |                       | characters.           |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to             |
|                       |                       |    **HOST_NAME**, the |
|                       |                       |    value can contain  |
|                       |                       |    a maximum of 100   |
|                       |                       |    characters that    |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    hyphens (-), and   |
|                       |                       |    periods (.), and   |
|                       |                       |    must start with a  |
|                       |                       |    letter or digit.   |
|                       |                       |                       |
|                       |                       | -  When **type** is   |
|                       |                       |    set to **PATH**,   |
|                       |                       |    the value can      |
|                       |                       |    contain a maximum  |
|                       |                       |    of 128 characters. |
|                       |                       |    When               |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO**, the  |
|                       |                       |    value must start   |
|                       |                       |    with a slash (/)   |
|                       |                       |    and can contain    |
|                       |                       |    only letters,      |
|                       |                       |    digits, and        |
|                       |                       |    special characters |
|                       |                       |    \                  |
|                       |                       | _~';@^-%#&$.*+?,=!:\| |
|                       |                       |    \\/()[]{}          |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | This parameter is     |
|                       |                       | reserved, and its     |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | It specifies the      |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Updating a forwarding rule

| PUT
  https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586/rules/c6f457b8-bf6f-45d7-be5c-a3226945b7b1
| {
| "rule": {
| "compare_type": "STARTS_WITH",
| "value": "/ccc.html"
| }
| }

#. Example Response

-  Example response

| {
| "rule": {
| "compare_type": "STARTS_WITH",
| "provisioning_status": "ACTIVE",
| "admin_state_up": true,
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "invert": false,
| "value": "/ccc.html",
| "key": null,
| "type": "PATH",
| "id": "c6f457b8-bf6f-45d7-be5c-a3226945b7b1"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Deleting a Forwarding Rule
~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a specific forwarding rule.

3. URI

DELETE /v2.0/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+
| l7rule_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

None

6. Example Request

-  Example request: Deleting a forwarding rule

DELETE
https://{Endpoint}/v2.0/lbaas/l7policies/5ae0e1e7-5f0f-47a1-b39f-5d4c428a1586/rules/c6f457b8-bf6f-45d7-be5c-a3226945b7b1

#. Example Response

-  Example response

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Whitelist
---------

1. .. rubric:: Adding a Whitelist
      :name: adding-a-whitelist

   #. Function

This API is used to add a whitelist to control access to a specific
listener. After a whitelist is added, only IP addresses in the whitelist
can access the listener.

2. URI

POST /v2.0/lbaas/whitelists

3. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| whitelist       | Yes             | Object          | Specifies the   |
|                 |                 |                 | whitelist. For  |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-194.    |
+-----------------+-----------------+-----------------+-----------------+

2. **whitelist** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the whitelist   |
|                 |                 |                 | is used.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
|                 |                 |                 |                 |
|                 |                 |                 | Only one        |
|                 |                 |                 | whitelist can   |
|                 |                 |                 | be created for  |
|                 |                 |                 | a listener.     |
+-----------------+-----------------+-----------------+-----------------+
| e               | No              | Boolean         | Specifies       |
| nable_whitelist |                 |                 | whether to      |
|                 |                 |                 | enable access   |
|                 |                 |                 | control.        |
|                 |                 |                 |                 |
|                 |                 |                 | **true**:       |
|                 |                 |                 | Access control  |
|                 |                 |                 | is enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | **false**:      |
|                 |                 |                 | Access control  |
|                 |                 |                 | is disabled.    |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| whitelist       | No              | String          | Specifies the   |
|                 |                 |                 | IP addresses in |
|                 |                 |                 | the whitelist.  |
|                 |                 |                 | Use commas (,)  |
|                 |                 |                 | to separate     |
|                 |                 |                 | multiple IP     |
|                 |                 |                 | addresses.      |
|                 |                 |                 |                 |
|                 |                 |                 | You can specify |
|                 |                 |                 | an IP address,  |
|                 |                 |                 | for example,    |
|                 |                 |                 | 192.168.11.1.   |
|                 |                 |                 |                 |
|                 |                 |                 | You can also    |
|                 |                 |                 | specify an IP   |
|                 |                 |                 | address range,  |
|                 |                 |                 | for example,    |
|                 |                 |                 | 192.168.0.1/24. |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is an     |
|                 |                 |                 | empty string,   |
|                 |                 |                 | that is,        |
|                 |                 |                 | **""**.         |
+-----------------+-----------------+-----------------+-----------------+

4. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| whitelist             | Object                | Specifies the         |
|                       |                       | whitelist. For        |
|                       |                       | details, see Table    |
|                       |                       | 3-196.                |
+-----------------------+-----------------------+-----------------------+

2. **whitelist** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | whitelist ID.         |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | whitelist is used.    |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the whitelist is      |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| enable_whitelist      | Boolean               | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | **true**: Access      |
|                       |                       | control is enabled.   |
|                       |                       |                       |
|                       |                       | **false**: Access     |
|                       |                       | control is disabled.  |
+-----------------------+-----------------------+-----------------------+
| whitelist             | String                | Specifies the IP      |
|                       |                       | addresses in the      |
|                       |                       | whitelist.            |
+-----------------------+-----------------------+-----------------------+

5. Example Request

-  Example request: Adding a whitelist

| POST https://{Endpoint}/v2.0/lbaas/whitelists
| {
| "whitelist": {
| "listener_id": "eabfefa3fd1740a88a47ad98e132d238",
| "enable_whitelist": true,
| "whitelist":
  "192.168.11.1,192.168.0.1/24,192.168.201.18/8,100.164.0.1/24"
| }
| }

#. Example Response

-  Example response

| {
| "whitelist": {
| "id": "eabfefa3fd1740a88a47ad98e132d238",
| "listener_id": "eabfefa3fd1740a88a47ad98e132d238",
| "tenant_id": "eabfefa3fd1740a88a47ad98e132d238",
| "enable_whitelist": true,
| "whitelist":
  "192.168.11.1,192.168.0.1/24,192.168.201.18/8,100.164.0.1/24"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Whitelists
~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query the whitelists. Filter query and pagination
query are supported. Unless otherwise specified, exact match is applied.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/whitelists

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | whitelist from  |
|                 |                 |                 | which           |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | whitelist on    |
|                 |                 |                 | the previous    |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | whitelists on   |
|                 |                 |                 | each page. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not set, all |
|                 |                 |                 | whitelists are  |
|                 |                 |                 | queried by      |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | whitelist ID.   |
+-----------------+-----------------+-----------------+-----------------+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the whitelist   |
|                 |                 |                 | is used.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which the       |
|                 |                 |                 | whitelist is    |
|                 |                 |                 | added.          |
+-----------------+-----------------+-----------------+-----------------+
| e               | No              | Boolean         | Specifies       |
| nable_whitelist |                 |                 | whether to      |
|                 |                 |                 | enable access   |
|                 |                 |                 | control.        |
|                 |                 |                 |                 |
|                 |                 |                 | **true**:       |
|                 |                 |                 | Access control  |
|                 |                 |                 | is enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | **false**:      |
|                 |                 |                 | Access control  |
|                 |                 |                 | is disabled.    |
+-----------------+-----------------+-----------------+-----------------+
| whitelist       | No              | String          | Specifies the   |
|                 |                 |                 | IP addresses in |
|                 |                 |                 | the whitelist.  |
+-----------------+-----------------+-----------------+-----------------+

6. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| whitelists            | Array                 | Lists the whitelists. |
|                       |                       | For details, see      |
|                       |                       | Table 3-199.          |
+-----------------------+-----------------------+-----------------------+
| whitelists_links      | Array                 | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
|                       |                       |                       |
|                       |                       | This parameter exists |
|                       |                       | only in the response  |
|                       |                       | body of pagination    |
|                       |                       | query.                |
|                       |                       |                       |
|                       |                       | For details, see      |
|                       |                       | Table 3-200.          |
+-----------------------+-----------------------+-----------------------+

2. **whitelist** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | whitelist ID.         |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | whitelist is used.    |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the whitelist is      |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| enable_whitelist      | Bool                  | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | **true**: Access      |
|                       |                       | control is enabled.   |
|                       |                       |                       |
|                       |                       | **false**: Access     |
|                       |                       | control is disabled.  |
+-----------------------+-----------------------+-----------------------+
| whitelist             | String                | Specifies the IP      |
|                       |                       | addresses in the      |
|                       |                       | whitelist.            |
+-----------------------+-----------------------+-----------------------+

3. **whitelists_links** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| href                  | String                | Provides links to the |
|                       |                       | previous or next page |
|                       |                       | during pagination     |
|                       |                       | query, respectively.  |
+-----------------------+-----------------------+-----------------------+
| rel                   | String                | Specifies the prompt  |
|                       |                       | of the previous or    |
|                       |                       | next page.            |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **next** or           |
|                       |                       | **previous**. The     |
|                       |                       | value **next**        |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the next page, and    |
|                       |                       | **previous**          |
|                       |                       | indicates the href    |
|                       |                       | containing the URL of |
|                       |                       | the previous page.    |
+-----------------------+-----------------------+-----------------------+

7. Example Request

-  Example request 1: Querying all whitelists

GET https://{Endpoint}/v2.0/lbaas/whitelists

-  Example request 2: Querying the whitelists added to listener
   eabfefa3fd1740a88a47ad98e132d230

GET
https://{Endpoint}/v2.0/lbaas/whitelists?listener_id=eabfefa3fd1740a88a47ad98e132d230

#. Example Response

-  Example response 1

| {
| "whitelists": [
| {
| "id": "eabfefa3fd1740a88a47ad98e132d238",
| "listener_id": "eabfefa3fd1740a88a47ad98e132d238",
| "tenant_id": "eabfefa3fd1740a88a47ad98e132d238",
| "enable_whitelist": true,
| "whitelist":
  "192.168.11.1,192.168.0.1/24,192.168.201.18/8,100.164.0.1/24"
| },
| {
| "id": "eabfefa3fd1740a88a47ad98e132d326",
| "listener_id": "eabfefa3fd1740a88a47ad98e132d327",
| "tenant_id": "eabfefa3fd1740a88a47ad98e132d436",
| "enable_whitelist": true,
| "whiltelist":
  "192.168.12.1,192.168.1.1/24,192.168.203.18/8,100.164.5.1/24"
| }
| ]
| }

-  Example response 2

| {
| "whitelists": [
| {
| "id": "eabfefa3fd1740a88a47ad98e132d238",
| "listener_id": "eabfefa3fd1740a88a47ad98e132d230",
| "tenant_id": "eabfefa3fd1740a88a47ad98e132d239",
| "enable_whitelist": true,
| "whitelist":
  "192.168.11.1,192.168.0.1/24,192.168.201.18/8,100.164.0.1/24"
| },
| {
| "id": "eabfefa3fd1740a88a47ad98e132d326",
| "listener_id": "eabfefa3fd1740a88a47ad98e132d327",
| "tenant_id": "eabfefa3fd1740a88a47ad98e132d439",
| "enable_whitelist": true,
| "whiltelist":
  "192.168.12.1,192.168.1.1/24,192.168.203.18/8,100.164.5.1/24"
| }
| ]
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Details of a Whitelist
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a whitelist using its ID.

3. URI

GET /v2.0/lbaas/whitelists/{whitelist_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| whitelist_id    | Yes             | String          | Specifies the   |
|                 |                 |                 | whitelist ID.   |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| whitelist             | Object                | Specifies the         |
|                       |                       | whitelist. For        |
|                       |                       | details, see Table    |
|                       |                       | 3-203.                |
+-----------------------+-----------------------+-----------------------+

2. **whitelist** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | whitelist ID.         |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | forwarding rule is    |
|                       |                       | used.                 |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the whitelist is      |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| enable_whitelist      | Boolean               | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | **true**: Access      |
|                       |                       | control is enabled.   |
|                       |                       |                       |
|                       |                       | **false**: Access     |
|                       |                       | control is disabled.  |
+-----------------------+-----------------------+-----------------------+
| whitelist             | String                | Specifies the IP      |
|                       |                       | addresses in the      |
|                       |                       | whitelist.            |
+-----------------------+-----------------------+-----------------------+

6. Example Request

-  Example request: Querying details of a whitelist

GET
https://{Endpoint}/v2.0/lbaas/whitelists/09e64049-2ab0-4763-a8c5-f4207875dc3e

#. Example Response

-  Example response

| {
| "whitelist": {
| "id": "eabfefa3fd1740a88a47ad98e132d238",
| "listener_id": "eabfefa3fd1740a88a47ad98e132d238",
| "tenant_id": "eabfefa3fd1740a88a47ad98e132d238",
| "enable_whitelist": true,
| "whitelist":
  "192.168.11.1,192.168.0.1/24,192.168.201.18/8,100.164.0.1/24"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Whitelist
~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a whitelist. You can enable or disable the
whitelist function or change IP addresses in the whitelist. If you
change IP addresses in the whitelist, it will be deleted, and a new one
is generated.

3. URI

PUT /v2.0/lbaas/whitelists/{whitelist_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| whitelist_id    | Yes             | String          | Specifies the   |
|                 |                 |                 | whitelist ID.   |
+-----------------+-----------------+-----------------+-----------------+

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| whitelist       | Yes             | Object          | Specifies the   |
|                 |                 |                 | whitelist. For  |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-206.    |
+-----------------+-----------------+-----------------+-----------------+

2. **whitelist** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| e               | No              | Boolean         | Specifies       |
| nable_whitelist |                 |                 | whether to      |
|                 |                 |                 | enable access   |
|                 |                 |                 | control.        |
|                 |                 |                 |                 |
|                 |                 |                 | **true**:       |
|                 |                 |                 | Access control  |
|                 |                 |                 | is enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | **false**:      |
|                 |                 |                 | Access control  |
|                 |                 |                 | is disabled.    |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| whitelist       | No              | String          | Specifies the   |
|                 |                 |                 | IP addresses in |
|                 |                 |                 | the whitelist.  |
|                 |                 |                 | Use commas (,)  |
|                 |                 |                 | to separate     |
|                 |                 |                 | multiple IP     |
|                 |                 |                 | addresses.      |
|                 |                 |                 |                 |
|                 |                 |                 | You can specify |
|                 |                 |                 | an IP address,  |
|                 |                 |                 | for example,    |
|                 |                 |                 | 192.168.11.1.   |
|                 |                 |                 |                 |
|                 |                 |                 | You can also    |
|                 |                 |                 | specify an IP   |
|                 |                 |                 | address range,  |
|                 |                 |                 | for example,    |
|                 |                 |                 | 192.168.0.1/24. |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | value is an     |
|                 |                 |                 | empty string,   |
|                 |                 |                 | that is,        |
|                 |                 |                 | **""**.         |
+-----------------+-----------------+-----------------+-----------------+

5. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| whitelist             | Object                | Specifies the         |
|                       |                       | whitelist. For        |
|                       |                       | details, see Table    |
|                       |                       | 3-208.                |
+-----------------------+-----------------------+-----------------------+

2. **whitelist** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | whitelist ID.         |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | whitelist is used.    |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the whitelist is      |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| enable_whitelist      | Boolean               | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | **true**: Access      |
|                       |                       | control is enabled.   |
|                       |                       |                       |
|                       |                       | **false**: Access     |
|                       |                       | control is disabled.  |
+-----------------------+-----------------------+-----------------------+
| whitelist             | String                | Specifies the IP      |
|                       |                       | addresses in the      |
|                       |                       | whitelist.            |
+-----------------------+-----------------------+-----------------------+

6. Example Request

-  Example request: Updating a whitelist

| PUT
  https://{Endpoint}/v2.0/lbaas/whitelists/dcaf46f1-037c-4f63-a31f-e0c4c18032c7
| {
| "whitelist": {
| "enable_whitelist": true,
| "whitelist":
  "192.168.11.1,192.168.0.1/24,192.168.201.18/8,100.164.0.1/24"
| }
| }

#. Example Response

-  Example response

| {
| "whitelist": {
| "id": "eabfefa3fd1740a88a47ad98e132d238",
| "listener_id": "eabfefa3fd1740a88a47ad98e132d238",
| "tenant_id": "eabfefa3fd1740a88a47ad98e132d238",
| "enable_whitelist": true,
| "whitelist":
  "192.168.11.1,192.168.0.1/24,192.168.201.18/8,100.164.0.1/24"
| }
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Deleting a Whitelist
~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a specific whitelist.

3. URI

DELETE /v2.0/lbaas/whitelists/{whitelist_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| whitelist_id    | Yes             | String          | Specifies the   |
|                 |                 |                 | whitelist ID.   |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

None

6. Example Request

-  Example request: Deleting a whitelist

DELETE
https://{Endpoint}/v2.0/lbaas/whitelists/35cb8516-1173-4035-8dae-0dae3453f37f

#. Example Response

-  Example response 1

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _certificate-1:

Certificate
-----------

1. .. rubric:: Creating a Certificate
      :name: creating-a-certificate-1

   #. Function

This API is used to create a certificate. After a certificate is bound
to a listener, the load balancer authenticates the client using this
certificate, and backend servers can establish secure and reliable HTTP
connections with the client.

2. URI

POST /v2.0/lbaas/certificates

3. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tenant_id       | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the certificate |
|                 |                 |                 | is used.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value must  |
|                 |                 |                 | be the same as  |
|                 |                 |                 | the value of    |
|                 |                 |                 | **project_id**  |
|                 |                 |                 | in the token.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | type. The       |
|                 |                 |                 | default value   |
|                 |                 |                 | is **server**.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **server**:  |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the server   |
|                 |                 |                 |    certificate. |
|                 |                 |                 |                 |
|                 |                 |                 | -  **client**:  |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the CA       |
|                 |                 |                 |    certificate. |
+-----------------+-----------------+-----------------+-----------------+
| domain          | No              | String          | Specifies the   |
|                 |                 |                 | domain name     |
|                 |                 |                 | associated with |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 100  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  A common     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    contains 0   |
|                 |                 |                 |    to 100       |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and consists |
|                 |                 |                 |    of several   |
|                 |                 |                 |    labels       |
|                 |                 |                 |    separated by |
|                 |                 |                 |    dots (.).    |
|                 |                 |                 |    Each label   |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    63           |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and must     |
|                 |                 |                 |    start and    |
|                 |                 |                 |    end with a   |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  In addition  |
|                 |                 |                 |    to the       |
|                 |                 |                 |    requirements |
|                 |                 |                 |    for common   |
|                 |                 |                 |    domain       |
|                 |                 |                 |    names, a     |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    can start    |
|                 |                 |                 |    with an      |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*).         |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **server**.     |
+-----------------+-----------------+-----------------+-----------------+
| private_key     | No              | String          | Specifies the   |
|                 |                 |                 | private key of  |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The value must  |
|                 |                 |                 | be PEM encoded. |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    ignored if   |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **client**.  |
|                 |                 |                 |    A CA server  |
|                 |                 |                 |    can still be |
|                 |                 |                 |    created and  |
|                 |                 |                 |    used         |
|                 |                 |                 |    normally.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be left |
|                 |                 |                 |    blank even   |
|                 |                 |                 |    if you enter |
|                 |                 |                 |    a private    |
|                 |                 |                 |    key that is  |
|                 |                 |                 |    not PEM      |
|                 |                 |                 |    encoded.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid and    |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**.  |
|                 |                 |                 |    If you enter |
|                 |                 |                 |    an invalid   |
|                 |                 |                 |    private key, |
|                 |                 |                 |    an error is  |
|                 |                 |                 |    returned.    |
+-----------------+-----------------+-----------------+-----------------+
| certificate     | Yes             | String          | Specifies the   |
|                 |                 |                 | public key of   |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate or  |
|                 |                 |                 | CA certificate  |
|                 |                 |                 | used to         |
|                 |                 |                 | authenticate    |
|                 |                 |                 | the client. The |
|                 |                 |                 | value of        |
|                 |                 |                 | parameter       |
|                 |                 |                 | **type**        |
|                 |                 |                 | determines      |
|                 |                 |                 | whether a       |
|                 |                 |                 | public key or   |
|                 |                 |                 | CA certificate  |
|                 |                 |                 | is required.    |
|                 |                 |                 |                 |
|                 |                 |                 | The public key  |
|                 |                 |                 | is in PEM       |
|                 |                 |                 | format.         |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | certificate is used.  |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type.     |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **server**:        |
|                       |                       |    indicates the      |
|                       |                       |    server             |
|                       |                       |    certificate.       |
|                       |                       |                       |
|                       |                       | -  **client**:        |
|                       |                       |    indicates the CA   |
|                       |                       |    certificate.       |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | name associated with  |
|                       |                       | the server            |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 100        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate in PEM    |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the public  |
|                       |                       | key of the server     |
|                       |                       | certificate or CA     |
|                       |                       | certificate used to   |
|                       |                       | authenticate the      |
|                       |                       | client. The value of  |
|                       |                       | parameter **type**    |
|                       |                       | determines whether a  |
|                       |                       | public key or CA      |
|                       |                       | certificate is        |
|                       |                       | required. Both types  |
|                       |                       | of certificates are   |
|                       |                       | in PEM format.        |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Creating a certificate

| POST https://{Endpoint}/v2.0/lbaas/certificates
| {
| "name": "https_certificate",
| "description": "description for certificate",
| "type": "server",
| "domain": "www.elb.com",
| "private_key":
| "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "certificate":
| "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----"
| }

#. Example Response

-  Example response

| {
| "domain": "www.elb.com",
| "expire_time": "2045-11-17 13:25:47",
| "update_time": "2017-12-04 06:49:13",
| "create_time": "2017-12-04 06:49:13",
| "id": "3d8a7a02f87a40ed931b719edfe75451",
| "admin_state_up": true,
| "private_key": "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "tenant_id": "930600df07ac4f66964004041bd3deaf",
| "type": "server",
| "certificate": "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "name": "https_certificate",
| "description": "description for certificate"
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _querying-certificates-1:

Querying Certificates
~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query all the certificates. Filter query and
pagination query are supported. Unless otherwise specified, exact match
is applied.

3. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query. Parameters **marker** and **page_reverse** take effect
only when they are used together with parameter **limit**.

4. URI

GET /v2.0/lbaas/certificates

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | certificate     |
|                 |                 |                 | from which      |
|                 |                 |                 | pagination      |
|                 |                 |                 | query starts,   |
|                 |                 |                 | that is, the ID |
|                 |                 |                 | of the last     |
|                 |                 |                 | certificate on  |
|                 |                 |                 | the previous    |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | certificates on |
|                 |                 |                 | each page. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not set, all |
|                 |                 |                 | certificates    |
|                 |                 |                 | are queried by  |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | type. The       |
|                 |                 |                 | default value   |
|                 |                 |                 | is **server**.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **server**:  |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the server   |
|                 |                 |                 |    certificate. |
|                 |                 |                 |                 |
|                 |                 |                 | -  **client**:  |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the CA       |
|                 |                 |                 |    certificate. |
+-----------------+-----------------+-----------------+-----------------+
| domain          | No              | String          | Specifies the   |
|                 |                 |                 | domain name     |
|                 |                 |                 | associated with |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 100  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  A common     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    contains 0   |
|                 |                 |                 |    to 100       |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and consists |
|                 |                 |                 |    of several   |
|                 |                 |                 |    labels       |
|                 |                 |                 |    separated by |
|                 |                 |                 |    dots (.).    |
|                 |                 |                 |    Each label   |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    63           |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and must     |
|                 |                 |                 |    start and    |
|                 |                 |                 |    end with a   |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  In addition  |
|                 |                 |                 |    to the       |
|                 |                 |                 |    requirements |
|                 |                 |                 |    for common   |
|                 |                 |                 |    domain       |
|                 |                 |                 |    names, a     |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    can start    |
|                 |                 |                 |    with an      |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*).         |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid only   |
|                 |                 |                 |    when         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**.  |
+-----------------+-----------------+-----------------+-----------------+
| private_key     | No              | String          | Specifies the   |
|                 |                 |                 | private key of  |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The value must  |
|                 |                 |                 | be PEM encoded. |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    ignored if   |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **client**.  |
|                 |                 |                 |    A CA server  |
|                 |                 |                 |    can still be |
|                 |                 |                 |    created and  |
|                 |                 |                 |    used         |
|                 |                 |                 |    normally.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be left |
|                 |                 |                 |    blank even   |
|                 |                 |                 |    if you enter |
|                 |                 |                 |    a private    |
|                 |                 |                 |    key that is  |
|                 |                 |                 |    not PEM      |
|                 |                 |                 |    encoded.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid and    |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**.  |
|                 |                 |                 |    If you enter |
|                 |                 |                 |    an invalid   |
|                 |                 |                 |    private key, |
|                 |                 |                 |    an error is  |
|                 |                 |                 |    returned.    |
+-----------------+-----------------+-----------------+-----------------+
| certificate     | No              | String          | Specifies the   |
|                 |                 |                 | public key of   |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate or  |
|                 |                 |                 | CA certificate  |
|                 |                 |                 | used to         |
|                 |                 |                 | authenticate    |
|                 |                 |                 | the client. The |
|                 |                 |                 | value of        |
|                 |                 |                 | parameter       |
|                 |                 |                 | **type**        |
|                 |                 |                 | determines      |
|                 |                 |                 | whether a       |
|                 |                 |                 | public key or   |
|                 |                 |                 | CA certificate  |
|                 |                 |                 | is required.    |
|                 |                 |                 | Both types of   |
|                 |                 |                 | certificates    |
|                 |                 |                 | are in PEM      |
|                 |                 |                 | format.         |
+-----------------+-----------------+-----------------+-----------------+
| create_time     | No              | String          | Specifies the   |
|                 |                 |                 | time when the   |
|                 |                 |                 | certificate was |
|                 |                 |                 | created.        |
|                 |                 |                 |                 |
|                 |                 |                 | The UTC time is |
|                 |                 |                 | in *YYYY-MM-DD  |
|                 |                 |                 | HH:MM:SS*       |
|                 |                 |                 | format.         |
+-----------------+-----------------+-----------------+-----------------+
| update_time     | No              | String          | Specifies the   |
|                 |                 |                 | time when the   |
|                 |                 |                 | certificate was |
|                 |                 |                 | updated.        |
|                 |                 |                 |                 |
|                 |                 |                 | The UTC time is |
|                 |                 |                 | in *YYYY-MM-DD  |
|                 |                 |                 | HH:MM:SS*       |
|                 |                 |                 | format.         |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| certificates          | Array                 | Lists the             |
|                       |                       | certificates. For     |
|                       |                       | details, see Table    |
|                       |                       | 3-214.                |
+-----------------------+-----------------------+-----------------------+
| instance_num          | Integer               | Specifies the number  |
|                       |                       | of certificates.      |
+-----------------------+-----------------------+-----------------------+

2. **certificates** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | certificate is used.  |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type.     |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **server**:        |
|                       |                       |    indicates the      |
|                       |                       |    server             |
|                       |                       |    certificate.       |
|                       |                       |                       |
|                       |                       | -  **client**:        |
|                       |                       |    indicates the CA   |
|                       |                       |    certificate.       |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | name associated with  |
|                       |                       | the server            |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 100        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate in PEM    |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the public  |
|                       |                       | key of the server     |
|                       |                       | certificate or CA     |
|                       |                       | certificate used to   |
|                       |                       | authenticate the      |
|                       |                       | client. The value of  |
|                       |                       | parameter **type**    |
|                       |                       | determines whether a  |
|                       |                       | public key or CA      |
|                       |                       | certificate is        |
|                       |                       | required. Both types  |
|                       |                       | of certificates are   |
|                       |                       | in PEM format.        |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DD HH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DD HH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DD HH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Request example 1: Querying all certificates

GET https://{Endpoint}/v2.0/lbaas/certificates

-  Example 2: Querying a certificate whose ID is
   ef4d341365754a959556576501791b19 or ed40e8ea9957488ea82de025e35b74c0

GET
https://{Endpoint}/v2.0/lbaas/certificates?id=ef4d341365754a959556576501791b19&id=ed40e8ea9957488ea82de025e35b74c0

#. Example Response

-  Example response 1

| {
| "certificates": [
| {
| "certificate": "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "create_time": "2017-02-25 09:35:27",
| "expire_time": "2045-11-17 13:25:47",
| "description": "description for certificate",
| "domain": "www.elb.com",
| "id": "23ef9aad4ecb463580476d324a6c71af",
| "admin_state_up": true,
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "name": "https_certificate",
| "private_key":
| "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "type": "server",
| "update_time": "2017-02-25 09:35:27"
| }
| ],
| "instance_num": 1
| }

-  Example response 2

| {
| "certificates": [
| {
| "description": "Push by SSL Certificate Manager",
| "domain": null,
| "id": "ed40e8ea9957488ea82de025e35b74c0",
| "name": "certForSonar9",
| "certificate": "-----BEGIN CERTIFICATE-----
| MIIFizCCBHOgAwIBAgIQBlQycV3bWsVsCttvv5rgRjANBgkqhkiG9w0BAQsFADBu
| MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
| d3cuZGlnaWNlcnQuY29tMS0wKwYDVQQDEyRFbmNyeXB0aW9uIEV2ZXJ5d2hlcmUg
| RFYgVExTIENBIC0gRzEwHhcNMTgwNzEwMDAwMDAwWhcNMTkwNzEwMTIwMDAwWjAU
| MRIwEAYDVQQDEwlpY2UxMjMudGswggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
| AoIBAQCtTDlQMoAvyInR6X1dihhNwbdGesbMW6NZX7ffpj9XrB3KCqqlxzI4VmH9
| PntvrpLJNeolgLqDZZc4zKbUkmqxY1dvGDs41coKzdtc9Ig23GVK48wfesnk5r50
| afyU52R1JlSHDOhiDhHOSyhrOzc2GreLrByWKFUaAue6rTnyMbzQaSPtrTAqsURZ
| wcmJ6R3A6JwokOgxXBSu41ufPQiFkMgxygKxEBLzIJLjRqCXQHYoxbsTyolb6jwp
| w4H6vcRIEcFAgs98ApWRoEKjy7eOP3UUm05F+OkOvXhrlxEqIPm/rlwE0PmVlmm9
| DgBafYb3xT/MtT2VRSfCJQHgIcsdAgMBAAGjggJ9MIICeTAfBgNVHSMEGDAWgBRV
| dE+yck/1YLpQ0dfmUVyaAYca1zAdBgNVHQ4EFgQUEFavzYXBNbIHBchbaKcUKad+
| qCEwIwYDVR0RBBwwGoIJaWNlMTIzLnRrgg13d3cuaWNlMTIzLnRrMA4GA1UdDwEB
| /wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwTAYDVR0gBEUw
| QzA3BglghkgBhv1sAQIwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNl
| cnQuY29tL0NQUzAIBgZngQwBAgEwgYEGCCsGAQUFBwEBBHUwczAlBggrBgEFBQcw
| AYYZaHR0cDovL29jc3AyLmRpZ2ljZXJ0LmNvbTBKBggrBgEFBQcwAoY+aHR0cDov
| L2NhY2VydHMuZGlnaWNlcnQuY29tL0VuY3J5cHRpb25FdmVyeXdoZXJlRFZUTFND
| QS1HMS5jcnQwCQYDVR0TBAIwADCCAQQGCisGAQQB1nkCBAIEgfUEgfIA8AB2AKS5
| CZC0GFgUh7sTosxncAo8NZgE+RvfuON3zQ7IDdwQAAABZIOnLCIAAAQDAEcwRQIh
| AJX6gCXNggPdfOFdDtZPzlYr64TTrR/+b9QKKhyJ2EjBAiAWgu3BG2QK9tWQXpUN
| IFadc0nvqmDovabg5nmRMan2mQB2AId1v+dZfPiMQ5lfvfNu/1aNR1Y2/0q1YMG0
| 6v9eoIMPAAABZIOnLQEAAAQDAEcwRQIhAJVRe/7n88dD6KdhNrd4LdFjGARQNmta
| Y/K2dFDOXPSfAiBOLrWW8unHOL25RWHJU7Ost3XkNhQYtrLDJrnzo/9kZzANBgkq
| hkiG9w0BAQsFAAOCAQEAeqtX9cHmj4OnNAk0IGmF3nKS/u/UgGsY4EJfXwQY2bTZ
| PCkqxQOA6HEx59vJ+UilTojrNDi0WskRm/8SKBHtmRwzwX3ile8KiR6fFfQhPUtV
| XHZcTfAFo47c7axqon8vumMlEv1PxVImivQ446K7z3kGm34dhMYxS4Gz2gTl8IKt
| 90OegejuhbAs5Wlvp1BK8HlYIb5+mw+cgkUC9KTALs5qVbWzogb0bS20KaYarGcu
| otcZAOMeJdBFWnpzhr1fxmjaNY4u4hrgPZSTU/iBjdHapoza3zAFfxysmGYqs9dR
| jFyxZeR4scz8GqSTFviNdH9jvtDJkdAC5hfMaB811Q==
| -----END CERTIFICATE-----
| -----BEGIN CERTIFICATE-----
| MIIEqjCCA5KgAwIBAgIQAnmsRYvBskWr+YBTzSybsTANBgkqhkiG9w0BAQsFADBh
| MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
| d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD
| QTAeFw0xNzExMjcxMjQ2MTBaFw0yNzExMjcxMjQ2MTBaMG4xCzAJBgNVBAYTAlVT
| MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j
| b20xLTArBgNVBAMTJEVuY3J5cHRpb24gRXZlcnl3aGVyZSBEViBUTFMgQ0EgLSBH
| MTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPeP6wkab41dyQh6mKc
| oHqt3jRIxW5MDvf9QyiOR7VfFwK656es0UFiIb74N9pRntzF1UgYzDGu3ppZVMdo
| lbxhm6dWS9OK/lFehKNT0OYI9aqk6F+U7cA6jxSC+iDBPXwdF4rs3KRyp3aQn6pj
| pp1yr7IB6Y4zv72Ee/PlZ/6rK6InC6WpK0nPVOYR7n9iDuPe1E4IxUMBH/T33+3h
| yuH3dvfgiWUOUkjdpMbyxX+XNle5uEIiyBsi4IvbcTCh8ruifCIi5mDXkZrnMT8n
| wfYCV6v6kDdXkbgGRLKsR4pucbJtbKqIkUGxuZI2t7pfewKRc5nWecvDBZf3+p1M
| pA8CAwEAAaOCAU8wggFLMB0GA1UdDgQWBBRVdE+yck/1YLpQ0dfmUVyaAYca1zAf
| BgNVHSMEGDAWgBQD3lA1VtFMu2bwo+IbG8OXsj3RVTAOBgNVHQ8BAf8EBAMCAYYw
| HQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBIGA1UdEwEB/wQIMAYBAf8C
| AQAwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdp
| Y2VydC5jb20wQgYDVR0fBDswOTA3oDWgM4YxaHR0cDovL2NybDMuZGlnaWNlcnQu
| Y29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNybDBMBgNVHSAERTBDMDcGCWCGSAGG
| /WwBAjAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy5kaWdpY2VydC5jb20vQ1BT
| MAgGBmeBDAECATANBgkqhkiG9w0BAQsFAAOCAQEAK3Gp6/aGq7aBZsxf/oQ+TD/B
| SwW3AU4ETK+GQf2kFzYZkby5SFrHdPomunx2HBzViUchGoofGgg7gHW0W3MlQAXW
| M0r5LUvStcr82QDWYNPaUy4taCQmyaJ+VB+6wxHstSigOlSNF2a6vg4rgexixeiV
| 4YSB03Yqp2t3TeZHM9ESfkus74nQyW7pRGezj+TC44xCagCQQOzzNmzEAP2SnCrJ
| sNE2DpRVMnL8J6xBRdjmOsC3N6cQuKuRXbzByVBjCqAA8t1L0I+9wXJerLPyErjy
| rMKWaBFLmfK/AHNF4ZihwPGOc7w6UHczBZXH5RFzJNnww+WnKuTPI0HfnVH8lg==
| -----END CERTIFICATE-----",
| "type": "server",
| "create_time": "2019-03-03 16:32:30",
| "private_key": "-----BEGIN RSA PRIVATE KEY-----
| MIIEpQIBAAKCAQEArUw5UDKAL8iJ0el9XYoYTcG3RnrGzFujWV+336Y/V6wdygqq
| pccyOFZh/T57b66SyTXqJYC6g2WXOMym1JJqsWNXbxg7ONXKCs3bXPSINtxlSuPM
| H3rJ5Oa+dGn8lOdkdSZUhwzoYg4Rzksoazs3Nhq3i6wclihVGgLnuq058jG80Gkj
| 7a0wKrFEWcHJiekdwOicKJDoMVwUruNbnz0IhZDIMcoCsRAS8yCS40agl0B2KMW7
| E8qJW+o8KcOB+r3ESBHBQILPfAKVkaBCo8u3jj91FJtORfjpDr14a5cRKiD5v65c
| BND5lZZpvQ4AWn2G98U/zLU9lUUnwiUB4CHLHQIDAQABAoIBAGs5rISompP2OwA8
| virwVRVXdPUQ5oxvbuTPys+A59RxVIU8kFW+qJ4fJMYysOFrXLtOtq+5tK20YBru
| 1ZLVfVqAowrELXB/J2ID+WTMkLORLsNlq1kW+nC9LL6PDY98lLW/n7FoFSkGl5HT
| AxFGNGUvpr2vIojuL6nGfmcM47uscJ9aP6IJxr4p70dhPVjZBdnMnXYwRkB3dZt/
| E0B/p8J5i3oo5Rucv4DOfB+01wXGAVyx5/zce+NZdhyrivkj3hHV55SxGhVWzWhj
| a3dAlbpKwYgfILj0inRdJYmIjBdbGb2HFix7+ncBg8B2oerJXC6/fANwRGu5/LZU
| 5xuPVWkCgYEA6an8TY1unIGLYL5aBJ16Tx4usqMyTXr/T4zkQyftRPMt+ZuxVQHl
| GHsg7XvLFNd04MBZXtkZXaYVcpOm7OUYcl0i9ZAkWXXoXcBtn1Oom3gz/7RjAUnp
| k+myvxCUSQ2JSz4u3QBtyPVyYNyBFXrKqdKfcYyG85+yQVHBNMVrdvMCgYEAvd0C
| hFpm83ha+VQp+9XN1DYZNUyqhibj/E3X9jAn+gDbzlKxw/D9en2RIlQYUrl8+il8
| QKk4cfOxJYStQfxptz8QBPVeLajDN67zJ0Rk8AB50HHHcNSU8uFkaO8KxsyVjbLS
| +JltqfJAEraXLinbp1Fxcg9DsQdMd6cw2DmrWa8CgYEA1UjJOUzo80i4HYWDC4Vn
| OEK3o22do+WqmEVlsfsG9BH5HEdGVe7V3EO/6aY+1/ZXBDPvH8mRAs9v8lbeXow7
| hWCIYZfB5jre8HyOU4l8dPUCmdxhJrL913rRIuASSqBlet32ztnuXCnWzp1X4nBj
| /yF3UqFQKZ7SihcDAZVWo4sCgYEAj7al/BcNzIcynX2mldhdh583b4/Ll+YCNm2Z
| 5eDHscZKmx8fLcjRpZE8dXagPqXmwtj6E1vDvQWP9m06VDNCthFHB+nO0tLmidSk
| evmbScuiaTRmmbJf2IThY0hlqNsc7PgKF2DTkIstEr0hLDFE8Z6FN6f0PiDfMcbd
| Ax6L5EMCgYEA0+qhuQftKQkGdbXX9r3H8N0TVh27ByfL3kKVYy0dUJMvsOAq6d97
| 8mEhYhrYt88f1sFsPM7G09XpCcBXwiKxw8+CDt9auD4r1snBnILpqMPmanF4UDXH
| L7s+4it+nIQy24P6g1PihtzsM+HD2UCErBiYUJdRK8Q9GGHdZojFk9Y=
| -----END RSA PRIVATE KEY-----
| ",
| "update_time": "2019-03-03 16:32:30",
| "admin_state_up": true,
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "expire_time": "2019-07-10 12:00:00"
| },
| {
| "description": null,
| "domain": "www.elb.com",
| "id": "ef4d341365754a959556576501791b19",
| "name": "certificate_28b824c8bbee419992fb7974b2911c72",
| "certificate": "-----BEGIN CERTIFICATE-----
| MIIDpTCCAo2gAwIBAgIJAKdmmOBYnFvoMA0GCSqGSIb3DQEBCwUAMGkxCzAJBgNV
| BAYTAnh4MQswCQYDVQQIDAJ4eDELMAkGA1UEBwwCeHgxCzAJBgNVBAoMAnh4MQsw
| CQYDVQQLDAJ4eDELMAkGA1UEAwwCeHgxGTAXBgkqhkiG9w0BCQEWCnh4QDE2My5j
| b20wHhcNMTcxMjA0MDM0MjQ5WhcNMjAxMjAzMDM0MjQ5WjBpMQswCQYDVQQGEwJ4
| eDELMAkGA1UECAwCeHgxCzAJBgNVBAcMAnh4MQswCQYDVQQKDAJ4eDELMAkGA1UE
| CwwCeHgxCzAJBgNVBAMMAnh4MRkwFwYJKoZIhvcNAQkBFgp4eEAxNjMuY29tMIIB
| IjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwZ5UJULAjWr7p6FVwGRQRjFN
| 2s8tZ/6LC3X82fajpVsYqF1xqEuUDndDXVD09E4u83MS6HO6a3bIVQDp6/klnYld
| iE6Vp8HH5BSKaCWKVg8lGWg1UM9wZFnlryi14KgmpIFmcu9nA8yV/6MZAe6RSDmb
| 3iyNBmiZ8aZhGw2pI1YwR+15MVqFFGB+7ExkziROi7L8CFCyCezK2/oOOvQsH1dz
| Q8z1JXWdg8/9Zx7Ktvgwu5PQM3cJtSHX6iBPOkMU8Z8TugLlTqQXKZOEgwajwvQ5
| mf2DPkVgM08XAgaLJcLigwD513koAdtJd5v+9irw+5LAuO3JclqwTvwy7u/YwwID
| AQABo1AwTjAdBgNVHQ4EFgQUo5A2tIu+bcUfvGTD7wmEkhXKFjcwHwYDVR0jBBgw
| FoAUo5A2tIu+bcUfvGTD7wmEkhXKFjcwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0B
| AQsFAAOCAQEAWJ2rS6Mvlqk3GfEpboezx2J3X7l1z8Sxoqg6ntwB+rezvK3mc9H0
| 83qcVeUcoH+0A0lSHyFN4FvRQL6X1hEheHarYwJK4agb231vb5erasuGO463eYEG
| r4SfTuOm7SyiV2xxbaBKrXJtpBp4WLL/s+LF+nklKjaOxkmxUX0sM4CTA7uFJypY
| c8Tdr8lDDNqoUtMD8BrUCJi+7lmMXRcC3Qi3oZJW76ja+kZA5mKVFPd1ATih8TbA
| i34R7EQDtFeiSvBdeKRsPp8c0KT8H1B4lXNkkCQs2WX5p4lm99+ZtLD4glw8x6Ic
| i1YhgnQbn5E0hz55OLu5jvOkKQjPCW+8Kg==
| -----END CERTIFICATE-----",
| "type": "server",
| "create_time": "2018-09-28 03:00:47",
| "private_key": "-----BEGIN RSA PRIVATE KEY-----
| MIIEowIBAAKCAQEAwZ5UJULAjWr7p6FVwGRQRjFN2s8tZ/6LC3X82fajpVsYqF1x
| qEuUDndDXVD09E4u83MS6HO6a3bIVQDp6/klnYldiE6Vp8HH5BSKaCWKVg8lGWg1
| UM9wZFnlryi14KgmpIFmcu9nA8yV/6MZAe6RSDmb3iyNBmiZ8aZhGw2pI1YwR+15
| MVqFFGB+7ExkziROi7L8CFCyCezK2/oOOvQsH1dzQ8z1JXWdg8/9Zx7Ktvgwu5PQ
| M3cJtSHX6iBPOkMU8Z8TugLlTqQXKZOEgwajwvQ5mf2DPkVgM08XAgaLJcLigwD5
| 13koAdtJd5v+9irw+5LAuO3JclqwTvwy7u/YwwIDAQABAoIBACU9S5fjD9/jTMXA
| DRs08A+gGgZUxLn0xk+NAPX3LyB1tfdkCaFB8BccLzO6h3KZuwQOBPv6jkdvEDbx
| Nwyw3eA/9GJsIvKiHc0rejdvyPymaw9I8MA7NbXHaJrY7KpqDQyk6sx+aUTcy5jg
| iMXLWdwXYHhJ/1HVOo603oZyiS6HZeYU089NDUcX+1SJi3e5Ke0gPVXEqCq1O11/
| rh24bMxnwZo4PKBWdcMBN5Zf/4ij9vrZE+fFzW7vGBO48A5lvZxWU2U5t/OZQRtN
| 1uLOHmMFa0FIF2aWbTVfwdUWAFsvAOkHj9VV8BXOUwKOUuEktdkfAlvrxmsFrO/H
| yDeYYPkCgYEA/S55CBbR0sMXpSZ56uRn8JHApZJhgkgvYr+FqDlJq/e92nAzf01P
| RoEBUajwrnf1ycevN/SDfbtWzq2XJGqhWdJmtpO16b7KBsC6BdRcH6dnOYh31jgA
| vABMIP3wzI4zSVTyxRE8LDuboytF1mSCeV5tHYPQTZNwrplDnLQhywcCgYEAw8Yc
| Uk/eiFr3hfH/ZohMfV5p82Qp7DNIGRzw8YtVG/3+vNXrAXW1VhugNhQY6L+zLtJC
| aKn84ooup0m3YCg0hvINqJuvzfsuzQgtjTXyaE0cEwsjUusOmiuj09vVx/3U7siK
| Hdjd2ICPCvQ6Q8tdi8jV320gMs05AtaBkZdsiWUCgYEAtLw4Kk4f+xTKDFsrLUNf
| 75wcqhWVBiwBp7yQ7UX4EYsJPKZcHMRTk0EEcAbpyaJZE3I44vjp5ReXIHNLMfPs
| uvI34J4Rfot0LN3n7cFrAi2+wpNo+MOBwrNzpRmijGP2uKKrq4JiMjFbKV/6utGF
| Up7VxfwS904JYpqGaZctiIECgYA1A6nZtF0riY6ry/uAdXpZHL8ONNqRZtWoT0kD
| 79otSVu5ISiRbaGcXsDExC52oKrSDAgFtbqQUiEOFg09UcXfoR6HwRkba2CiDwve
| yHQLQI5Qrdxz8Mk0gIrNrSM4FAmcW9vi9z4kCbQyoC5C+4gqeUlJRpDIkQBWP2Y4
| 2ct/bQKBgHv8qCsQTZphOxc31BJPa2xVhuv18cEU3XLUrVfUZ/1f43JhLp7gynS2
| ep++LKUi9D0VGXY8bqvfJjbECoCeu85vl8NpCXwe/LoVoIn+7KaVIZMwqoGMfgNl
| nEqm7HWkNxHhf8A6En/IjleuddS1sf9e/x+TJN1Xhnt9W6pe7Fk1
| -----END RSA PRIVATE KEY-----",
| "update_time": "2018-09-28 03:00:47",
| "admin_state_up": true,
| "tenant_id": "601240b9c5c94059b63d484c92cfe308",
| "expire_time": "2020-12-03 03:42:49"
| }
| ],
| "instance_num": 2
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Querying Details of a Certificate
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query details about a certificate.

3. URI

GET /v2.0/lbaas/certificates/{certificate_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| certificate_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | certificate is used.  |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type.     |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **server**:        |
|                       |                       |    indicates the      |
|                       |                       |    server             |
|                       |                       |    certificate.       |
|                       |                       |                       |
|                       |                       | -  **client**:        |
|                       |                       |    indicates the CA   |
|                       |                       |    certificate.       |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | name associated with  |
|                       |                       | the server            |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 100        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate in PEM    |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the public  |
|                       |                       | key of the server     |
|                       |                       | certificate or CA     |
|                       |                       | certificate used to   |
|                       |                       | authenticate the      |
|                       |                       | client. The value of  |
|                       |                       | parameter **type**    |
|                       |                       | determines whether a  |
|                       |                       | public key or CA      |
|                       |                       | certificate is        |
|                       |                       | required. Both types  |
|                       |                       | of certificates are   |
|                       |                       | in PEM format.        |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Querying details of a certificate

GET
https://{Endpoint}/v2.0/lbaas/certificates/23ef9aad4ecb463580476d324a6c71af

#. Example Response

-  Example response

| {
| "certificate":
| "-----BEGIN CERTIFICATE-----
| \\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD
| \\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG
| \\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
| \\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5
| \\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9
| \\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS
| \\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K
| \\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy
| \\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t
| \\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA
| \\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn
| \\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa
| \\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ
| \\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI
| \\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ
| \\niYsGDVN+9QBd0eYUHce+77s96i3I
| \\n-----END CERTIFICATE-----",
| "create_time": "2017-02-25 09:35:27",
| "expire_time": "2045-11-17 13:25:47",
| "description": "description for certificate",
| "domain": "www.elb.com",
| "id": "23ef9aad4ecb463580476d324a6c71af",
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "admin_state_up": true,
| "name": "https_certificate",
| "private_key":
| "-----BEGIN PRIVATE KEY-----
| \\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M
| \\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe
| \\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM
| \\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt
| \\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl
| \\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k
| \\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl
| \\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB
| \\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr
| \\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M
| \\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale
| \\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT
| \\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx
| \\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt
| \\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr
| \\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ
| \\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU
| \\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB
| \\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd
| \\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak
| \\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha
| \\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf
| \\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o
| \\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk
| \\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd
| \\n3fy+1rCUwzOp9LSjtJYf4ege
| \\n-----END PRIVATE KEY-----",
| "type": "server",
| "update_time": "2017-02-25 09:35:27"
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Updating a Certificate
~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to update a certificate.

3. URI

PUT /v2.0/lbaas/certificates/{certificate_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| certificate_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+

4. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is reserved,    |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+
| domain          | No              | String          | Specifies the   |
|                 |                 |                 | domain name     |
|                 |                 |                 | associated with |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **null**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 100  |
|                 |                 |                 | characters.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  A common     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    contains 0   |
|                 |                 |                 |    to 100       |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and consists |
|                 |                 |                 |    of several   |
|                 |                 |                 |    labels       |
|                 |                 |                 |    separated by |
|                 |                 |                 |    dots (.).    |
|                 |                 |                 |    Each label   |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    63           |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and must     |
|                 |                 |                 |    start and    |
|                 |                 |                 |    end with a   |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  In addition  |
|                 |                 |                 |    to the       |
|                 |                 |                 |    requirements |
|                 |                 |                 |    for common   |
|                 |                 |                 |    domain       |
|                 |                 |                 |    names, a     |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    can start    |
|                 |                 |                 |    with an      |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*).         |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid only   |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **server**.     |
+-----------------+-----------------+-----------------+-----------------+
| private_key     | No              | String          | Specifies the   |
|                 |                 |                 | private key of  |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The value must  |
|                 |                 |                 | be PEM encoded. |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    ignored if   |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **client**.  |
|                 |                 |                 |    A CA server  |
|                 |                 |                 |    can still be |
|                 |                 |                 |    created and  |
|                 |                 |                 |    used         |
|                 |                 |                 |    normally.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be left |
|                 |                 |                 |    blank even   |
|                 |                 |                 |    if you enter |
|                 |                 |                 |    a private    |
|                 |                 |                 |    key that is  |
|                 |                 |                 |    not PEM      |
|                 |                 |                 |    encoded.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid and    |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**.  |
|                 |                 |                 |    If you enter |
|                 |                 |                 |    an invalid   |
|                 |                 |                 |    private key, |
|                 |                 |                 |    an error is  |
|                 |                 |                 |    returned.    |
+-----------------+-----------------+-----------------+-----------------+
| certificate     | No              | String          | Specifies the   |
|                 |                 |                 | public key of   |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate or  |
|                 |                 |                 | CA certificate  |
|                 |                 |                 | used to         |
|                 |                 |                 | authenticate    |
|                 |                 |                 | the client. The |
|                 |                 |                 | value of        |
|                 |                 |                 | parameter       |
|                 |                 |                 | **type**        |
|                 |                 |                 | determines      |
|                 |                 |                 | whether a       |
|                 |                 |                 | public key or   |
|                 |                 |                 | CA certificate  |
|                 |                 |                 | is required.    |
|                 |                 |                 |                 |
|                 |                 |                 | The public key  |
|                 |                 |                 | is in PEM       |
|                 |                 |                 | format.         |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| tenant_id             | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | certificate is used.  |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | reserved. The value   |
|                       |                       | can be **true** or    |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | -  **true**: Enabled  |
|                       |                       |                       |
|                       |                       | -  **false**:         |
|                       |                       |    Disabled           |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 255        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type.     |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **server**:        |
|                       |                       |    indicates the      |
|                       |                       |    server             |
|                       |                       |    certificate.       |
|                       |                       |                       |
|                       |                       | -  **client**:        |
|                       |                       |    indicates the CA   |
|                       |                       |    certificate.       |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | name associated with  |
|                       |                       | the server            |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | The value contains a  |
|                       |                       | maximum of 100        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate in PEM    |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the public  |
|                       |                       | key of the server     |
|                       |                       | certificate or CA     |
|                       |                       | certificate used to   |
|                       |                       | authenticate the      |
|                       |                       | client. The value of  |
|                       |                       | parameter **type**    |
|                       |                       | determines whether a  |
|                       |                       | public key or CA      |
|                       |                       | certificate is        |
|                       |                       | required. Both types  |
|                       |                       | of certificates are   |
|                       |                       | in PEM format.        |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| create_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+
| update_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
|                       |                       |                       |
|                       |                       | The UTC time is in    |
|                       |                       | *YYYY-MM-DDTHH:MM:SS* |
|                       |                       | format.               |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request: Updating a certificate

| PUT
  https://{Endpoint}/v2.0/lbaas/certificates/23ef9aad4ecb463580476d324a6c71af
| {
| "certificate":
| "-----BEGIN CERTIFICATE-----
| \\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD
| \\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG
| \\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
| \\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5
| \\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9
| \\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS
| \\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K
| \\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy
| \\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t
| \\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA
| \\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn
| \\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa
| \\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ
| \\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI
| \\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ
| \\niYsGDVN+9QBd0eYUHce+77s96i3I
| \\n-----END CERTIFICATE-----",
| "description": "description for certificate",
| "domain": "www.elb.com",
| "name": "https_certificate",
| "private_key":
| "-----BEGIN PRIVATE KEY-----
| \\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M
| \\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe
| \\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM
| \\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt
| \\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl
| \\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k
| \\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl
| \\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB
| \\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr
| \\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M
| \\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale
| \\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT
| \\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx
| \\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt
| \\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr
| \\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ
| \\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU
| \\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB
| \\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd
| \\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak
| \\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha
| \\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf
| \\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o
| \\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk
| \\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd
| \\n3fy+1rCUwzOp9LSjtJYf4ege
| \\n-----END PRIVATE KEY-----"
| }

#. Example Response

-  Example response

| {
| "certificate": "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "expire_time": "2045-11-17 13:25:47",
| "create_time": "2017-02-25 09:35:27",
| "description": "description for certificate",
| "domain": "www.elb.com",
| "id": "23ef9aad4ecb463580476d324a6c71af",
| "admin_state_up": true,
| "tenant_id": "a31d2bdcf7604c0faaddb058e1e08819",
| "name": "https_certificate",
| "private_key": "-----BEGIN PRIVATE KEY-----
| \\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M
| \\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe
| \\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM
| \\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt
| \\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl
| \\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k
| \\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl
| \\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB
| \\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr
| \\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M
| \\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale
| \\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT
| \\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx
| \\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt
| \\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr
| \\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ
| \\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU
| \\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB
| \\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd
| \\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak
| \\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha
| \\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf
| \\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o
| \\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk
| \\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd
| \\n3fy+1rCUwzOp9LSjtJYf4ege
| \\n-----END PRIVATE KEY-----",
| "type": "server",
| "update_time": "2017-02-25 09:38:27"
| }

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

.. _deleting-a-certificate-1:

Deleting a Certificate
~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a specific certificate.

3. Constraints

If the target certificate is used by a listener, the certificate cannot
be deleted, and 409 code will be displayed.

4. URI

DELETE /v2.0/lbaas/certificates/{certificate_id}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| certificate_id  | Yes             | String          | Specifies the   |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+

5. Request

-  Request parameters

None

#. Response

-  Response parameters

None

#. Example Request

-  Example request: Deleting a certificate

DELETE
https://{Endpoint}/v2.0/lbaas/certificates/23ef9aad4ecb463580476d324a6c71af

#. Example Response

-  Example response 1

None

#. Status Code

For details, see 6.2 HTTP Status Codes of Shared Load Balancers.

Tag
---

1. .. rubric:: Adding a Tag to a Load Balancer
      :name: adding-a-tag-to-a-load-balancer

   #. Function

This API is used to add a tag to a specific load balancer for easier
management.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

2. Constraints

A maximum of 10 tags can be added to a load balancer.

Pay attention to the following when adding tags:

-  If there are duplicate keys in the request body, an error is
   reported.

-  If there are no duplicate keys in the request body but the key in the
   request body exists in the database, the key in the database is
   overwritten.

   #. URI

POST /v2.0/{project_id}/loadbalancers/{loadbalancer_id}/tags

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer to     |
|                 |                 |                 | which a tag is  |
|                 |                 |                 | to be added.    |
+-----------------+-----------------+-----------------+-----------------+

2. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tag             | Yes             | Object          | Specifies the   |
|                 |                 |                 | tag. For        |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-223.    |
+-----------------+-----------------+-----------------+-----------------+

2. **tag** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    left blank.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    36           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
|                 |                 |                 |                 |
|                 |                 |                 | -  The tag key  |
|                 |                 |                 |    of a load    |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    must be      |
|                 |                 |                 |    unique.      |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | tag value.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    43           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
+-----------------+-----------------+-----------------+-----------------+

#. Response

None

2. Example Request

-  Example request

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/7add33ad-11dc-4ab9-a50f-419703f13163/tags
| {
| "tag": {
| "key": "key1",
| "value": "value1"
| }
| }

#. Example Response

-  Example response

None

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Batch Adding or Deleting Load Balancer Tags
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to add or delete load balancer tags in batches.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

A maximum of 10 tags can be added to a load balancer.

This API is idempotent.

-  Pay attention to the following when adding tags:

-  If there are duplicate keys in the request body, an error is
   reported.

-  If there are no duplicate keys in the request body but the key in the
   request body exists in the database, the key in the database is
   overwritten.

-  Pay attention to the following during the deletion:

-  If the tag to be deleted does not exist, the deletion is considered
   successful by default.

-  The value range of the tag character set is not verified.

-  The tag structure body cannot be missing, and the key cannot be left
   blank or set to an empty string.

   #. URI

POST /v2.0/{project_id}/loadbalancers/{loadbalancer_id}/tags/action

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer to     |
|                 |                 |                 | which tags are  |
|                 |                 |                 | to be added or  |
|                 |                 |                 | from which tags |
|                 |                 |                 | are to be       |
|                 |                 |                 | deleted.        |
+-----------------+-----------------+-----------------+-----------------+

2. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tags            | Yes             | Array           | Lists the tags. |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table       |
|                 |                 |                 | 3-226.          |
+-----------------+-----------------+-----------------+-----------------+
| action          | Yes             | String          | Specifies the   |
|                 |                 |                 | operation type. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **create**:  |
|                 |                 |                 |    adds tags to |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **delete**:  |
|                 |                 |                 |    deletes tags |
|                 |                 |                 |    from the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+

1. **tags** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    left blank.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    36           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
|                 |                 |                 |                 |
|                 |                 |                 | -  The tag key  |
|                 |                 |                 |    of a load    |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    must be      |
|                 |                 |                 |    unique.      |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | tag value.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    43           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
+-----------------+-----------------+-----------------+-----------------+

#. Response

None

2. Example Request

-  Example request 1

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/7add33ad-11dc-4ab9-a50f-419703f13163/tags/action
| {
| "action": "create",
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value2"
| }
| ]
| }

-  Example request 2

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/7add33ad-11dc-4ab9-a50f-419703f13163/tags/action
| {
| "action": "delete",
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value2"
| }
| ]
| }

#. Example Response

-  Example response 1

None

-  Example response 2

None

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Querying All Tags of a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query all the tags of one load balancer.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. URI

GET /v2.0/{project_id}/loadbalancers/{loadbalancer_id}/tags

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer whose  |
|                 |                 |                 | tags are to be  |
|                 |                 |                 | queried.        |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| tags                  | Array                 | Lists the tags. For   |
|                       |                       | details, see Table    |
|                       |                       | 3-229.                |
+-----------------------+-----------------------+-----------------------+

2. **tags** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
|                       |                       |                       |
|                       |                       | -  Cannot be left     |
|                       |                       |    blank.             |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 36      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
|                       |                       |                       |
|                       |                       | -  The tag key of a   |
|                       |                       |    load balancer must |
|                       |                       |    be unique.         |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 43      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request

GET
https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/7add33ad-11dc-4ab9-a50f-419703f13163/tags

#. Example Response

-  Example response

| {
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value2"
| }
| ]
| }

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Querying the Tags of All Load Balancers
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query the tags of all the load balancers.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. URI

GET /v2.0/{project_id}/loadbalancers/tags

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+

4. Request

None

5. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| tags                  | Array                 | Lists the tags. For   |
|                       |                       | details, see Table    |
|                       |                       | 3-232.                |
+-----------------------+-----------------------+-----------------------+

2. **tags** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
|                       |                       |                       |
|                       |                       | -  Cannot be left     |
|                       |                       |    blank.             |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 36      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
|                       |                       |                       |
|                       |                       | -  The tag key of a   |
|                       |                       |    load balancer must |
|                       |                       |    be unique.         |
+-----------------------+-----------------------+-----------------------+
| values                | Array                 | Lists the tag values. |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 43      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request

GET
https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/tags

#. Example Response

-  Example response

| {
| "tags": [
| {
| "key": "key1",
| "values": [
| "value1",
| "value2"
| ]
| },
| {
| "key": "key2",
| "values": [
| "value1",
| "value2"
| ]
| }
| ]
| }

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Querying Load Balancers by Tag
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query load balancers using tags.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

None

4. URI

POST /v2.0/{project_id}/loadbalancers/resource_instances/action

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tags            | No              | Array           | Specifies the   |
|                 |                 |                 | included tags.  |
|                 |                 |                 | A maximum of 10 |
|                 |                 |                 | keys are        |
|                 |                 |                 | allowed for     |
|                 |                 |                 | each query      |
|                 |                 |                 | operation, and  |
|                 |                 |                 | each key can    |
|                 |                 |                 | have a maximum  |
|                 |                 |                 | of 10 values.   |
|                 |                 |                 |                 |
|                 |                 |                 | The tag key     |
|                 |                 |                 | cannot be left  |
|                 |                 |                 | blank or set to |
|                 |                 |                 | an empty        |
|                 |                 |                 | string.         |
|                 |                 |                 |                 |
|                 |                 |                 | Each tag key    |
|                 |                 |                 | and each tag    |
|                 |                 |                 | value of the    |
|                 |                 |                 | same tag key    |
|                 |                 |                 | must be unique. |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Sets the page   |
|                 |                 |                 | size. This      |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **filter**.     |
|                 |                 |                 | Both the        |
|                 |                 |                 | default value   |
|                 |                 |                 | and maximum     |
|                 |                 |                 | value are       |
|                 |                 |                 | **1000**, and   |
|                 |                 |                 | the minimum     |
|                 |                 |                 | value is **1**. |
|                 |                 |                 | The value       |
|                 |                 |                 | cannot be a     |
|                 |                 |                 | negative        |
|                 |                 |                 | integer.        |
+-----------------+-----------------+-----------------+-----------------+
| offset          | No              | Integer         | Specifies the   |
|                 |                 |                 | index position. |
|                 |                 |                 | The query       |
|                 |                 |                 | starts from the |
|                 |                 |                 | next load       |
|                 |                 |                 | balancer        |
|                 |                 |                 | indexed by this |
|                 |                 |                 | parameter. This |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not required    |
|                 |                 |                 | when you query  |
|                 |                 |                 | load balancers  |
|                 |                 |                 | on the first    |
|                 |                 |                 | page. The value |
|                 |                 |                 | in the response |
|                 |                 |                 | returned for    |
|                 |                 |                 | querying the    |
|                 |                 |                 | load balancers  |
|                 |                 |                 | on the previous |
|                 |                 |                 | page will be    |
|                 |                 |                 | included in     |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for querying    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancers on    |
|                 |                 |                 | subsequent      |
|                 |                 |                 | pages. This     |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not available   |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **count**. If   |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **filter**, the |
|                 |                 |                 | value must be a |
|                 |                 |                 | positive        |
|                 |                 |                 | integer, and    |
|                 |                 |                 | the default     |
|                 |                 |                 | value is **0**. |
+-----------------+-----------------+-----------------+-----------------+
| action          | Yes             | String          | Identifies the  |
|                 |                 |                 | operation. The  |
|                 |                 |                 | value can be    |
|                 |                 |                 | **filter** or   |
|                 |                 |                 | **count**.      |
|                 |                 |                 |                 |
|                 |                 |                 | **filter**:     |
|                 |                 |                 | indicates       |
|                 |                 |                 | pagination      |
|                 |                 |                 | query.          |
|                 |                 |                 |                 |
|                 |                 |                 | **count**:      |
|                 |                 |                 | indicates that  |
|                 |                 |                 | all load        |
|                 |                 |                 | balancers       |
|                 |                 |                 | meeting the     |
|                 |                 |                 | search criteria |
|                 |                 |                 | will be         |
|                 |                 |                 | returned.       |
+-----------------+-----------------+-----------------+-----------------+
| matches         | No              | Array           | Specifies the   |
|                 |                 |                 | search          |
|                 |                 |                 | criteria. The   |
|                 |                 |                 | tag key is the  |
|                 |                 |                 | parameter to    |
|                 |                 |                 | match, for      |
|                 |                 |                 | example,        |
|                 |                 |                 | **r             |
|                 |                 |                 | esource_name**. |
|                 |                 |                 | **value**       |
|                 |                 |                 | indicates the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match content.  |
|                 |                 |                 | The key is a    |
|                 |                 |                 | fixed           |
|                 |                 |                 | dictionary      |
|                 |                 |                 | value.          |
|                 |                 |                 |                 |
|                 |                 |                 | Currently, only |
|                 |                 |                 | **              |
|                 |                 |                 | resource_name** |
|                 |                 |                 | can be used for |
|                 |                 |                 | search. For     |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-236.    |
+-----------------+-----------------+-----------------+-----------------+

2. **tags** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key. It     |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 127  |
|                 |                 |                 | Unicode         |
|                 |                 |                 | characters and  |
|                 |                 |                 | cannot be left  |
|                 |                 |                 | blank. (This    |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not verified in |
|                 |                 |                 | the search      |
|                 |                 |                 | process.)       |
+-----------------+-----------------+-----------------+-----------------+
| values          | Yes             | Array           | Lists the tag   |
|                 |                 |                 | values. Each    |
|                 |                 |                 | tag value can   |
|                 |                 |                 | contain a       |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | Unicode         |
|                 |                 |                 | characters. The |
|                 |                 |                 | values are in   |
|                 |                 |                 | the OR          |
|                 |                 |                 | relationship.   |
|                 |                 |                 |                 |
|                 |                 |                 | If no tag       |
|                 |                 |                 | values in the   |
|                 |                 |                 | list, the tag   |
|                 |                 |                 | key is used for |
|                 |                 |                 | full search. If |
|                 |                 |                 | each value in   |
|                 |                 |                 | the list starts |
|                 |                 |                 | with an         |
|                 |                 |                 | asterisk (*),   |
|                 |                 |                 | fuzzy match is  |
|                 |                 |                 | performed based |
|                 |                 |                 | on the part     |
|                 |                 |                 | after the       |
|                 |                 |                 | asterisk.       |
+-----------------+-----------------+-----------------+-----------------+

3. **matches** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key for     |
|                 |                 |                 | match.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **r          |
|                 |                 |                 | esource_name**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the resource |
|                 |                 |                 |    name.        |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | tag value for   |
|                 |                 |                 | match. Each tag |
|                 |                 |                 | value can       |
|                 |                 |                 | contain a       |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | Unicode         |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| resources             | Array                 | Lists the load        |
|                       |                       | balancers. For        |
|                       |                       | details, see Table    |
|                       |                       | 3-238.                |
+-----------------------+-----------------------+-----------------------+
| total_count           | Integer               | Specifies the total   |
|                       |                       | number of queried     |
|                       |                       | records.              |
+-----------------------+-----------------------+-----------------------+

2. **resource** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| resource_id           | String                | Specifies the         |
|                       |                       | resource ID.          |
+-----------------------+-----------------------+-----------------------+
| resource_detail       | Object                | Specifies the         |
|                       |                       | resource details. The |
|                       |                       | value is a resource   |
|                       |                       | object, used for      |
|                       |                       | extension. The value  |
|                       |                       | is left blank by      |
|                       |                       | default.              |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Lists the tags. If    |
|                       |                       | there is no tag, an   |
|                       |                       | empty array is used   |
|                       |                       | by default. For       |
|                       |                       | details, see Table    |
|                       |                       | 3-239.                |
+-----------------------+-----------------------+-----------------------+
| resource_name         | String                | Specifies the         |
|                       |                       | resource name. This   |
|                       |                       | parameter is an empty |
|                       |                       | string by default if  |
|                       |                       | there is no resource  |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| super_resource_id     | String                | Specifies the parent  |
|                       |                       | resource ID.          |
+-----------------------+-----------------------+-----------------------+

3. **tags** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key. It contains a    |
|                       |                       | maximum of 127        |
|                       |                       | Unicode characters    |
|                       |                       | and cannot be left    |
|                       |                       | blank. (This          |
|                       |                       | parameter is not      |
|                       |                       | verified in the       |
|                       |                       | search process.)      |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value. Each tag value |
|                       |                       | can contain a maximum |
|                       |                       | of 255 Unicode        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+

2. Example Request

-  Example request 1 (when **action** is set to **filter**)

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/resource_instances/action
| {
| "offset": "100",
| "limit": "100",
| "action": "filter",
| "matches": [
| {
| "key": "resource_name",
| "value": "resource1"
| }
| ],
| "tags": [
| {
| "key": "key1",
| "values": [
| "*value1",
| "value2"
| ]
| }
| ]
| }

-  Example request 2 (when **action** is set to **count**)

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/resource_instances/action
| {
| "action": "count",
| "tags": [
| {
| "key": "key1",
| "values": [
| "value1",
| "value2"
| ]
| },
| {
| "key": "key2",
| "values": [
| "value1",
| "value2"
| ]
| }
| ],
| "matches": [
| {
| "key": "resource_name",
| "value": "resource1"
| }
| ]
| }

#. Example Response

-  Example response 1

| {
| "resources": [
| {
| "resource_detail": "",
| "resource_id": "154d135b-3a89-4e89-8023-06efb9acdc05",
| "resource_name": "resouece1",
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value1"
| }
| ]
| }
| ],
| "total_count": 1000
| }

-  Example response 2

| {
| "total_count": 1000
| }

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Deleting a Tag from a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a tag with a specific key from a load
balancer.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

None

4. URI

DELETE /v2.0/{project_id}/loadbalancers/{loadbalancer_id}/tags/{key}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer from   |
|                 |                 |                 | which a tag is  |
|                 |                 |                 | to be deleted.  |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

None

7. Example Request

-  Example request

DELETE
https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/loadbalancers/7add33ad-11dc-4ab9-a50f-419703f13163/tags/key1

#. Example Response

-  Example response

None

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Adding a Tag to a Listener
~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to add a tag to a specific listener.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

-  A maximum of 10 tags can be added to a listener.

-  Pay attention to the following when adding tags:

-  If there are duplicate keys in the request body, an error is
   reported.

-  If there are no duplicate keys in the request body but the key in the
   request body exists in the database, the key in the database is
   overwritten.

   #. URI

POST /v2.0/{project_id}/listeners/{listener_id}/tags

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which a tag is  |
|                 |                 |                 | to be added.    |
+-----------------+-----------------+-----------------+-----------------+

2. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tag             | Yes             | Object          | Specifies the   |
|                 |                 |                 | tag. For        |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-243.    |
+-----------------+-----------------+-----------------+-----------------+

2. **tag** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    left blank.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    36           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
|                 |                 |                 |                 |
|                 |                 |                 | -  The tag key  |
|                 |                 |                 |    of a         |
|                 |                 |                 |    listener     |
|                 |                 |                 |    must be      |
|                 |                 |                 |    unique.      |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | tag value.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    43           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
+-----------------+-----------------+-----------------+-----------------+

#. Response

None

2. Example Request

-  Example request

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/7add33ad-11dc-4ab9-a50f-419703f13163/tags
| {
| "tag": {
| "key": "key1",
| "value": "value1"
| }
| }

#. Example Response

-  Example response

None

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Batch Adding or Deleting Listener Tags
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to add or delete listener tags in batches.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

-  A maximum of 10 tags can be added to a listener.

-  This API is idempotent.

-  Pay attention to the following when adding tags:

-  If there are duplicate keys in the request body, an error is
   reported.

-  If there are no duplicate keys in the request body but the key in the
   request body exists in the database, the key in the database is
   overwritten.

-  Pay attention to the following during the deletion:

-  If the tag to be deleted does not exist, the deletion is considered
   successful by default.

-  The value range of the tag character set is not verified.

-  The tag structure body cannot be missing, and the key cannot be left
   blank or set to an empty string.

   #. URI

POST /v2.0/{project_id}/listeners/{listener_id}/tags/action

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which tags are  |
|                 |                 |                 | to be added or  |
|                 |                 |                 | from which tags |
|                 |                 |                 | are to be       |
|                 |                 |                 | deleted.        |
+-----------------+-----------------+-----------------+-----------------+

2. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tags            | Yes             | Array           | Lists the tags. |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table       |
|                 |                 |                 | 3-246.          |
+-----------------+-----------------+-----------------+-----------------+
| action          | Yes             | String          | Specifies the   |
|                 |                 |                 | operation       |
|                 |                 |                 | identifier.     |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **create**:  |
|                 |                 |                 |    adds tags to |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **delete**:  |
|                 |                 |                 |    deletes tags |
|                 |                 |                 |    from the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+

1. **resource_tag** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  Cannot be    |
|                 |                 |                 |    left blank.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    36           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
|                 |                 |                 |                 |
|                 |                 |                 | -  The tag key  |
|                 |                 |                 |    of a         |
|                 |                 |                 |    listener     |
|                 |                 |                 |    must be      |
|                 |                 |                 |    unique.      |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | tag value.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    43           |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  Can contain  |
|                 |                 |                 |    only the     |
|                 |                 |                 |    following    |
|                 |                 |                 |    character    |
|                 |                 |                 |    types:       |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Uppercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Lowercase |
|                 |                 |                 |       letters   |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Digits    |
|                 |                 |                 |                 |
|                 |                 |                 |    -  Special   |
|                 |                 |                 |                 |
|                 |                 |                 |     characters, |
|                 |                 |                 |       including |
|                 |                 |                 |       hyphens   |
|                 |                 |                 |       (-) and   |
|                 |                 |                 |                 |
|                 |                 |                 |     underscores |
|                 |                 |                 |       (_)       |
+-----------------+-----------------+-----------------+-----------------+

#. Response

None

2. Example Request

-  Example request 1

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/7add33ad-11dc-4ab9-a50f-419703f13163/tags/action
| {
| "action": "create",
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value2"
| }
| ]
| }

-  Example request 2

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/7add33ad-11dc-4ab9-a50f-419703f13163/tags/action
| {
| "action": "delete",
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value2"
| }
| ]
| }

#. Example Response

-  Example response 1

None

-  Example response 2

None

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Querying All Tags of a Listener
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query all tags of one listener.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

None

4. URI

GET /v2.0/{project_id}/listeners/{listener_id}/tags

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener whose  |
|                 |                 |                 | tags are to be  |
|                 |                 |                 | queried.        |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| tags                  | Array                 | Lists the tags. For   |
|                       |                       | details, see Table    |
|                       |                       | 3-249.                |
+-----------------------+-----------------------+-----------------------+

2. **tags** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
|                       |                       |                       |
|                       |                       | -  Cannot be left     |
|                       |                       |    blank.             |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 36      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
|                       |                       |                       |
|                       |                       | -  The tag key of a   |
|                       |                       |    listener must be   |
|                       |                       |    unique.            |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 43      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request

GET
https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/7add33ad-11dc-4ab9-a50f-419703f13163/tags

#. Example Response

-  Example response

| {
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value2"
| }
| ]
| }

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Querying the Tags of All Listeners
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query the tags of all listeners.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

None

4. URI

GET /v2.0/{project_id}/listeners/tags

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| tags                  | Array                 | Lists the tags, which |
|                       |                       | are aggregated by the |
|                       |                       | tag key. For details, |
|                       |                       | see Table 3-252.      |
|                       |                       |                       |
|                       |                       | For example, if you   |
|                       |                       | have two listeners,   |
|                       |                       | the tag key of both   |
|                       |                       | listeners is "test",  |
|                       |                       | the tag value of      |
|                       |                       | listener A is         |
|                       |                       | "value1", and the tag |
|                       |                       | value of listener B   |
|                       |                       | is "value2", two tags |
|                       |                       | are queried, the key  |
|                       |                       | of both tags is       |
|                       |                       | "test", and the tag   |
|                       |                       | values are            |
|                       |                       | ["value1","value2"].  |
+-----------------------+-----------------------+-----------------------+

2. **tags** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
|                       |                       |                       |
|                       |                       | -  Cannot be left     |
|                       |                       |    blank.             |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 36      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
|                       |                       |                       |
|                       |                       | -  The tag key of a   |
|                       |                       |    listener must be   |
|                       |                       |    unique.            |
+-----------------------+-----------------------+-----------------------+
| values                | Array                 | Lists the tag values. |
|                       |                       |                       |
|                       |                       | -  Can contain a      |
|                       |                       |    maximum of 43      |
|                       |                       |    characters.        |
|                       |                       |                       |
|                       |                       | -  Can contain only   |
|                       |                       |    the following      |
|                       |                       |    character types:   |
|                       |                       |                       |
|                       |                       |    -  Uppercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Lowercase       |
|                       |                       |       letters         |
|                       |                       |                       |
|                       |                       |    -  Digits          |
|                       |                       |                       |
|                       |                       |    -  Special         |
|                       |                       |       characters,     |
|                       |                       |       including       |
|                       |                       |       hyphens (-) and |
|                       |                       |       underscores (_) |
+-----------------------+-----------------------+-----------------------+

#. Example Request

-  Example request

GET
https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/tags

#. Example Response

-  Example response

| {
| "tags": [
| {
| "key": "key1",
| "values": [
| "value1",
| "value2"
| ]
| },
| {
| "key": "key2",
| "values": [
| "value1",
| "value2"
| ]
| }
| ]
| }

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Querying Listeners by Tag
~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to query listeners by tag.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

None

4. URI

POST /v2.0/{project_id}/listeners/resource_instances/action

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+

5. Request

   1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| tags            | No              | Array           | Specifies the   |
|                 |                 |                 | included tags.  |
|                 |                 |                 | A maximum of 10 |
|                 |                 |                 | tag keys are    |
|                 |                 |                 | allowed for     |
|                 |                 |                 | each query      |
|                 |                 |                 | operation. Each |
|                 |                 |                 | tag key can     |
|                 |                 |                 | have up to 10   |
|                 |                 |                 | tag values. The |
|                 |                 |                 | structure body  |
|                 |                 |                 | must be         |
|                 |                 |                 | included. The   |
|                 |                 |                 | tag key cannot  |
|                 |                 |                 | be left blank   |
|                 |                 |                 | or set to an    |
|                 |                 |                 | empty string.   |
|                 |                 |                 | Each tag key    |
|                 |                 |                 | and each tag    |
|                 |                 |                 | value of the    |
|                 |                 |                 | same tag key    |
|                 |                 |                 | must be unique. |
|                 |                 |                 | For details,    |
|                 |                 |                 | see Table       |
|                 |                 |                 | 3-255.          |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Sets the page   |
|                 |                 |                 | size. This      |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **filter**.     |
|                 |                 |                 | Both the        |
|                 |                 |                 | default value   |
|                 |                 |                 | and maximum     |
|                 |                 |                 | value are       |
|                 |                 |                 | **1000**, and   |
|                 |                 |                 | the minimum     |
|                 |                 |                 | value is **1**. |
|                 |                 |                 | The value       |
|                 |                 |                 | cannot be a     |
|                 |                 |                 | negative        |
|                 |                 |                 | integer.        |
+-----------------+-----------------+-----------------+-----------------+
| offset          | No              | Integer         | Specifies the   |
|                 |                 |                 | index position. |
|                 |                 |                 | The query       |
|                 |                 |                 | starts from the |
|                 |                 |                 | next listener   |
|                 |                 |                 | indexed by this |
|                 |                 |                 | parameter. This |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not required    |
|                 |                 |                 | when you query  |
|                 |                 |                 | listeners on    |
|                 |                 |                 | the first page. |
|                 |                 |                 | The value in    |
|                 |                 |                 | the response    |
|                 |                 |                 | returned for    |
|                 |                 |                 | querying the    |
|                 |                 |                 | listeners on    |
|                 |                 |                 | the previous    |
|                 |                 |                 | page will be    |
|                 |                 |                 | included in     |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for querying    |
|                 |                 |                 | the listeners   |
|                 |                 |                 | on subsequent   |
|                 |                 |                 | pages. This     |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not available   |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **count**. If   |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **filter**, the |
|                 |                 |                 | value must be a |
|                 |                 |                 | positive        |
|                 |                 |                 | integer, and    |
|                 |                 |                 | the default     |
|                 |                 |                 | value is **0**. |
+-----------------+-----------------+-----------------+-----------------+
| action          | Yes             | String          | Identifies the  |
|                 |                 |                 | operation. The  |
|                 |                 |                 | value can be    |
|                 |                 |                 | **filter** or   |
|                 |                 |                 | **count**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **filter**:  |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    pagination   |
|                 |                 |                 |    query.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  **count**:   |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that all     |
|                 |                 |                 |    listeners    |
|                 |                 |                 |    meeting the  |
|                 |                 |                 |    search       |
|                 |                 |                 |    criteria     |
|                 |                 |                 |    will be      |
|                 |                 |                 |    returned.    |
+-----------------+-----------------+-----------------+-----------------+
| matches         | No              | Array           | Specifies the   |
|                 |                 |                 | search          |
|                 |                 |                 | criteria. The   |
|                 |                 |                 | tag key is the  |
|                 |                 |                 | parameter to    |
|                 |                 |                 | match, for      |
|                 |                 |                 | example,        |
|                 |                 |                 | **r             |
|                 |                 |                 | esource_name**. |
|                 |                 |                 | **value**       |
|                 |                 |                 | indicates the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match content.  |
|                 |                 |                 | The key is a    |
|                 |                 |                 | fixed           |
|                 |                 |                 | dictionary      |
|                 |                 |                 | value.          |
|                 |                 |                 |                 |
|                 |                 |                 | Determine       |
|                 |                 |                 | whether fuzzy   |
|                 |                 |                 | match is        |
|                 |                 |                 | required based  |
|                 |                 |                 | on different    |
|                 |                 |                 | parameters. For |
|                 |                 |                 | example, if the |
|                 |                 |                 | **key** is      |
|                 |                 |                 | **r             |
|                 |                 |                 | esource_name**, |
|                 |                 |                 | fuzzy search is |
|                 |                 |                 | used by         |
|                 |                 |                 | default. If     |
|                 |                 |                 | **value** is an |
|                 |                 |                 | empty string,   |
|                 |                 |                 | exact match is  |
|                 |                 |                 | used. If the    |
|                 |                 |                 | key is          |
|                 |                 |                 | *               |
|                 |                 |                 | *resource_id**, |
|                 |                 |                 | exact match is  |
|                 |                 |                 | used.           |
|                 |                 |                 | Currently, only |
|                 |                 |                 | **              |
|                 |                 |                 | resource_name** |
|                 |                 |                 | can be used for |
|                 |                 |                 | search. For     |
|                 |                 |                 | details, see    |
|                 |                 |                 | Table 3-256.    |
+-----------------+-----------------+-----------------+-----------------+

1. **tags** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key. It     |
|                 |                 |                 | contains a      |
|                 |                 |                 | maximum of 127  |
|                 |                 |                 | Unicode         |
|                 |                 |                 | characters and  |
|                 |                 |                 | cannot be left  |
|                 |                 |                 | blank. (This    |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not verified in |
|                 |                 |                 | the search      |
|                 |                 |                 | process.)       |
+-----------------+-----------------+-----------------+-----------------+
| values          | Yes             | Array           | Lists the tag   |
|                 |                 |                 | values. Each    |
|                 |                 |                 | tag value can   |
|                 |                 |                 | contain a       |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | Unicode         |
|                 |                 |                 | characters. The |
|                 |                 |                 | values are in   |
|                 |                 |                 | the OR          |
|                 |                 |                 | relationship.   |
+-----------------+-----------------+-----------------+-----------------+

2. **matches** parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | Yes             | String          | Specifies the   |
|                 |                 |                 | tag key.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **r          |
|                 |                 |                 | esource_name**: |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the resource |
|                 |                 |                 |    name.        |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | tag value. Each |
|                 |                 |                 | tag value can   |
|                 |                 |                 | contain a       |
|                 |                 |                 | maximum of 255  |
|                 |                 |                 | Unicode         |
|                 |                 |                 | characters.     |
+-----------------+-----------------+-----------------+-----------------+

#. Response

   1. Response parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| resources             | Array                 | Lists the listeners.  |
|                       |                       | For details, see      |
|                       |                       | Table 3-258.          |
+-----------------------+-----------------------+-----------------------+
| total_count           | Integer               | Specifies the total   |
|                       |                       | number of queried     |
|                       |                       | records.              |
+-----------------------+-----------------------+-----------------------+

2. **resource** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| resource_id           | String                | Specifies the         |
|                       |                       | resource ID.          |
+-----------------------+-----------------------+-----------------------+
| resource_detail       | Object                | Specifies the         |
|                       |                       | resource details. The |
|                       |                       | value is a resource   |
|                       |                       | object, used for      |
|                       |                       | extension. The value  |
|                       |                       | is left blank by      |
|                       |                       | default.              |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array                 | Lists the tags. If    |
|                       |                       | there is no tag, an   |
|                       |                       | empty array is used   |
|                       |                       | by default. For       |
|                       |                       | details, see Table    |
|                       |                       | 3-259.                |
+-----------------------+-----------------------+-----------------------+
| resource_name         | String                | Specifies the         |
|                       |                       | resource name. This   |
|                       |                       | parameter is an empty |
|                       |                       | string by default if  |
|                       |                       | there is no resource  |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| super_resource_id     | String                | Specifies the parent  |
|                       |                       | resource ID.          |
+-----------------------+-----------------------+-----------------------+

3. **tags** parameter description

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key. It contains a    |
|                       |                       | maximum of 127        |
|                       |                       | Unicode characters    |
|                       |                       | and cannot be left    |
|                       |                       | blank. (This          |
|                       |                       | parameter is not      |
|                       |                       | verified in the       |
|                       |                       | search process.)      |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value. Each tag value |
|                       |                       | can contain a maximum |
|                       |                       | of 255 Unicode        |
|                       |                       | characters.           |
+-----------------------+-----------------------+-----------------------+

2. Example Request

-  Example request 1 (when **action** is set to **filter**)

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/resource_instances/action
| {
| "offset": "100",
| "limit": "100",
| "action": "filter",
| "matches": [
| {
| "key": "resource_name",
| "value": "resource1"
| }
| ],
| "tags": [
| {
| "key": "key1",
| "values": [
| "value1",
| "value2"
| ]
| }
| ]
| }

-  Example request 2 (when **action** is set to **count**)

| POST
  https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/resource_instances/action
| {
| "action": "count",
| "tags": [
| {
| "key": "key1",
| "values": [
| "value1",
| "value2"
| ]
| },
| {
| "key": "key2",
| "values": [
| "value1",
| "value2"
| ]
| }
| ],
| "matches": [
| {
| "key": "resource_name",
| "value": "resource1"
| }
| ]
| }

#. Example Response

-  Example response 1

| {
| "resources": [
| {
| "resource_detail":"",
| "resource_id": "154d135b-3a89-4e89-8023-06efb9acdc05",
| "resource_name": "resouece1",
| "tags": [
| {
| "key": "key1",
| "value": "value1"
| },
| {
| "key": "key2",
| "value": "value1"
| }
| ]
| }
| ],
| "total_count": 1000
| }

-  Example response 2

| {
| "total_count": 1000
| }

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Deleting a Tag from a Listener
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Function

This API is used to delete a tag with a specific key from a listener.

.. image:: media/image2.png

You can also use this API for dedicated load balancers.

3. Constraints

None

4. URI

DELETE /v2.0/{project_id}/listeners/{listener_id}/tags/{key}

1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the tag is      |
|                 |                 |                 | used.           |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener from   |
|                 |                 |                 | which a tag is  |
|                 |                 |                 | to be deleted.  |
+-----------------+-----------------+-----------------+-----------------+

5. Request

None

6. Response

None

7. Example Request

-  Example request

DELETE
https://{Endpoint}/v2.0/6a0de1c3-7d74-4f4a-b75e-e57135bd2b97/listeners/7add33ad-11dc-4ab9-a50f-419703f13163/tags/key1

#. Example Response

-  Example response

None

#. Status Code

For details, see `Status Codes <#status-codes>`__.

Status Codes
~~~~~~~~~~~~

1. Normal codes

+-----------------------+-----------------------+-----------------------+
| Status Code           | Message               | Description           |
+=======================+=======================+=======================+
| 200                   | OK                    | Specifies the normal  |
|                       |                       | response code for the |
|                       |                       | GET operation.        |
|                       |                       |                       |
|                       |                       | This code is returned |
|                       |                       | when a response body  |
|                       |                       | is returned for the   |
|                       |                       | POST operation.       |
+-----------------------+-----------------------+-----------------------+
| 204                   | No Content            | Specifies the normal  |
|                       |                       | response code for the |
|                       |                       | DELETE operation.     |
|                       |                       |                       |
|                       |                       | This code is returned |
|                       |                       | when no response body |
|                       |                       | is returned for the   |
|                       |                       | POST operation.       |
+-----------------------+-----------------------+-----------------------+

2. Error codes

+-------------+-------------+-------------+-------------+-------------+
| Status Code | Error Code  | Description | Error       | Measure     |
|             |             |             | Message     |             |
+=============+=============+=============+=============+=============+
| 400         | VPC.1801    | The ID is   | resource id | Use a       |
|             |             | incorrect.  | is          | correct     |
|             |             |             | inva        | resource    |
|             |             |             | lid/Getting | ID.         |
|             |             |             | id is       |             |
|             |             |             | invalid.    |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | An action   | action is   | Ensure that |
|             |             | error       | invalid.    | the value   |
|             |             | occurs.     |             | of          |
|             |             |             |             | **action**  |
|             |             |             |             | is          |
|             |             |             |             | **create**  |
|             |             |             |             | or          |
|             |             |             |             | **delete**. |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | The key     | Tag length  | Input a     |
|             |             | length is   | is invalid. | valid key.  |
|             |             | invalid.    | The key     |             |
|             |             |             | length must |             |
|             |             |             | be in range |             |
|             |             |             | [1,36] and  |             |
|             |             |             | value in    |             |
|             |             |             | range       |             |
|             |             |             | [0,43]      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.0007    | The project | urlTenantId | Check the   |
|             |             | ID is       | is not      | project ID. |
|             |             | incorrect.  | equal token |             |
|             |             |             | TenantId.   |             |
+-------------+-------------+-------------+-------------+-------------+
| 401         | VPC.0008    | The token   | Invalid     | Check       |
|             |             | in the      | token in    | whether the |
|             |             | request is  | the         | token is    |
|             |             | invalid or  | header./Au  | valid.      |
|             |             | the request | thorization |             |
|             |             | does not    | information |             |
|             |             | contain the | is wrong.   |             |
|             |             | token.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | The value   | Tag length  | Input a     |
|             |             | length is   | is invalid. | valid       |
|             |             | invalid.    | The key     | value.      |
|             |             |             | length must |             |
|             |             |             | be in range |             |
|             |             |             | [1,36] and  |             |
|             |             |             | value in    |             |
|             |             |             | range       |             |
|             |             |             | [0,43]      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | The key or  | Inval       | Check the   |
|             |             | value       | idInput/Tag | validity of |
|             |             | contains    | value xxx   | the key or  |
|             |             | invalid     | is invalid. | value.      |
|             |             | characters. |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | The key or  | Tag xxx can | Check       |
|             |             | value is    | not be      | whether the |
|             |             | left blank. | null.       | key or      |
|             |             |             |             | value is    |
|             |             |             |             | left blank. |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | The tag is  | Tag can not | Check       |
|             |             | null.       | be null.    | whether the |
|             |             |             |             | tag is      |
|             |             |             |             | null.       |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | A resource  | Resource    | Ensure that |
|             |             | type error  | xxx is      | the value   |
|             |             | occurs.     | invalid.    | of          |
|             |             |             |             | **reso      |
|             |             |             |             | urce_type** |
|             |             |             |             | is          |
|             |             |             |             | **load      |
|             |             |             |             | balancers** |
|             |             |             |             | or          |
|             |             |             |             | **l         |
|             |             |             |             | isteners**. |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | The total   | number of   | Reduce the  |
|             |             | number of   | tags        | number of   |
|             |             | tags added  | exceeds max | tags.       |
|             |             | at a time   | unm of 10.  |             |
|             |             | exceeds 10. |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1814    | The total   | Invalid     | Reduce the  |
|             |             | number of   | input for   | number of   |
|             |             | existing    | operation:  | tags.       |
|             |             | tags and    | r           |             |
|             |             | newly added | esource_id: |             |
|             |             | tags        | XXXX,       |             |
|             |             | exceeds 10. | number of   |             |
|             |             |             | tags exceed |             |
|             |             |             | max num of  |             |
|             |             |             | 10.         |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1814    | The key     | Invalid     | Change the  |
|             |             | values of   | input for   | tag values. |
|             |             | newly added | operation:  |             |
|             |             | tags are    | tags key is |             |
|             |             | duplicate.  | duplicated. |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1814    | The         | Resource    | Check       |
|             |             | resource ID | XXX XXX     | whether the |
|             |             | does not    | could not   | resource is |
|             |             | exist.      | be found.   | available.  |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1814    | The         | The         | Enter a     |
|             |             | specified   | resource    | correct key |
|             |             | key to be   | could not   | and send    |
|             |             | deleted     | be found.   | the request |
|             |             | does not    |             | again.      |
|             |             | exist, or   |             |             |
|             |             | the key is  |             |             |
|             |             | an empty    |             |             |
|             |             | string.     |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1814    | More than   | Invalid     | Each        |
|             |             | 10 tags are | input for   | resource    |
|             |             | added to a  | oper        | supports up |
|             |             | specified   | ation:resou | to 10 tags. |
|             |             | resource.   | rce_id:xxx, |             |
|             |             |             | number of   |             |
|             |             |             | tags        |             |
|             |             |             | exceeds max |             |
|             |             |             | num of 10.  |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | VPC.1801    | Tags are    | Tag key is  | Delete      |
|             |             | duplicate.  | repeated.   | duplicate   |
|             |             |             |             | tags and    |
|             |             |             |             | resend the  |
|             |             |             |             | request.    |
+-------------+-------------+-------------+-------------+-------------+
| 500         | -           | The request | Internal    | Use the     |
|             |             | format is   | Server      | correct     |
|             |             | incorrect.  | Error.      | request     |
|             |             |             |             | body        |
|             |             |             |             | format.     |
+-------------+-------------+-------------+-------------+-------------+

Dedicated Load Balancer APIs
============================

.. _api-call-precaution-2:

API Call Precaution
-------------------

By default, load balancers created in the **eu-nl** region are dedicated
load balancers. APIs for dedicated load balancers are only available in
this region. Shared load balancers and dedicated load balancers are
called elastic load balancers collectively.

.. _quota-2:

Quota
-----

1. .. rubric:: Querying Quotas
      :name: querying-quotas

   #. Function

This API is used to query resource quotas of a specific user.

2. URI

GET /v3/{project_id}/elb/quotas

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

4. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| quota                 | Table 4-4 object      | Specifies the quota   |
|                       |                       | details.              |
+-----------------------+-----------------------+-----------------------+

2. Quota

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| certificate           | Integer               | Specifies the         |
|                       |                       | certificate quota.    |
|                       |                       | **-1** indicates that |
|                       |                       | the quota is not      |
|                       |                       | limited.              |
+-----------------------+-----------------------+-----------------------+
| healthmonitor         | Integer               | Specifies the health  |
|                       |                       | check quota. **-1**   |
|                       |                       | indicates that the    |
|                       |                       | quota is not limited. |
+-----------------------+-----------------------+-----------------------+
| l7policy              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | quota. **-1**         |
|                       |                       | indicates that the    |
|                       |                       | quota is not limited. |
+-----------------------+-----------------------+-----------------------+
| listener              | Integer               | Specifies the         |
|                       |                       | listener quota.       |
|                       |                       | **-1** indicates that |
|                       |                       | the quota is not      |
|                       |                       | limited.              |
+-----------------------+-----------------------+-----------------------+
| loadbalancer          | Integer               | Specifies the load    |
|                       |                       | balancer quota.       |
|                       |                       | **-1** indicates that |
|                       |                       | the quota is not      |
|                       |                       | limited.              |
+-----------------------+-----------------------+-----------------------+
| member                | Integer               | Specifies the backend |
|                       |                       | server quota. **-1**  |
|                       |                       | indicates that the    |
|                       |                       | quota is not limited. |
+-----------------------+-----------------------+-----------------------+
| members_per_pool      | Integer               | Specifies the quota   |
|                       |                       | of backend servers in |
|                       |                       | a backend server      |
|                       |                       | group. **-1**         |
|                       |                       | indicates that the    |
|                       |                       | quota is not limited. |
+-----------------------+-----------------------+-----------------------+
| pool                  | Integer               | Specifies the backend |
|                       |                       | server group quota.   |
|                       |                       | **-1** indicates that |
|                       |                       | the quota is not      |
|                       |                       | limited.              |
+-----------------------+-----------------------+-----------------------+
| ipgroup               | Integer               | Specifies the IP      |
|                       |                       | address group quota.  |
|                       |                       | **-1** indicates that |
|                       |                       | the quota is not      |
|                       |                       | limited.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+

5. Example Requests

GET https://{elb_endpoint}/v3/{project_id}/elb/quotas

6. Example Responses

**Status code: 200**

Successful request.

| {
| "quota" : {
| "member" : 500,
| "members_per_pool" : 500,
| "certificate" : 120,
| "l7policy" : 500,
| "listener" : 100,
| "loadbalancer" : 50,
| "healthmonitor" : -1,
| "ipgroup" : 50,
| "pool" : 500,
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24"
| },
| "request_id" : "8d7eba6f-ec79-42d2-8d8c-16149645549d"
| }

7. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

8. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

AZ
--

1. .. rubric:: Querying AZs
      :name: querying-azs

   #. Function

This API is used to query all available AZs when you create a dedicated
load balancer.

One set of AZs is returned. When you create a dedicated load balancer,
you can select one or more AZs only in the set.

2. URI

GET /v3/{project_id}/elb/availability-zones

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

4. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| availability_zones    | Array<Array<Table     | Specifies the AZs     |
|                       | 4-8>>                 | that are available    |
|                       |                       | during load balancer  |
|                       |                       | creation.             |
+-----------------------+-----------------------+-----------------------+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+

2. AvailabilityZone

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| state                 | String                | Specifies the AZ      |
|                       |                       | status. The value can |
|                       |                       | only be **ACTIVE**.   |
+-----------------------+-----------------------+-----------------------+
| code                  | String                | Specifies the AZ      |
|                       |                       | code.                 |
+-----------------------+-----------------------+-----------------------+

5. Example Requests

| GET
| https://{ELB_Endpoint}/v3/060576782980d5762f9ec014dd2f1148/elb/availability-zones

6. Example Responses

**Status code: 200**

Successful request.

| {
| "availability_zones" : [ [ {
| "state" : "ACTIVE",
| "code" : "az1"
| }, {
| "state" : "ACTIVE",
| "code" : "az2"
| }, {
| "state" : "ACTIVE",
| "code" : "az3"
| } ] ],
| "request_id" : "0d799435-259e-459f-b2bc-0beee06f6a77"
| }

7. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

8. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Load Balancer Flavor
--------------------

1. .. rubric:: Querying Flavors
      :name: querying-flavors

   #. Function

This API is used to query all load balancer flavors that are available
to a specific user in a specific region.

2. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

3. URI

GET /v3/{project_id}/elb/flavors

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The last page   |
|                 |                 |                 | in the list     |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | flavor ID.      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | flavor name.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | Array           | Specifies the   |
|                 |                 |                 | flavor type.    |
|                 |                 |                 | Flavors can be  |
|                 |                 |                 | filtered by     |
|                 |                 |                 | type.           |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple types  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *type           |
|                 |                 |                 | =xxx&type=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| shared          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether the     |
|                 |                 |                 | flavor is       |
|                 |                 |                 | available to    |
|                 |                 |                 | all users.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**     |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that the     |
|                 |                 |                 |    flavor is    |
|                 |                 |                 |    available to |
|                 |                 |                 |    all users.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that the     |
|                 |                 |                 |    flavor is    |
|                 |                 |                 |    available    |
|                 |                 |                 |    only to a    |
|                 |                 |                 |    specific     |
|                 |                 |                 |    user.        |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| flavors               | Array of Table 4-13   | Lists the flavors.    |
|                       | objects               |                       |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-15 object     | Shows pagination      |
|                       |                       | information about the |
|                       |                       | load balancer         |
|                       |                       | flavors.              |
+-----------------------+-----------------------+-----------------------+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+

2. Flavor

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the flavor  |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| info                  | Table 4-14 object     | Specifies the flavor  |
|                       |                       | details.              |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the flavor  |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| shared                | Boolean               | Specifies whether the |
|                       |                       | flavor is available   |
|                       |                       | to all users.         |
|                       |                       |                       |
|                       |                       | -  **true** indicates |
|                       |                       |    that the flavor is |
|                       |                       |    available to all   |
|                       |                       |    users.             |
|                       |                       |                       |
|                       |                       | -  **false**          |
|                       |                       |    indicates that the |
|                       |                       |    flavor is          |
|                       |                       |    available only to  |
|                       |                       |    a specific user.   |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the flavor  |
|                       |                       | type. Flavors can be  |
|                       |                       | filtered by type.     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+

1. FlavorInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| connection            | Integer               | Specifies the maximum |
|                       |                       | concurrent            |
|                       |                       | connections.          |
+-----------------------+-----------------------+-----------------------+
| cps                   | Integer               | Specifies the number  |
|                       |                       | of new connections    |
|                       |                       | per second.           |
+-----------------------+-----------------------+-----------------------+
| qps                   | Integer               | Specifies the number  |
|                       |                       | of requests per       |
|                       |                       | second at Layer 7.    |
+-----------------------+-----------------------+-----------------------+
| bandwidth             | Integer               | Specifies the inbound |
|                       |                       | and outbound          |
|                       |                       | bandwidth in the unit |
|                       |                       | of Kbit/s.            |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{ELB_Endpoint}/v3/{060576782980d5762f9ec014dd2f1148}/elb/flavors?limit=2&marker=179568ef-5ba4-4ca0-8c5e-5d581db779b1

2. Example Responses

**Status code: 200**

Successful request.

| {
| "flavors" : [ {
| "shared" : true,
| "project_id" : "573d73c9f90e48d0bddfa0eb202b25c2",
| "info" : {
| "connection" : 1000000,
| "cps" : 80000,
| "qps" : 50000
| },
| "id" : "b2c5d750-5ea8-42f8-a6a8-8b0a1441168a",
| "name" : "L7_flavor.elb.s2.medium",
| "type" : "L7"
| }, {
| "shared" : true,
| "project_id" : "573d73c9f90e48d0bddfa0eb202b25c2",
| "info" : {
| "connection" : 6000,
| "cps" : 3000
| },
| "id" : "becf3beb-7653-45ab-a025-961597a901bc",
| "name" : "L4_flavor.elb.s2.small",
| "type" : "L4"
| }, {
| "shared" : true,
| "project_id" : "3fb9975312cc43808cb274e2ac25d30c",
| "info" : {
| "connection" : 6000,
| "cps" : 3000,
| "qps" : 1000
| },
| "id" : "fb9394ab-d63d-4b4d-8ea0-b6dc974accc6",
| "name" : "L7_flavor.elb.s1.small",
| "type" : "L7"
| } ],
| "page_info" : {
| "next_marker" : "fb9394ab-d63d-4b4d-8ea0-b6dc974accc6",
| "previous_marker" : "b2c5d750-5ea8-42f8-a6a8-8b0a1441168a",
| "current_count" : 3
| },
| "request_id" : "07b7cabe-bfb5-4809-8c28-5a90a961a707"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Flavor
~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of a flavor.

6. Constraints

This API can only be used to view the details of a flavor.

7. URI

GET /v3/{project_id}/elb/flavors/{flavor_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| flavor_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | flavor ID.      |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

9. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| flavor                | Table 4-19 object     | Specifies the flavor. |
+-----------------------+-----------------------+-----------------------+

2. Flavor

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the flavor  |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| info                  | Table 4-20 object     | Specifies the flavor  |
|                       |                       | details.              |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the flavor  |
|                       |                       | name.                 |
+-----------------------+-----------------------+-----------------------+
| shared                | Boolean               | Specifies whether the |
|                       |                       | flavor is available   |
|                       |                       | to all users.         |
|                       |                       |                       |
|                       |                       | -  **true** indicates |
|                       |                       |    that the flavor is |
|                       |                       |    available to all   |
|                       |                       |    users.             |
|                       |                       |                       |
|                       |                       | -  **false**          |
|                       |                       |    indicates that the |
|                       |                       |    flavor is          |
|                       |                       |    available only to  |
|                       |                       |    a specific user.   |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the flavor  |
|                       |                       | type. Flavors can be  |
|                       |                       | filtered by type.     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+

1. FlavorInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| connection            | Integer               | Specifies the maximum |
|                       |                       | concurrent            |
|                       |                       | connections.          |
+-----------------------+-----------------------+-----------------------+
| cps                   | Integer               | Specifies the number  |
|                       |                       | of new connections    |
|                       |                       | per second.           |
+-----------------------+-----------------------+-----------------------+
| qps                   | Integer               | Specifies the number  |
|                       |                       | of requests per       |
|                       |                       | second at Layer 7.    |
+-----------------------+-----------------------+-----------------------+
| bandwidth             | Integer               | Specifies the inbound |
|                       |                       | and outbound          |
|                       |                       | bandwidth in the unit |
|                       |                       | of Kbit/s.            |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

GET https://{elb_endpoint}/v3/{project_id}/elb/flavors/{flavor_id}

2. Example Responses

**Status code: 200**

Successful request.

| {
| "flavor" : {
| "shared" : true,
| "project_id" : "573d73c9f90e48d0bddfa0eb202b25c2",
| "info" : {
| "connection" : 6000,
| "cps" : 3000,
| "qps" : 1000
| },
| "id" : "becf3beb-7653-45ab-a025-961597a901bc",
| "name" : "L7_flavor.elb.s1.small",
| "type" : "L7"
| },
| "request_id" : "3b9fb516-b7bb-4760-9128-4a23dd36ae10"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _load-balancer-2:

Load Balancer
-------------

1. .. rubric:: Creating a Load Balancer
      :name: creating-a-load-balancer-2

   #. Function

This API is used to create a dedicated load balancer. When you create
the load balancer, note the following:

-  Specify both **vip_subnet_cidr_id** and **vip_address** if you want
   to bind a private IPv4 address to the load balancer.

-  Specify **publicip** and either **vpc_id** or **vip_subnet_cidr_id**
   if you want to bind a new IPv4 EIP to the load balancer.

-  Specify **publicip_ids** and either **vpc_id** or
   **vip_subnet_cidr_id** if you want to bind an existing IPv4 EIP to
   the load balancer.

-  Specify **ipv6_vip_virsubnet_id** you want to bind a private IPv6
   address to the load balancer.

-  Specify **ipv6_vip_virsubnet_id** and **ipv6_bandwidth** if you want
   to bind a public IPv6 address to the load balancer.

-  You cannot bind an occupied private IPv4 address, an occupied private
   IPv6 address, or an occupied public IPv6 address to the load
   balancer.

-  Dedicated load balancers with IPv6 addresses are not supported.

   #. Constraints

There are some constraints when you create a dedicated load balancer:

-  **vpc_id**, **vip_subnet_cidr_id**, and **ipv6_vip_virsubnet_id**
   cannot be left blank at the same time.

-  **ip_target_enable** specifies whether to enable cross-VPC backend.
   If you have a load balancer with this function enabled, you can add
   servers in a VPC connected through a VPC peering connection, in a VPC
   connected through a cloud connection, or in an on-premises data
   center at the other end of a Direct Connect or VPN connection, by
   using server IP addresses.

-  **admin_state_up** must be set to **true**.

-  **provider** must be set to **vlb**.

-  **elb_virsubnet_ids** indicates the subnets that support IPv4/IPv6
   dual stack or only IPv4 subnets. If only IPv4 subnets are supported,
   **ipv6_vip_virsubnet_id** must be left blank.

-  If you bind an EIP to the load balancer during creation, you cannot
   unbind it from the load balancer by calling the API after the load
   balancer is created. Instead, you can unbind the EIP only on the ELB
   console. Locate the dedicated load balancer in the load balancer list
   and click **More** > **Unbind EIP** in the **Operation** column.

-  **publicip_ids** and **publicip** cannot be specified at the same
   time. Set either **publicip_ids** to bind an existing EIP to the load
   balancer, or **publicip** to bind a new EIP to the load balancer, or
   neither of them.

-  If you want to add the load balancer to a shared bandwidth, you must
   specify the ID of the shared bandwidth. If you want the load balancer
   to use a new dedicated bandwidth, **charge_mode**, **share_type**,
   and **size** are required.

-  Dedicated load balancers are supported only in the **eu-nl** region.

   #. URI

POST /v3/{project_id}/elb/loadbalancers

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+

2. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | No              | String          | Shows           |
|                 |                 |                 | authentication  |
|                 |                 |                 | information.    |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer    | Yes             | Table 4-24      | Specifies the   |
|                 |                 | object          | load balancer.  |
+-----------------+-----------------+-----------------+-----------------+

3. CreateLoadBalancerOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| vip_address     | No              | String          | Specifies the   |
|                 |                 |                 | virtual IP      |
|                 |                 |                 | address bound   |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer. The   |
|                 |                 |                 | IP address must |
|                 |                 |                 | be from the     |
|                 |                 |                 | IPv4 subnet of  |
|                 |                 |                 | the VPC where   |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works  |
|                 |                 |                 | and IP address  |
|                 |                 |                 | should not be   |
|                 |                 |                 | occupied by     |
|                 |                 |                 | other services. |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  If both      |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    and          |
|                 |                 |                 |                 |
|                 |                 |                 | **vip_address** |
|                 |                 |                 |    are          |
|                 |                 |                 |    specified, a |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    with a       |
|                 |                 |                 |    private IPv4 |
|                 |                 |                 |    address will |
|                 |                 |                 |    be created,  |
|                 |                 |                 |    and the      |
|                 |                 |                 |    virtual IP   |
|                 |                 |                 |    address      |
|                 |                 |                 |    specified by |
|                 |                 |                 |                 |
|                 |                 |                 | **vip_address** |
|                 |                 |                 |    is the       |
|                 |                 |                 |    private IP   |
|                 |                 |                 |    address of   |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  If only      |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    is           |
|                 |                 |                 |    specified, a |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    with a       |
|                 |                 |                 |    private IPv4 |
|                 |                 |                 |    address will |
|                 |                 |                 |    be created,  |
|                 |                 |                 |    and the      |
|                 |                 |                 |    system will  |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    assign a     |
|                 |                 |                 |    virtual IP   |
|                 |                 |                 |    address to   |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
+-----------------+-----------------+-----------------+-----------------+
| vip             | No              | String          | Specifies the   |
| _subnet_cidr_id |                 |                 | ID of the IPv4  |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
|                 |                 |                 | You can query   |
|                 |                 |                 | **neut          |
|                 |                 |                 | ron_subnet_id** |
|                 |                 |                 | in the response |
|                 |                 |                 | by calling the  |
|                 |                 |                 | API (GET        |
|                 |                 |                 | htt             |
|                 |                 |                 | ps://{VPC_Endpo |
|                 |                 |                 | int}/v1/{projec |
|                 |                 |                 | t_id}/subnets). |
|                 |                 |                 |                 |
|                 |                 |                 | -  Both         |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    and          |
|                 |                 |                 |                 |
|                 |                 |                 | **vip_address** |
|                 |                 |                 |    are required |
|                 |                 |                 |    if you want  |
|                 |                 |                 |    to create a  |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    with a       |
|                 |                 |                 |    private IPv4 |
|                 |                 |                 |    address.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **publicip** |
|                 |                 |                 |    and either   |
|                 |                 |                 |    **vpc_id**   |
|                 |                 |                 |    or           |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    are required |
|                 |                 |                 |    if you want  |
|                 |                 |                 |    to create a  |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    with a new   |
|                 |                 |                 |    IPv4 EIP.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *publicip_ids** |
|                 |                 |                 |    and either   |
|                 |                 |                 |    **vpc_id**   |
|                 |                 |                 |    or           |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    are required |
|                 |                 |                 |    if you want  |
|                 |                 |                 |    to with a    |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    with an      |
|                 |                 |                 |    existing     |
|                 |                 |                 |    IPv4 EIP.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The subnet   |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    must be in   |
|                 |                 |                 |    the VPC      |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vpc_id**   |
|                 |                 |                 |    if you       |
|                 |                 |                 |    specify both |
|                 |                 |                 |    **vpc_id**   |
|                 |                 |                 |    and          |
|                 |                 |                 |    **vip_su     |
|                 |                 |                 | bnet_cidr_id**. |
+-----------------+-----------------+-----------------+-----------------+
| ipv6_v          | No              | String          | Specifies the   |
| ip_virsubnet_id |                 |                 | ID of the IPv6  |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
|                 |                 |                 | You can query   |
|                 |                 |                 | **id** in the   |
|                 |                 |                 | response by     |
|                 |                 |                 | calling the API |
|                 |                 |                 | (GET            |
|                 |                 |                 | htt             |
|                 |                 |                 | ps://{VPC_Endpo |
|                 |                 |                 | int}/v1/{projec |
|                 |                 |                 | t_id}/subnets). |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  **ipv6_vip   |
|                 |                 |                 | _virsubnet_id** |
|                 |                 |                 |    is required  |
|                 |                 |                 |    if you want  |
|                 |                 |                 |    to create a  |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    with a       |
|                 |                 |                 |    private IPv6 |
|                 |                 |                 |    address.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  Both         |
|                 |                 |                 |    **ipv6_vip   |
|                 |                 |                 | _virsubnet_id** |
|                 |                 |                 |    and          |
|                 |                 |                 |    **i          |
|                 |                 |                 | pv6_bandwidth** |
|                 |                 |                 |    are required |
|                 |                 |                 |    if you want  |
|                 |                 |                 |    to create a  |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    with a       |
|                 |                 |                 |    public IPv6  |
|                 |                 |                 |    address.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  The subnet   |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **ipv6_vip   |
|                 |                 |                 | _virsubnet_id** |
|                 |                 |                 |    must be in   |
|                 |                 |                 |    the VPC      |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vpc_id**   |
|                 |                 |                 |    if you       |
|                 |                 |                 |    specify both |
|                 |                 |                 |    **ipv6_vip   |
|                 |                 |                 | _virsubnet_id** |
|                 |                 |                 |    and          |
|                 |                 |                 |    **vpc_id**.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  IPv6 must be |
|                 |                 |                 |    enabled for  |
|                 |                 |                 |    the subnet   |
|                 |                 |                 |    where the    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    works.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| provider        | No              | String          | Specifies the   |
|                 |                 |                 | provider of the |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **vlb**.        |
+-----------------+-----------------+-----------------+-----------------+
| l4_flavor_id    | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | Layer-4 flavor. |
|                 |                 |                 |                 |
|                 |                 |                 | Specify either  |
|                 |                 |                 | *               |
|                 |                 |                 | *l4_flavor_id** |
|                 |                 |                 | or              |
|                 |                 |                 | *               |
|                 |                 |                 | *l7_flavor_id** |
|                 |                 |                 | or both         |
|                 |                 |                 | *               |
|                 |                 |                 | *l4_flavor_id** |
|                 |                 |                 | and             |
|                 |                 |                 | *               |
|                 |                 |                 | *l7_flavor_id** |
|                 |                 |                 | when you create |
|                 |                 |                 | a load          |
|                 |                 |                 | balancer.       |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| guaranteed      | No              | Boolean         | Specifies       |
|                 |                 |                 | whether the     |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is a dedicated  |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| vpc_id          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the VPC   |
|                 |                 |                 | where the load  |
|                 |                 |                 | balancer works. |
|                 |                 |                 | You can query   |
|                 |                 |                 | **id** in the   |
|                 |                 |                 | response by     |
|                 |                 |                 | calling the API |
|                 |                 |                 | (GET            |
|                 |                 |                 | https://{VPC_En |
|                 |                 |                 | dpoint}/v1/{pro |
|                 |                 |                 | ject_id}/vpcs). |
|                 |                 |                 |                 |
|                 |                 |                 | -  The subnet   |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    must be in   |
|                 |                 |                 |    the VPC      |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vpc_id**   |
|                 |                 |                 |    if you       |
|                 |                 |                 |    specify both |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    and          |
|                 |                 |                 |    **vpc_id**.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  The subnet   |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **ipv6_vip   |
|                 |                 |                 | _virsubnet_id** |
|                 |                 |                 |    must be in   |
|                 |                 |                 |    the VPC      |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vpc_id**   |
|                 |                 |                 |    if you       |
|                 |                 |                 |    specify both |
|                 |                 |                 |    **ipv6_vip   |
|                 |                 |                 | _virsubnet_id** |
|                 |                 |                 |    and          |
|                 |                 |                 |    **vpc_id**.  |
+-----------------+-----------------+-----------------+-----------------+
| availab         | Yes             | Array of        | Specifies the   |
| ility_zone_list |                 | strings         | list of AZs     |
|                 |                 |                 | where the load  |
|                 |                 |                 | balancer can be |
|                 |                 |                 | created. You    |
|                 |                 |                 | can query the   |
|                 |                 |                 | AZs by calling  |
|                 |                 |                 | the API (GET    |
|                 |                 |                 | htt             |
|                 |                 |                 | ps://{ELB_Endpo |
|                 |                 |                 | int}/v3/{projec |
|                 |                 |                 | t_id}/elb/avail |
|                 |                 |                 | ability-zones). |
|                 |                 |                 | Select one or   |
|                 |                 |                 | more AZs in the |
|                 |                 |                 | same set.       |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | String          | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID. The |
|                 |                 |                 | value cannot be |
|                 |                 |                 | **""**,         |
|                 |                 |                 | **"0"**, or the |
|                 |                 |                 | ID of an        |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project that    |
|                 |                 |                 | does not exist. |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not passed      |
|                 |                 |                 | during resource |
|                 |                 |                 | creation, the   |
|                 |                 |                 | resource        |
|                 |                 |                 | belongs to the  |
|                 |                 |                 | default         |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| tags            | No              | Array of Table  | Lists the tags  |
|                 |                 | 4-25 objects    | added to the    |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | Example:        |
|                 |                 |                 | "ta             |
|                 |                 |                 | gs":[{"key":"my |
|                 |                 |                 | _tag","value":" |
|                 |                 |                 | my_tag_value"}] |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| l7_flavor_id    | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | Layer-7 flavor. |
|                 |                 |                 |                 |
|                 |                 |                 | Specify either  |
|                 |                 |                 | *               |
|                 |                 |                 | *l4_flavor_id** |
|                 |                 |                 | or              |
|                 |                 |                 | *               |
|                 |                 |                 | *l7_flavor_id** |
|                 |                 |                 | or both         |
|                 |                 |                 | *               |
|                 |                 |                 | *l4_flavor_id** |
|                 |                 |                 | and             |
|                 |                 |                 | *               |
|                 |                 |                 | *l7_flavor_id** |
|                 |                 |                 | when you create |
|                 |                 |                 | a load          |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| billing_info    | No              | String          | Provides        |
|                 |                 |                 | billing         |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+
| ipv6_bandwidth  | No              | Table 4-26      | Specifies the   |
|                 |                 | object          | ID of the       |
|                 |                 |                 | bandwidth. This |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | when you create |
|                 |                 |                 | or update a     |
|                 |                 |                 | dedicated load  |
|                 |                 |                 | balancer that   |
|                 |                 |                 | has an IPv6     |
|                 |                 |                 | address bound.  |
|                 |                 |                 |                 |
|                 |                 |                 | If you use a    |
|                 |                 |                 | new IPv6        |
|                 |                 |                 | address and     |
|                 |                 |                 | specify a       |
|                 |                 |                 | shared          |
|                 |                 |                 | bandwidth, the  |
|                 |                 |                 | IPv6 address    |
|                 |                 |                 | will be added   |
|                 |                 |                 | to the shared   |
|                 |                 |                 | bandwidth.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| publicip_ids    | No              | Array of        | Specifies the   |
|                 |                 | strings         | ID of the EIP   |
|                 |                 |                 | the system will |
|                 |                 |                 | automatically   |
|                 |                 |                 | assign and bind |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer during |
|                 |                 |                 | load balancer   |
|                 |                 |                 | creation.       |
|                 |                 |                 | Currently, only |
|                 |                 |                 | the first EIP   |
|                 |                 |                 | will be bound   |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer        |
|                 |                 |                 | although        |
|                 |                 |                 | multiple EIP    |
|                 |                 |                 | IDs can be set. |
+-----------------+-----------------+-----------------+-----------------+
| publicip        | No              | Table 4-27      | Provides        |
|                 |                 | object          | information     |
|                 |                 |                 | about the new   |
|                 |                 |                 | IPv4 EIP that   |
|                 |                 |                 | will be bound   |
|                 |                 |                 | to the          |
|                 |                 |                 | dedicated load  |
|                 |                 |                 | balancer during |
|                 |                 |                 | load balancer   |
|                 |                 |                 | creation.       |
+-----------------+-----------------+-----------------+-----------------+
| el              | Yes             | Array of        | Lists the IDs   |
| b_virsubnet_ids |                 | strings         | of subnets on   |
|                 |                 |                 | the downstream  |
|                 |                 |                 | plane. You can  |
|                 |                 |                 | query parameter |
|                 |                 |                 | **id** in the   |
|                 |                 |                 | response by     |
|                 |                 |                 | calling the API |
|                 |                 |                 | (GET            |
|                 |                 |                 | htt             |
|                 |                 |                 | ps://{VPC_Endpo |
|                 |                 |                 | int}/v1/{projec |
|                 |                 |                 | t_id}/subnets). |
|                 |                 |                 |                 |
|                 |                 |                 | The subnets     |
|                 |                 |                 | must be in the  |
|                 |                 |                 | VPC where the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | works.          |
+-----------------+-----------------+-----------------+-----------------+
| i               | No              | Boolean         | Specifies       |
| p_target_enable |                 |                 | whether to      |
|                 |                 |                 | enable          |
|                 |                 |                 | cross-VPC       |
|                 |                 |                 | backend. The    |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true**        |
|                 |                 |                 | (enabled) or    |
|                 |                 |                 | **false**       |
|                 |                 |                 | (disabled).     |
|                 |                 |                 | This function   |
|                 |                 |                 | is supported    |
|                 |                 |                 | only by         |
|                 |                 |                 | dedicated load  |
|                 |                 |                 | balancers.      |
|                 |                 |                 |                 |
|                 |                 |                 | If you enable   |
|                 |                 |                 | this function,  |
|                 |                 |                 | you can add     |
|                 |                 |                 | servers in a    |
|                 |                 |                 | VPC connected   |
|                 |                 |                 | through a VPC   |
|                 |                 |                 | peering         |
|                 |                 |                 | connection, in  |
|                 |                 |                 | a VPC connected |
|                 |                 |                 | through a cloud |
|                 |                 |                 | connection, or  |
|                 |                 |                 | in an           |
|                 |                 |                 | on-premises     |
|                 |                 |                 | data center at  |
|                 |                 |                 | the other end   |
|                 |                 |                 | of a Direct     |
|                 |                 |                 | Connect or VPN  |
|                 |                 |                 | connection, by  |
|                 |                 |                 | using their IP  |
|                 |                 |                 | addresses.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. Tag

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | tag key.        |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | tag value.      |
+-----------------+-----------------+-----------------+-----------------+

2. BandwidthRef

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| id              | Yes             | String          | Specifies the   |
|                 |                 |                 | shared          |
|                 |                 |                 | bandwidth ID.   |
+-----------------+-----------------+-----------------+-----------------+

3. CreateLoadBalancerPublicIpOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| ip_version      | No              | Integer         | Specifies the   |
|                 |                 |                 | IP address      |
|                 |                 |                 | version. The    |
|                 |                 |                 | value can be    |
|                 |                 |                 | **4** (IPv4) or |
|                 |                 |                 | **6** (IPv6).   |
|                 |                 |                 |                 |
|                 |                 |                 | IPv6 is         |
|                 |                 |                 | unsupported.    |
|                 |                 |                 | The value       |
|                 |                 |                 | cannot be       |
|                 |                 |                 | **6**.          |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **4**  |
+-----------------+-----------------+-----------------+-----------------+
| network_type    | Yes             | String          | Specifies the   |
|                 |                 |                 | EIP type. The   |
|                 |                 |                 | value can be    |
|                 |                 |                 | **5_bgp**       |
|                 |                 |                 | (default) and   |
|                 |                 |                 | **5_mailbgp**.  |
|                 |                 |                 |                 |
|                 |                 |                 | NOTE            |
|                 |                 |                 |                 |
|                 |                 |                 | In **eu-de**,   |
|                 |                 |                 | the value of    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | can only be     |
|                 |                 |                 | **5_gray**.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| billing_info    | No              | String          | Provides        |
|                 |                 |                 | billing         |
|                 |                 |                 | information     |
|                 |                 |                 | about the IPv4  |
|                 |                 |                 | EIP. If         |
|                 |                 |                 | *               |
|                 |                 |                 | *billing_info** |
|                 |                 |                 | is not left     |
|                 |                 |                 | blank, the IPv4 |
|                 |                 |                 | EIP is billed   |
|                 |                 |                 | on a            |
|                 |                 |                 | yearly/monthly  |
|                 |                 |                 | basis.          |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the IPv4  |
|                 |                 |                 | EIP.            |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| bandwidth       | Yes             | Table 4-28      | Provides        |
|                 |                 | object          | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | bandwidth.      |
+-----------------+-----------------+-----------------+-----------------+

4. CreateLoadBalancerBandwidthOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | bandwidth name. |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **64** |
+-----------------+-----------------+-----------------+-----------------+
| size            | No              | Integer         | Specifies the   |
|                 |                 |                 | bandwidth       |
|                 |                 |                 | range.          |
|                 |                 |                 |                 |
|                 |                 |                 | The default     |
|                 |                 |                 | range is 1      |
|                 |                 |                 | Mbit/s to 2,000 |
|                 |                 |                 | Mbit/s. (The    |
|                 |                 |                 | specific range  |
|                 |                 |                 | may vary        |
|                 |                 |                 | depending on    |
|                 |                 |                 | the             |
|                 |                 |                 | configuration   |
|                 |                 |                 | in each region. |
|                 |                 |                 | You can see the |
|                 |                 |                 | available       |
|                 |                 |                 | bandwidth range |
|                 |                 |                 | on the          |
|                 |                 |                 | management      |
|                 |                 |                 | console.)       |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | The minimum     |
|                 |                 |                 | increment for   |
|                 |                 |                 | bandwidth       |
|                 |                 |                 | adjustment      |
|                 |                 |                 | varies          |
|                 |                 |                 | depending on    |
|                 |                 |                 | the bandwidth   |
|                 |                 |                 | range. The      |
|                 |                 |                 | following are   |
|                 |                 |                 | the details:    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The minimum  |
|                 |                 |                 |    increment is |
|                 |                 |                 |    1 Mbit/s if  |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    range is     |
|                 |                 |                 |    from 0       |
|                 |                 |                 |    Mbit/s to    |
|                 |                 |                 |    300 Mbit/s.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  The minimum  |
|                 |                 |                 |    increment is |
|                 |                 |                 |    50 Mbit/s if |
|                 |                 |                 |    the          |
|                 |                 |                 |    bandwidth    |
|                 |                 |                 |    range is     |
|                 |                 |                 |    from 300     |
|                 |                 |                 |    Mbit/s to    |
|                 |                 |                 |    1,000        |
|                 |                 |                 |    Mbit/s.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  The minimum  |
|                 |                 |                 |    increment is |
|                 |                 |                 |    500 Mbit/s   |
|                 |                 |                 |    if the       |
|                 |                 |                 |    bandwidth is |
|                 |                 |                 |    greater than |
|                 |                 |                 |    1,000        |
|                 |                 |                 |    Mbit/s.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory if |
|                 |                 |                 | **id** is set   |
|                 |                 |                 | to **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **99999**       |
+-----------------+-----------------+-----------------+-----------------+
| charge_mode     | No              | String          | Specifies how   |
|                 |                 |                 | the bandwidth   |
|                 |                 |                 | used by the EIP |
|                 |                 |                 | is billed.      |
|                 |                 |                 |                 |
|                 |                 |                 | Currently, the  |
|                 |                 |                 | bandwidth can   |
|                 |                 |                 | be billed only  |
|                 |                 |                 | by **traffic**. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory if |
|                 |                 |                 | **id** is set   |
|                 |                 |                 | to **null**.    |
+-----------------+-----------------+-----------------+-----------------+
| share_type      | No              | String          | Specifies the   |
|                 |                 |                 | bandwidth type. |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **PER**:     |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    bandwidth.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  **WHOLE**:   |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    shared       |
|                 |                 |                 |    bandwidth.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **id** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **null**. It    |
|                 |                 |                 | will be ignored |
|                 |                 |                 | if the value of |
|                 |                 |                 | **id** is not   |
|                 |                 |                 | **null**.       |
+-----------------+-----------------+-----------------+-----------------+
| billing_info    | No              | String          | Provides        |
|                 |                 |                 | billing         |
|                 |                 |                 | information     |
|                 |                 |                 | about the EIP.  |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not left blank, |
|                 |                 |                 | the bandwidth   |
|                 |                 |                 | is billed on a  |
|                 |                 |                 | yearly/monthly  |
|                 |                 |                 | basis.          |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | shared          |
|                 |                 |                 | bandwidth. You  |
|                 |                 |                 | can add a load  |
|                 |                 |                 | balancer to a   |
|                 |                 |                 | shared          |
|                 |                 |                 | bandwidth by    |
|                 |                 |                 | specifying its  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | If you have     |
|                 |                 |                 | specified an    |
|                 |                 |                 | ID, you do not  |
|                 |                 |                 | need to pass    |
|                 |                 |                 | other           |
|                 |                 |                 | parameters.     |
|                 |                 |                 | Even if you     |
|                 |                 |                 | pass other      |
|                 |                 |                 | parameters, the |
|                 |                 |                 | system will     |
|                 |                 |                 | automatically   |
|                 |                 |                 | ignore these    |
|                 |                 |                 | parameters.     |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancer          | Table 4-30 object     | Specifies the load    |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancer

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **Automatically       |
|                       |                       | generated**           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer. The value   |
|                       |                       | can only be **vlb**.  |
|                       |                       |                       |
|                       |                       | Default: **vlb**      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-31   | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-32   | Lists the IDs of      |
|                       | objects               | listeners added to    |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       | The value can only be |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IPv4 address bound to |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_cidr_id    | String                | Specifies the ID of   |
|                       |                       | the IPv4 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | virtual IP address    |
|                       |                       | (the value of         |
|                       |                       | **vip_address**) of   |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | When you create a     |
|                       |                       | dedicated load        |
|                       |                       | balancer, the system  |
|                       |                       | automatically creates |
|                       |                       | a port for the load   |
|                       |                       | balancer and          |
|                       |                       | associates the port   |
|                       |                       | with a default        |
|                       |                       | security group.       |
|                       |                       | However, security     |
|                       |                       | group rules           |
|                       |                       | containing the port   |
|                       |                       | will not affect       |
|                       |                       | traffic to and from   |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-33   | Lists the tags added  |
|                       | objects               | to the load balancer. |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| guaranteed            | Boolean               | Specifies whether the |
|                       |                       | load balancer is a    |
|                       |                       | dedicated load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. **true**   |
|                       |                       | indicates a dedicated |
|                       |                       | load balancer, and    |
|                       |                       | **false** indicates a |
|                       |                       | shared load balancer. |
|                       |                       | When dedicated load   |
|                       |                       | balancers are         |
|                       |                       | launched in the       |
|                       |                       | **eu-de** region,     |
|                       |                       | either **true** or    |
|                       |                       | **false** will be     |
|                       |                       | returned when you use |
|                       |                       | the API to query or   |
|                       |                       | update a load         |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| vpc_id                | String                | Specifies the ID of   |
|                       |                       | the VPC where the     |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| eips                  | Array of Table 4-34   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_address      | String                | Specifies the IPv6    |
|                       |                       | address bound to the  |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **None**     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_virsubnet_id | String                | Specifies the ID of   |
|                       |                       | the IPv6 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_port_id      | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | IPv6 address.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| a                     | Array of strings      | Specifies the list of |
| vailability_zone_list |                       | AZs where the load    |
|                       |                       | balancer is created.  |
+-----------------------+-----------------------+-----------------------+
| enterprise_project_id | String                | Specifies the         |
|                       |                       | enterprise project    |
|                       |                       | ID.                   |
|                       |                       |                       |
|                       |                       | If this parameter is  |
|                       |                       | not passed during     |
|                       |                       | resource creation,    |
|                       |                       | the resource belongs  |
|                       |                       | to the default        |
|                       |                       | enterprise project.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **0**        |
+-----------------------+-----------------------+-----------------------+
| billing_info          | String                | Provides billing      |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| l4_flavor_id          | String                | Specifies the Layer-4 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l4_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 4      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_flavor_id          | String                | Specifies the Layer-7 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 7      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| publicips             | Array of Table 4-35   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| elb_virsubnet_ids     | Array of strings      | Specifies the ID of   |
|                       |                       | the subnet on the     |
|                       |                       | downstream plane. The |
|                       |                       | ports used by the     |
|                       |                       | load balancer         |
|                       |                       | dynamically occupy IP |
|                       |                       | addresses in the      |
|                       |                       | subnet.               |
+-----------------------+-----------------------+-----------------------+
| ip_target_enable      | Boolean               | Specifies whether to  |
|                       |                       | enable cross-VPC      |
|                       |                       | backend.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| frozen_scene          | String                | Specifies the         |
|                       |                       | scenario where the    |
|                       |                       | load balancer is      |
|                       |                       | frozen. Use commas to |
|                       |                       | separate multiple     |
|                       |                       | scenarios.            |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **ARREAR**, the load  |
|                       |                       | balancer is frozen    |
|                       |                       | because your account  |
|                       |                       | is in arrears.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_bandwidth        | Table 4-36 object     | Specifies the ID of   |
|                       |                       | the bandwidth. This   |
|                       |                       | parameter is          |
|                       |                       | available only when   |
|                       |                       | you create or update  |
|                       |                       | a dedicated load      |
|                       |                       | balancer that has an  |
|                       |                       | IPv6 address bound.   |
|                       |                       |                       |
|                       |                       | If you use a new IPv6 |
|                       |                       | address and specify a |
|                       |                       | shared bandwidth, the |
|                       |                       | IPv6 address will be  |
|                       |                       | added to the shared   |
|                       |                       | bandwidth.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

3. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

5. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

6. EipInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| eip_id                | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| eip_address           | String                | Specifies the         |
|                       |                       | specific IP address.  |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. **4**        |
|                       |                       | indicates IPv4, and   |
|                       |                       | **6** indicates IPv6. |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

7. PublicIpInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| publicip_id           | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| publicip_address      | String                | Specifies the IP      |
|                       |                       | address.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. The value    |
|                       |                       | can be **4** (IPv4)   |
|                       |                       | or **6** (IPv6).      |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

8. BandwidthRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the shared  |
|                       |                       | bandwidth ID.         |
+-----------------------+-----------------------+-----------------------+

2. Example Requests

Example 1: Creating a load balancer with an IPv4 EIP

| POST
| https://{ELB_Endponit}/v3/060576782980d5762f9ec014dd2f1148/elb/loadbalancers
| {
| "loadbalancer" : {
| "vpc_id" : "e5a892ff-3c33-44ef-ada5-b713eb1f7a8b",
| "availability_zone_list" : [ "br-iaas-odin1a" ],
| "admin_state_up" : true,
| "vip_subnet_cidr_id" : "1800b6b8-a69f-4719-813d-24d62aaf32bd",
| "elb_virsubnet_ids" : [ "1fe8c0a8-d648-4294-8ea5-4d7f0c700e69" ],
| "name" : "elb-ipv4-public",
| "publicip" : {
| "network_type" : "5_bgp",
| "bandwidth" : {
| "size" : 2,
| "share_type" : "PER",
| "charge_mode" : "traffic",
| "name" : "elb_eip_traffic"
| }
| }
| }
| }

3. Example Responses

**Status code: 201**

Successful request.

| {
| "request_id" : "86bb342be098113734389bffcf593607",
| "loadbalancer" : {
| "id" : "badd5a4b-14cf-4319-ac91-4182a80dee9a",
| "project_id" : "060576782980d5762f9ec014dd2f1148",
| "name" : "elb-ipv4-public",
| "description" : "",
| "vip_port_id" : "265c13fb-49a9-4f51-b848-7f0cced0aef0",
| "vip_address" : "192.168.0.151",
| "admin_state_up" : true,
| "provisioning_status" : "ACTIVE",
| "operating_status" : "ONLINE",
| "listeners" : [ ],
| "pools" : [ ],
| "tags" : [ ],
| "provider" : "vlb",
| "created_at" : "2021-03-29T02:44:47Z",
| "updated_at" : "2021-03-29T02:44:47Z",
| "vpc_id" : "e5a892ff-3c33-44ef-ada5-b713eb1f7a8b",
| "enterprise_project_id" : "0",
| "availability_zone_list" : [ "br-iaas-odin1a" ],
| "publicips" : [ {
| "publicip_id" : "448d497a-8f65-4c17-b2b2-f21279446e00",
| "publicip_address" : "10.246.170.154",
| "ip_version" : 4
| } ],
| "elb_virsubnet_ids" : [ "4df3e391-5ebf-4300-b614-cf5a4e793666" ],
| "elb_virsubnet_type" : "dualstack",
| "ip_target_enable" : false,
| "eips" : [ {
| "eip_id" : "448d497a-8f65-4c17-b2b2-f21279446e00",
| "eip_address" : "10.246.170.154",
| "ip_version" : 4
| } ],
| "guaranteed" : true,
| "l4_flavor_id" : "e5acacda-f861-404e-9871-df480c49d185",
| "l7_flavor_id" : "2f124f60-980a-42f3-b201-35461df1b936",
| "vip_subnet_cidr_id" : "1800b6b8-a69f-4719-813d-24d62aaf32bd"
| }
| }

4. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

5. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-load-balancers-2:

Querying Load Balancers
~~~~~~~~~~~~~~~~~~~~~~~

6. Function

This API is used to query all load balancers. Both filtered query and
pagination query are supported.

7. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

8. URI

GET /v3/{project_id}/elb/loadbalancers

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The last page   |
|                 |                 |                 | in the list     |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | Array           | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | descriptions    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *des            |
|                 |                 |                 | cription=xxx&de |
|                 |                 |                 | scription=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| prov            | No              | Array           | Specifies the   |
| isioning_status |                 |                 | provisioning    |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **ACTIVE**,     |
|                 |                 |                 | indicating that |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | provisioned     |
|                 |                 |                 | successfully.   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | provisioning    |
|                 |                 |                 | statuses can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *prov           |
|                 |                 |                 | isioning_status |
|                 |                 |                 | =xxx&provisioni |
|                 |                 |                 | ng_status=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| o               | No              | Array           | Specifies the   |
| perating_status |                 |                 | operating       |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **ONLINE**,     |
|                 |                 |                 | indicating that |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer is     |
|                 |                 |                 | working         |
|                 |                 |                 | normally.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | operating       |
|                 |                 |                 | statuses can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *operating_sta  |
|                 |                 |                 | tus=xxx&operati |
|                 |                 |                 | ng_status=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| guaranteed      | No              | Boolean         | Specifies       |
|                 |                 |                 | whether the     |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is a dedicated  |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| vpc_id          | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the VPC   |
|                 |                 |                 | where the load  |
|                 |                 |                 | balancer works. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *vpc_id=x       |
|                 |                 |                 | xx&vpc_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| vip_port_id     | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the port  |
|                 |                 |                 | bound to the    |
|                 |                 |                 | virtual IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *vip            |
|                 |                 |                 | _port_id=xxx&vi |
|                 |                 |                 | p_port_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| vip_address     | No              | Array           | Specifies the   |
|                 |                 |                 | virtual IP      |
|                 |                 |                 | address bound   |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | virtual IP      |
|                 |                 |                 | addresses can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *vip            |
|                 |                 |                 | _address=xxx&vi |
|                 |                 |                 | p_address=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| vip             | No              | Array           | Specifies the   |
| _subnet_cidr_id |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *vi             |
|                 |                 |                 | p_subnet_cidr_i |
|                 |                 |                 | d=xxx&vip_subne |
|                 |                 |                 | t_cidr_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| l4_flavor_id    | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | flavor at Layer |
|                 |                 |                 | 4.              |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *l4_fl          |
|                 |                 |                 | avor_id=xxx&l4_ |
|                 |                 |                 | flavor_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| l4_             | No              | Array           | Specifies the   |
| scale_flavor_id |                 |                 | elastic flavor  |
|                 |                 |                 | that is         |
|                 |                 |                 | reserved for    |
|                 |                 |                 | now.            |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | flavors can be  |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *l4             |
|                 |                 |                 | _scale_flavor_i |
|                 |                 |                 | d=xxx&l4_scale_ |
|                 |                 |                 | flavor_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| i               | No              | Array           | Specifies the   |
| pv6_vip_address |                 |                 | IPv6 address    |
|                 |                 |                 | bound to the    |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IPv6   |
|                 |                 |                 | addresses can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *ipv6_vip_addr  |
|                 |                 |                 | ess=xxx&ipv6_vi |
|                 |                 |                 | p_address=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| ipv6_v          | No              | Array           | Specifies the   |
| ip_virsubnet_id |                 |                 | ID of the IPv6  |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *ipv6_vip       |
|                 |                 |                 | _virsubnet_id=x |
|                 |                 |                 | xx&ipv6_vip_vir |
|                 |                 |                 | subnet_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| i               | No              | Array           | Specifies the   |
| pv6_vip_port_id |                 |                 | ID of the port  |
|                 |                 |                 | bound to the    |
|                 |                 |                 | IPv6 address of |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple ports  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *ipv6_vip_port  |
|                 |                 |                 | _id=xxx&ipv6_vi |
|                 |                 |                 | p_port_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| availab         | No              | Array           | Specifies the   |
| ility_zone_list |                 |                 | list of AZs     |
|                 |                 |                 | where the load  |
|                 |                 |                 | balancer is     |
|                 |                 |                 | created. You    |
|                 |                 |                 | can query the   |
|                 |                 |                 | AZs by calling  |
|                 |                 |                 | the API         |
|                 |                 |                 | (/v3/{projec    |
|                 |                 |                 | t_id}/elb/avail |
|                 |                 |                 | ability-zones). |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple AZs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *availabili     |
|                 |                 |                 | ty_zone_list=xx |
|                 |                 |                 | x&availability_ |
|                 |                 |                 | zone_list=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| eips            | No              | Array           | Specifies the   |
|                 |                 |                 | EIP bound to    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | The following   |
|                 |                 |                 | is an example:  |
|                 |                 |                 |                 |
|                 |                 |                 | "eips": [ {     |
|                 |                 |                 | "eip_id":       |
|                 |                 |                 | "e9b72a9d       |
|                 |                 |                 | -4275-455e-a724 |
|                 |                 |                 | -853504e4d9c6", |
|                 |                 |                 | "eip_address":  |
|                 |                 |                 | "88.88.14.122", |
|                 |                 |                 | "ip_version": 4 |
|                 |                 |                 | } ]             |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple EIPs   |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *eip            |
|                 |                 |                 | s=eip_id=xxx&ei |
|                 |                 |                 | ps=eip_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| l7_flavor_id    | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | flavor at Layer |
|                 |                 |                 | 7.              |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | flavors can be  |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *l7_fl          |
|                 |                 |                 | avor_id=xxx&l7_ |
|                 |                 |                 | flavor_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| l7_             | No              | Array           | Specifies the   |
| scale_flavor_id |                 |                 | elastic flavor  |
|                 |                 |                 | that is         |
|                 |                 |                 | reserved for    |
|                 |                 |                 | now.            |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | flavors can be  |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *l7             |
|                 |                 |                 | _scale_flavor_i |
|                 |                 |                 | d=xxx&l7_scale_ |
|                 |                 |                 | flavor_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| billing_info    | No              | Array           | Provides        |
|                 |                 |                 | billing         |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer. Only  |
|                 |                 |                 | the             |
|                 |                 |                 | administrator   |
|                 |                 |                 | can update this |
|                 |                 |                 | parameter.      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple values |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *billi          |
|                 |                 |                 | ng_info=xxx&bil |
|                 |                 |                 | ling_info=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Array           | Specifies the   |
| ember_device_id |                 |                 | ID of the cloud |
|                 |                 |                 | server that     |
|                 |                 |                 | serves as a     |
|                 |                 |                 | backend server. |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is used only as |
|                 |                 |                 | a query         |
|                 |                 |                 | condition and   |
|                 |                 |                 | is not included |
|                 |                 |                 | in the          |
|                 |                 |                 | response.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *member_device  |
|                 |                 |                 | _id=xxx&member_ |
|                 |                 |                 | device_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| member_address  | No              | Array           | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address of the  |
|                 |                 |                 | backend server. |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is used only as |
|                 |                 |                 | a query         |
|                 |                 |                 | condition and   |
|                 |                 |                 | is not included |
|                 |                 |                 | in the          |
|                 |                 |                 | response.       |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | Array           | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    resources in |
|                 |                 |                 |    the default  |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project are  |
|                 |                 |                 |    queried, and |
|                 |                 |                 |                 |
|                 |                 |                 |  authentication |
|                 |                 |                 |    is performed |
|                 |                 |                 |    based on the |
|                 |                 |                 |    default      |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    passed, its  |
|                 |                 |                 |    value can be |
|                 |                 |                 |    the ID of an |
|                 |                 |                 |    existing     |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project or   |
|                 |                 |                 |    **all        |
|                 |                 |                 | _granted_eps**. |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | a specific ID,  |
|                 |                 |                 | resources in    |
|                 |                 |                 | the specific    |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project are     |
|                 |                 |                 | required. If    |
|                 |                 |                 | the value is    |
|                 |                 |                 | **all           |
|                 |                 |                 | _granted_eps**, |
|                 |                 |                 | resources in    |
|                 |                 |                 | all enterprise  |
|                 |                 |                 | projects are    |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *enterpri       |
|                 |                 |                 | se_project_id=x |
|                 |                 |                 | xx&enterprise_p |
|                 |                 |                 | roject_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| publicips       | No              | Array           | Specifies the   |
|                 |                 |                 | public IP       |
|                 |                 |                 | address bound   |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | The following   |
|                 |                 |                 | is an example:  |
|                 |                 |                 |                 |
|                 |                 |                 | "publicips": [  |
|                 |                 |                 | {               |
|                 |                 |                 | "publicip_id":  |
|                 |                 |                 | "e9b72a9d       |
|                 |                 |                 | -4275-455e-a724 |
|                 |                 |                 | -853504e4d9c6", |
|                 |                 |                 | "pub            |
|                 |                 |                 | licip_address": |
|                 |                 |                 | "88.88.14.122", |
|                 |                 |                 | "public         |
|                 |                 |                 | ip_ip_version": |
|                 |                 |                 | 4 } ]           |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple EIPs   |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *publicip       |
|                 |                 |                 | s=publicip_id=x |
|                 |                 |                 | xx&publicips=pu |
|                 |                 |                 | blicip_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| ip_version      | No              | Array           | Specifies the   |
|                 |                 |                 | IP version. The |
|                 |                 |                 | value can be    |
|                 |                 |                 | **4** (IPv4) or |
|                 |                 |                 | **6** (IPv6).   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | versions can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *i              |
|                 |                 |                 | p_version=xxx&i |
|                 |                 |                 | p_version=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | IPv6 is         |
|                 |                 |                 | unsupported.    |
|                 |                 |                 | The value       |
|                 |                 |                 | cannot be       |
|                 |                 |                 | **6**.          |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | No              | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancers         | Array of Table 4-41   | Lists the load        |
|                       | objects               | balancers.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-48 object     | Provides load         |
|                       |                       | balancer pagination   |
|                       |                       | information.          |
+-----------------------+-----------------------+-----------------------+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancer

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **Automatically       |
|                       |                       | generated**           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer. The value   |
|                       |                       | can only be **vlb**.  |
|                       |                       |                       |
|                       |                       | Default: **vlb**      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-42   | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-43   | Lists the IDs of      |
|                       | objects               | listeners added to    |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       | The value can only be |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IPv4 address bound to |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_cidr_id    | String                | Specifies the ID of   |
|                       |                       | the IPv4 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | virtual IP address    |
|                       |                       | (the value of         |
|                       |                       | **vip_address**) of   |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | When you create a     |
|                       |                       | dedicated load        |
|                       |                       | balancer, the system  |
|                       |                       | automatically creates |
|                       |                       | a port for the load   |
|                       |                       | balancer and          |
|                       |                       | associates the port   |
|                       |                       | with a default        |
|                       |                       | security group.       |
|                       |                       | However, security     |
|                       |                       | group rules           |
|                       |                       | containing the port   |
|                       |                       | will not affect       |
|                       |                       | traffic to and from   |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-44   | Lists the tags added  |
|                       | objects               | to the load balancer. |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| guaranteed            | Boolean               | Specifies whether the |
|                       |                       | load balancer is a    |
|                       |                       | dedicated load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. **true**   |
|                       |                       | indicates a dedicated |
|                       |                       | load balancer, and    |
|                       |                       | **false** indicates a |
|                       |                       | shared load balancer. |
|                       |                       | When dedicated load   |
|                       |                       | balancers are         |
|                       |                       | launched in the       |
|                       |                       | **eu-de** region,     |
|                       |                       | either **true** or    |
|                       |                       | **false** will be     |
|                       |                       | returned when you use |
|                       |                       | the API to query or   |
|                       |                       | update a load         |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| vpc_id                | String                | Specifies the ID of   |
|                       |                       | the VPC where the     |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| eips                  | Array of Table 4-45   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_address      | String                | Specifies the IPv6    |
|                       |                       | address bound to the  |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **None**     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_virsubnet_id | String                | Specifies the ID of   |
|                       |                       | the IPv6 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_port_id      | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | IPv6 address.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| a                     | Array of strings      | Specifies the list of |
| vailability_zone_list |                       | AZs where the load    |
|                       |                       | balancer is created.  |
+-----------------------+-----------------------+-----------------------+
| enterprise_project_id | String                | Specifies the         |
|                       |                       | enterprise project    |
|                       |                       | ID.                   |
|                       |                       |                       |
|                       |                       | If this parameter is  |
|                       |                       | not passed during     |
|                       |                       | resource creation,    |
|                       |                       | the resource belongs  |
|                       |                       | to the default        |
|                       |                       | enterprise project.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **0**        |
+-----------------------+-----------------------+-----------------------+
| billing_info          | String                | Provides billing      |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| l4_flavor_id          | String                | Specifies the Layer-4 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l4_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 4      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_flavor_id          | String                | Specifies the Layer-7 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 7      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| publicips             | Array of Table 4-46   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| elb_virsubnet_ids     | Array of strings      | Specifies the ID of   |
|                       |                       | the subnet on the     |
|                       |                       | downstream plane. The |
|                       |                       | ports used by the     |
|                       |                       | load balancer         |
|                       |                       | dynamically occupy IP |
|                       |                       | addresses in the      |
|                       |                       | subnet.               |
+-----------------------+-----------------------+-----------------------+
| ip_target_enable      | Boolean               | Specifies whether to  |
|                       |                       | enable cross-VPC      |
|                       |                       | backend.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| frozen_scene          | String                | Specifies the         |
|                       |                       | scenario where the    |
|                       |                       | load balancer is      |
|                       |                       | frozen. Use commas to |
|                       |                       | separate multiple     |
|                       |                       | scenarios.            |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **ARREAR**, the load  |
|                       |                       | balancer is frozen    |
|                       |                       | because your account  |
|                       |                       | is in arrears.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_bandwidth        | Table 4-47 object     | Specifies the ID of   |
|                       |                       | the bandwidth. This   |
|                       |                       | parameter is          |
|                       |                       | available only when   |
|                       |                       | you create or update  |
|                       |                       | a dedicated load      |
|                       |                       | balancer that has an  |
|                       |                       | IPv6 address bound.   |
|                       |                       |                       |
|                       |                       | If you use a new IPv6 |
|                       |                       | address and specify a |
|                       |                       | shared bandwidth, the |
|                       |                       | IPv6 address will be  |
|                       |                       | added to the shared   |
|                       |                       | bandwidth.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

3. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

5. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

6. EipInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| eip_id                | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| eip_address           | String                | Specifies the         |
|                       |                       | specific IP address.  |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. **4**        |
|                       |                       | indicates IPv4, and   |
|                       |                       | **6** indicates IPv6. |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

7. PublicIpInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| publicip_id           | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| publicip_address      | String                | Specifies the IP      |
|                       |                       | address.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. The value    |
|                       |                       | can be **4** (IPv4)   |
|                       |                       | or **6** (IPv6).      |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

8. BandwidthRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the shared  |
|                       |                       | bandwidth ID.         |
+-----------------------+-----------------------+-----------------------+

9. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. Example Requests

| GET
| https://{elb_endpoint}/v3/{project_id}/elb/loadbalancers?limit={num}&marker={loadbalancer_id}

4. Example Responses

**Status code: 200**

Successful request.

| {
| "loadbalancers" : [ {
| "id" : "87627cb6-9ff1-4580-984f-cc564fa9fc34",
| "project_id" : "b2782e6708b8475c993e6064bc456bf8",
| "name" : "loadbalancer-cyf",
| "description" : "simple lb-cyf",
| "vip_port_id" : "0381c10b-4927-4fa5-a7b5-fa529c162a06",
| "vip_address" : "192.168.0.26",
| "admin_state_up" : true,
| "provisioning_status" : "ACTIVE",
| "operating_status" : "ONLINE",
| "listeners" : [ ],
| "pools" : [ ],
| "tags" : [ ],
| "provider" : "vlb",
| "created_at" : "2019-05-24T02:09:39Z",
| "updated_at" : "2019-05-24T02:09:39Z",
| "vpc_id" : "2037c5bb-e04b-4de2-9300-9051af18e417",
| "enterprise_project_id" : "0",
| "availability_zone_list" : [ "AZ1" ],
| "elb_virsubnet_ids" : [ "ad5d63bf-3b50-4e88-b4d9-e94a59aade48" ],
| "eips" : [ ],
| "guaranteed" : true,
| "l4_flavor_id" : "22365281-de68-45e4-ada4-b0920b6da3c2",
| "l7_flavor_id" : "0942eb8f-51fa-4354-87b1-bf4cfeca4823",
| "vip_subnet_cidr_id" : "1992ec06-f364-4ae3-b936-6a8cc24633b7"
| }, {
| "id" : "09e86f09-03fc-440e-8132-03f3e149e979",
| "project_id" : "b2782e6708b8475c993e6064bc456bf8",
| "name" : "loadbalancer-cyf",
| "description" : "simple lb-cyf",
| "vip_port_id" : "e0bb984a-d094-4559-9b3b-bd61b5eb3a8f",
| "vip_address" : "192.168.0.47",
| "admin_state_up" : true,
| "provisioning_status" : "ACTIVE",
| "operating_status" : "ONLINE",
| "listeners" : [ ],
| "pools" : [ ],
| "tags" : [ ],
| "provider" : "vlb",
| "created_at" : "2019-05-24T02:02:01Z",
| "updated_at" : "2019-05-24T02:02:01Z",
| "vpc_id" : "2037c5bb-e04b-4de2-9300-9051af18e417",
| "enterprise_project_id" : "0",
| "availability_zone_list" : [ "AZ1" ],
| "elb_virsubnet_ids" : [ "ad5d63bf-3b50-4e88-b4d9-e94a59aade48" ],
| "eips" : [ ],
| "guaranteed" : true,
| "vip_subnet_cidr_id" : "1992ec06-f364-4ae3-b936-6a8cc24633b7"
| } ],
| "page_info" : {
| "next_marker" : "09e86f09-03fc-440e-8132-03f3e149e979",
| "previous_marker" : "87627cb6-9ff1-4580-984f-cc564fa9fc34",
| "current_count" : 2
| },
| "request_id" : "8709f187-c879-446c-a198-8f93ede2c178"
| }

5. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

6. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

7. Function

This API is used to view details of a load balancer.

8. URI

GET /v3/{project_id}/elb/loadbalancers/{loadbalancer_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

9. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

10. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| loadbalancer          | Table 4-52 object     | Specifies the load    |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancer

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **Automatically       |
|                       |                       | generated**           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer. The value   |
|                       |                       | can only be **vlb**.  |
|                       |                       |                       |
|                       |                       | Default: **vlb**      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-53   | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-54   | Lists the IDs of      |
|                       | objects               | listeners added to    |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       | The value can only be |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IPv4 address bound to |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_cidr_id    | String                | Specifies the ID of   |
|                       |                       | the IPv4 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | virtual IP address    |
|                       |                       | (the value of         |
|                       |                       | **vip_address**) of   |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | When you create a     |
|                       |                       | dedicated load        |
|                       |                       | balancer, the system  |
|                       |                       | automatically creates |
|                       |                       | a port for the load   |
|                       |                       | balancer and          |
|                       |                       | associates the port   |
|                       |                       | with a default        |
|                       |                       | security group.       |
|                       |                       | However, security     |
|                       |                       | group rules           |
|                       |                       | containing the port   |
|                       |                       | will not affect       |
|                       |                       | traffic to and from   |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-55   | Lists the tags added  |
|                       | objects               | to the load balancer. |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| guaranteed            | Boolean               | Specifies whether the |
|                       |                       | load balancer is a    |
|                       |                       | dedicated load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. **true**   |
|                       |                       | indicates a dedicated |
|                       |                       | load balancer, and    |
|                       |                       | **false** indicates a |
|                       |                       | shared load balancer. |
|                       |                       | When dedicated load   |
|                       |                       | balancers are         |
|                       |                       | launched in the       |
|                       |                       | **eu-de** region,     |
|                       |                       | either **true** or    |
|                       |                       | **false** will be     |
|                       |                       | returned when you use |
|                       |                       | the API to query or   |
|                       |                       | update a load         |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| vpc_id                | String                | Specifies the ID of   |
|                       |                       | the VPC where the     |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| eips                  | Array of Table 4-56   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_address      | String                | Specifies the IPv6    |
|                       |                       | address bound to the  |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **None**     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_virsubnet_id | String                | Specifies the ID of   |
|                       |                       | the IPv6 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_port_id      | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | IPv6 address.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| a                     | Array of strings      | Specifies the list of |
| vailability_zone_list |                       | AZs where the load    |
|                       |                       | balancer is created.  |
+-----------------------+-----------------------+-----------------------+
| enterprise_project_id | String                | Specifies the         |
|                       |                       | enterprise project    |
|                       |                       | ID.                   |
|                       |                       |                       |
|                       |                       | If this parameter is  |
|                       |                       | not passed during     |
|                       |                       | resource creation,    |
|                       |                       | the resource belongs  |
|                       |                       | to the default        |
|                       |                       | enterprise project.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **0**        |
+-----------------------+-----------------------+-----------------------+
| billing_info          | String                | Provides billing      |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| l4_flavor_id          | String                | Specifies the Layer-4 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l4_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 4      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_flavor_id          | String                | Specifies the Layer-7 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 7      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| publicips             | Array of Table 4-57   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| elb_virsubnet_ids     | Array of strings      | Specifies the ID of   |
|                       |                       | the subnet on the     |
|                       |                       | downstream plane. The |
|                       |                       | ports used by the     |
|                       |                       | load balancer         |
|                       |                       | dynamically occupy IP |
|                       |                       | addresses in the      |
|                       |                       | subnet.               |
+-----------------------+-----------------------+-----------------------+
| ip_target_enable      | Boolean               | Specifies whether to  |
|                       |                       | enable cross-VPC      |
|                       |                       | backend.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| frozen_scene          | String                | Specifies the         |
|                       |                       | scenario where the    |
|                       |                       | load balancer is      |
|                       |                       | frozen. Use commas to |
|                       |                       | separate multiple     |
|                       |                       | scenarios.            |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **ARREAR**, the load  |
|                       |                       | balancer is frozen    |
|                       |                       | because your account  |
|                       |                       | is in arrears.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_bandwidth        | Table 4-58 object     | Specifies the ID of   |
|                       |                       | the bandwidth. This   |
|                       |                       | parameter is          |
|                       |                       | available only when   |
|                       |                       | you create or update  |
|                       |                       | a dedicated load      |
|                       |                       | balancer that has an  |
|                       |                       | IPv6 address bound.   |
|                       |                       |                       |
|                       |                       | If you use a new IPv6 |
|                       |                       | address and specify a |
|                       |                       | shared bandwidth, the |
|                       |                       | IPv6 address will be  |
|                       |                       | added to the shared   |
|                       |                       | bandwidth.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

3. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

5. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

6. EipInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| eip_id                | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| eip_address           | String                | Specifies the         |
|                       |                       | specific IP address.  |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. **4**        |
|                       |                       | indicates IPv4, and   |
|                       |                       | **6** indicates IPv6. |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

7. PublicIpInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| publicip_id           | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| publicip_address      | String                | Specifies the IP      |
|                       |                       | address.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. The value    |
|                       |                       | can be **4** (IPv4)   |
|                       |                       | or **6** (IPv6).      |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

8. BandwidthRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the shared  |
|                       |                       | bandwidth ID.         |
+-----------------------+-----------------------+-----------------------+

11. Example Requests

Viewing details of a load balancer

| GET /v3/{project_id}/elb/loadbalancers/{loadbalancer_id}
| GET
| https://elb.br-iaas-odin1.huaweicloud.com/v3/060576782980d5762f9ec014dd2f1148/elb/loadbalancers/3dbde7e5-c277-4ea3-a424-edd339357eff

12. Example Responses

**Status code: 200**

Successful request.

| {
| "loadbalancer" : {
| "id" : "3dbde7e5-c277-4ea3-a424-edd339357eff",
| "project_id" : "060576782980d5762f9ec014dd2f1148",
| "name" : "elb-l4-no-delete",
| "vip_port_id" : "f079c7ee-65a9-44ef-be86-53d8927e59be",
| "vip_address" : "10.0.0.196",
| "admin_state_up" : true,
| "provisioning_status" : "ACTIVE",
| "operating_status" : "ONLINE",
| "listeners" : [ ],
| "pools" : [ {
| "id" : "1d864dc9-f6ef-4366-b59d-7034cde2328f"
| }, {
| "id" : "c0a2e4a1-c028-4a24-a62f-e721c52f5513"
| }, {
| "id" : "79308896-6169-4c28-acbc-e139eb661996"
| } ],
| "tags" : [ ],
| "created_at" : "2019-12-02T09:55:11Z",
| "updated_at" : "2019-12-02T09:55:11Z",
| "vpc_id" : "70711260-9de9-4d96-9839-0ae698e00109",
| "enterprise_project_id" : "0",
| "availability_zone_list" : [ ],
| "publicips" : [ ],
| "elb_virsubnet_ids" : [ "ad5d63bf-3b50-4e88-b4d9-e94a59aade48" ],
| "eips" : [ ],
| "guaranteed" : true,
| "billing_info" : "BETA",
| "l4_flavor_id" : "e5acacda-f861-404e-9871-df480c49d185",
| "vip_subnet_cidr_id" : "396d918a-756e-4163-8450-3bdc860109cf"
| },
| "request_id" : "1a47cfbf-969f-4e40-8c0e-c2e60b14bcac"
| }

13. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

14. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-load-balancer-1:

Updating a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~

15. Function

This API is used to update a load balancer.

16. URI

PUT /v3/{project_id}/elb/loadbalancers/{loadbalancer_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

17. Request Parameters

    1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| loadbalancer    | Yes             | Table 4-62      | Specifies the   |
|                 |                 | object          | load balancer.  |
+-----------------+-----------------+-----------------+-----------------+

3. UpdateLoadBalancerOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | load balancer.  |
|                 |                 |                 | And the value   |
|                 |                 |                 | can only be     |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the load  |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| ipv6_v          | No              | String          | Specifies the   |
| ip_virsubnet_id |                 |                 | ID of the IPv6  |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
|                 |                 |                 | You can query   |
|                 |                 |                 | **id** in the   |
|                 |                 |                 | response by     |
|                 |                 |                 | calling the API |
|                 |                 |                 | (GET            |
|                 |                 |                 | htt             |
|                 |                 |                 | ps://{VPC_Endpo |
|                 |                 |                 | int}/v1/{projec |
|                 |                 |                 | t_id}/subnets). |
|                 |                 |                 |                 |
|                 |                 |                 | The IPv6 subnet |
|                 |                 |                 | can be updated  |
|                 |                 |                 | using           |
|                 |                 |                 | **ipv6_vip_     |
|                 |                 |                 | virsubnet_id**, |
|                 |                 |                 | and the private |
|                 |                 |                 | IPv6 address of |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer will   |
|                 |                 |                 | be changed      |
|                 |                 |                 | accordingly.    |
|                 |                 |                 |                 |
|                 |                 |                 | The IPv6 subnet |
|                 |                 |                 | must be in the  |
|                 |                 |                 | VPC specified   |
|                 |                 |                 | by **vpc_id**.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  **ipv6_vip   |
|                 |                 |                 | _virsubnet_id** |
|                 |                 |                 |    can be       |
|                 |                 |                 |    updated only |
|                 |                 |                 |    when         |
|                 |                 |                 |                 |
|                 |                 |                 |  **guaranteed** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Enter        |
|                 |                 |                 |    **null** if  |
|                 |                 |                 |    the IPv6     |
|                 |                 |                 |    address is   |
|                 |                 |                 |    unbound from |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| vip             | No              | String          | Specifies the   |
| _subnet_cidr_id |                 |                 | ID of the IPv4  |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works. |
|                 |                 |                 | You can query   |
|                 |                 |                 | **neut          |
|                 |                 |                 | ron_subnet_id** |
|                 |                 |                 | in the response |
|                 |                 |                 | by calling the  |
|                 |                 |                 | API (GET        |
|                 |                 |                 | htt             |
|                 |                 |                 | ps://{VPC_Endpo |
|                 |                 |                 | int}/v1/{projec |
|                 |                 |                 | t_id}/subnets). |
|                 |                 |                 |                 |
|                 |                 |                 | -  The IPv4     |
|                 |                 |                 |    subnet can   |
|                 |                 |                 |    be updated   |
|                 |                 |                 |    using        |
|                 |                 |                 |    **vip_su     |
|                 |                 |                 | bnet_cidr_id**, |
|                 |                 |                 |    and the      |
|                 |                 |                 |    private IPv4 |
|                 |                 |                 |    address of   |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer     |
|                 |                 |                 |    will be      |
|                 |                 |                 |    changed      |
|                 |                 |                 |    accordingly. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |                 |
|                 |                 |                 | **vip_address** |
|                 |                 |                 |    is also      |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the IP       |
|                 |                 |                 |    address      |
|                 |                 |                 |    specified by |
|                 |                 |                 |    it must be   |
|                 |                 |                 |    in the       |
|                 |                 |                 |    subnet       |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    and will be  |
|                 |                 |                 |    used as the  |
|                 |                 |                 |    private IPv4 |
|                 |                 |                 |    address of   |
|                 |                 |                 |    the load     |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The IPv4     |
|                 |                 |                 |    subnet must  |
|                 |                 |                 |    be in the    |
|                 |                 |                 |    VPC          |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **vpc_id**.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  **vip_s      |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    can be       |
|                 |                 |                 |    updated only |
|                 |                 |                 |    when         |
|                 |                 |                 |                 |
|                 |                 |                 |  **guaranteed** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  Enter        |
|                 |                 |                 |    **null** if  |
|                 |                 |                 |    the private  |
|                 |                 |                 |    IPv4 address |
|                 |                 |                 |    is unbound   |
|                 |                 |                 |    from the     |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancer.    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| vip_address     | No              | String          | Specifies the   |
|                 |                 |                 | virtual IP      |
|                 |                 |                 | address bound   |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer. The   |
|                 |                 |                 | IP address must |
|                 |                 |                 | be from the     |
|                 |                 |                 | IPv4 subnet of  |
|                 |                 |                 | the VPC where   |
|                 |                 |                 | the load        |
|                 |                 |                 | balancer works  |
|                 |                 |                 | and IP address  |
|                 |                 |                 | should not be   |
|                 |                 |                 | occupied by     |
|                 |                 |                 | other services. |
|                 |                 |                 |                 |
|                 |                 |                 | The IP address  |
|                 |                 |                 | specified by    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | must be in the  |
|                 |                 |                 | subnet          |
|                 |                 |                 | specified by    |
|                 |                 |                 | **vip_s         |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 | and will be     |
|                 |                 |                 | used as the     |
|                 |                 |                 | private IPv4    |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | **vip_address** |
|                 |                 |                 | can be updated  |
|                 |                 |                 | only when       |
|                 |                 |                 | **guaranteed**  |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| l4_flavor_id    | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | Layer-4 flavor. |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    updated only |
|                 |                 |                 |    when         |
|                 |                 |                 |                 |
|                 |                 |                 |  **guaranteed** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    changed from |
|                 |                 |                 |    **null** to  |
|                 |                 |                 |    a specific   |
|                 |                 |                 |    value, or    |
|                 |                 |                 |    the other    |
|                 |                 |                 |    way around.  |
|                 |                 |                 |    If you need  |
|                 |                 |                 |    to change    |
|                 |                 |                 |    the flavor,  |
|                 |                 |                 |    you must     |
|                 |                 |                 |    select a     |
|                 |                 |                 |    larger one.  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| l7_flavor_id    | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | Layer-7 flavor. |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can be       |
|                 |                 |                 |    updated only |
|                 |                 |                 |    when         |
|                 |                 |                 |                 |
|                 |                 |                 |  **guaranteed** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    changed from |
|                 |                 |                 |    **null** to  |
|                 |                 |                 |    a specific   |
|                 |                 |                 |    value, or    |
|                 |                 |                 |    the other    |
|                 |                 |                 |    way around.  |
|                 |                 |                 |    If you need  |
|                 |                 |                 |    to change    |
|                 |                 |                 |    the flavor,  |
|                 |                 |                 |    you must     |
|                 |                 |                 |    select a     |
|                 |                 |                 |    larger one.  |
+-----------------+-----------------+-----------------+-----------------+
| ipv6_bandwidth  | No              | Table 4-63      | Specifies the   |
|                 |                 | object          | ID of the       |
|                 |                 |                 | bandwidth. This |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | when you create |
|                 |                 |                 | or update a     |
|                 |                 |                 | dedicated load  |
|                 |                 |                 | balancer that   |
|                 |                 |                 | has an IPv6     |
|                 |                 |                 | address bound.  |
|                 |                 |                 |                 |
|                 |                 |                 | If you use a    |
|                 |                 |                 | new IPv6        |
|                 |                 |                 | address and     |
|                 |                 |                 | specify a       |
|                 |                 |                 | shared          |
|                 |                 |                 | bandwidth, the  |
|                 |                 |                 | IPv6 address    |
|                 |                 |                 | will be added   |
|                 |                 |                 | to the shared   |
|                 |                 |                 | bandwidth.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| i               | No              | Boolean         | Specifies       |
| p_target_enable |                 |                 | whether to      |
|                 |                 |                 | enable          |
|                 |                 |                 | cross-VPC       |
|                 |                 |                 | backend. The    |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. BandwidthRef

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| id              | Yes             | String          | Specifies the   |
|                 |                 |                 | shared          |
|                 |                 |                 | bandwidth ID.   |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| loadbalancer          | Table 4-65 object     | Specifies the load    |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancer

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **Automatically       |
|                       |                       | generated**           |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the load balancer. |
|                       |                       | The value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| provider              | String                | Specifies the         |
|                       |                       | provider of the load  |
|                       |                       | balancer. The value   |
|                       |                       | can only be **vlb**.  |
|                       |                       |                       |
|                       |                       | Default: **vlb**      |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-66   | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-67   | Lists the IDs of      |
|                       | objects               | listeners added to    |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       | The value can only be |
|                       |                       | **ONLINE**.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| vip_address           | String                | Specifies the private |
|                       |                       | IPv4 address bound to |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| vip_subnet_cidr_id    | String                | Specifies the ID of   |
|                       |                       | the IPv4 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| vip_port_id           | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | virtual IP address    |
|                       |                       | (the value of         |
|                       |                       | **vip_address**) of   |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | When you create a     |
|                       |                       | dedicated load        |
|                       |                       | balancer, the system  |
|                       |                       | automatically creates |
|                       |                       | a port for the load   |
|                       |                       | balancer and          |
|                       |                       | associates the port   |
|                       |                       | with a default        |
|                       |                       | security group.       |
|                       |                       | However, security     |
|                       |                       | group rules           |
|                       |                       | containing the port   |
|                       |                       | will not affect       |
|                       |                       | traffic to and from   |
|                       |                       | the load balancer.    |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-68   | Lists the tags added  |
|                       | objects               | to the load balancer. |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was created. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the load         |
|                       |                       | balancer was updated. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **20**       |
+-----------------------+-----------------------+-----------------------+
| guaranteed            | Boolean               | Specifies whether the |
|                       |                       | load balancer is a    |
|                       |                       | dedicated load        |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **true** or           |
|                       |                       | **false**. **true**   |
|                       |                       | indicates a dedicated |
|                       |                       | load balancer, and    |
|                       |                       | **false** indicates a |
|                       |                       | shared load balancer. |
|                       |                       | When dedicated load   |
|                       |                       | balancers are         |
|                       |                       | launched in the       |
|                       |                       | **eu-de** region,     |
|                       |                       | either **true** or    |
|                       |                       | **false** will be     |
|                       |                       | returned when you use |
|                       |                       | the API to query or   |
|                       |                       | update a load         |
|                       |                       | balancer.             |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| vpc_id                | String                | Specifies the ID of   |
|                       |                       | the VPC where the     |
|                       |                       | load balancer works.  |
+-----------------------+-----------------------+-----------------------+
| eips                  | Array of Table 4-69   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_address      | String                | Specifies the IPv6    |
|                       |                       | address bound to the  |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **None**     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **64**       |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_virsubnet_id | String                | Specifies the ID of   |
|                       |                       | the IPv6 subnet where |
|                       |                       | the load balancer     |
|                       |                       | works.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_vip_port_id      | String                | Specifies the ID of   |
|                       |                       | the port bound to the |
|                       |                       | IPv6 address.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| a                     | Array of strings      | Specifies the list of |
| vailability_zone_list |                       | AZs where the load    |
|                       |                       | balancer is created.  |
+-----------------------+-----------------------+-----------------------+
| enterprise_project_id | String                | Specifies the         |
|                       |                       | enterprise project    |
|                       |                       | ID.                   |
|                       |                       |                       |
|                       |                       | If this parameter is  |
|                       |                       | not passed during     |
|                       |                       | resource creation,    |
|                       |                       | the resource belongs  |
|                       |                       | to the default        |
|                       |                       | enterprise project.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **0**        |
+-----------------------+-----------------------+-----------------------+
| billing_info          | String                | Provides billing      |
|                       |                       | information about the |
|                       |                       | load balancer.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| l4_flavor_id          | String                | Specifies the Layer-4 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l4_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 4      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_flavor_id          | String                | Specifies the Layer-7 |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| l7_scale_flavor_id    | String                | Specifies the         |
|                       |                       | reserved Layer 7      |
|                       |                       | flavor.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| publicips             | Array of Table 4-70   | Specifies the EIP     |
|                       | objects               | bound to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| elb_virsubnet_ids     | Array of strings      | Specifies the ID of   |
|                       |                       | the subnet on the     |
|                       |                       | downstream plane. The |
|                       |                       | ports used by the     |
|                       |                       | load balancer         |
|                       |                       | dynamically occupy IP |
|                       |                       | addresses in the      |
|                       |                       | subnet.               |
+-----------------------+-----------------------+-----------------------+
| ip_target_enable      | Boolean               | Specifies whether to  |
|                       |                       | enable cross-VPC      |
|                       |                       | backend.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| frozen_scene          | String                | Specifies the         |
|                       |                       | scenario where the    |
|                       |                       | load balancer is      |
|                       |                       | frozen. Use commas to |
|                       |                       | separate multiple     |
|                       |                       | scenarios.            |
|                       |                       |                       |
|                       |                       | If the value is       |
|                       |                       | **ARREAR**, the load  |
|                       |                       | balancer is frozen    |
|                       |                       | because your account  |
|                       |                       | is in arrears.        |
+-----------------------+-----------------------+-----------------------+
| ipv6_bandwidth        | Table 4-71 object     | Specifies the ID of   |
|                       |                       | the bandwidth. This   |
|                       |                       | parameter is          |
|                       |                       | available only when   |
|                       |                       | you create or update  |
|                       |                       | a dedicated load      |
|                       |                       | balancer that has an  |
|                       |                       | IPv6 address bound.   |
|                       |                       |                       |
|                       |                       | If you use a new IPv6 |
|                       |                       | address and specify a |
|                       |                       | shared bandwidth, the |
|                       |                       | IPv6 address will be  |
|                       |                       | added to the shared   |
|                       |                       | bandwidth.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

3. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

5. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

6. EipInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| eip_id                | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| eip_address           | String                | Specifies the         |
|                       |                       | specific IP address.  |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. **4**        |
|                       |                       | indicates IPv4, and   |
|                       |                       | **6** indicates IPv6. |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

7. PublicIpInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| publicip_id           | String                | Specifies the EIP ID. |
+-----------------------+-----------------------+-----------------------+
| publicip_address      | String                | Specifies the IP      |
|                       |                       | address.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | Integer               | Specifies the IP      |
|                       |                       | version. The value    |
|                       |                       | can be **4** (IPv4)   |
|                       |                       | or **6** (IPv6).      |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | The value cannot be   |
|                       |                       | **6**.                |
+-----------------------+-----------------------+-----------------------+

8. BandwidthRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the shared  |
|                       |                       | bandwidth ID.         |
+-----------------------+-----------------------+-----------------------+

2. Example Requests

| PUT
| https://{elb_endpoint}/v3/{project_id}/elb/loadbalancers/{loadbalancer_id}
| {
| "loadbalancer" : {
| "admin_state_up" : true,
| "description" : "loadbalancer",
| "name" : "loadbalancer-update"
| }
| }

3. Example Responses

**Status code: 200**

Successful request.

| {
| "request_id" : "010dad1e-32a3-4405-ab83-62a1fc5f8722",
| "loadbalancer" : {
| "id" : "2e073bf8-edfe-4e51-a699-d915b0b8af89",
| "project_id" : "b2782e6708b8475c993e6064bc456bf8",
| "name" : "loadbalancer-update",
| "description" : "loadbalancer",
| "admin_state_up" : true,
| "provisioning_status" : "ACTIVE",
| "operating_status" : "ONLINE",
| "listeners" : [ {
| "id" : "41937176-bf64-4b58-8e0d-9ff2d0d32c54"
| }, {
| "id" : "abc6ac93-ad0e-4765-bd5a-eec632efde56"
| }, {
| "id" : "b9d8ba97-6d60-467d-838d-f3550b54c22a"
| }, {
| "id" : "fd797ebd-263d-4b18-96e9-e9188d36c69e"
| } ],
| "pools" : [ {
| "id" : "0aabcaa8-c35c-4ddc-a60c-9032d0ac0b80"
| }, {
| "id" : "165d9092-396e-4a8d-b398-067496a447d2"
| } ],
| "tags" : [ ],
| "provider" : "vlb",
| "created_at" : "2019-04-20T03:10:37Z",
| "updated_at" : "2019-05-24T02:11:58Z",
| "vpc_id" : "2037c5bb-e04b-4de2-9300-9051af18e417",
| "enterprise_project_id" : "0",
| "availability_zone_list" : [ "AZ1", "AZ2", "dc3" ],
| "eips" : [ ],
| "guaranteed" : true
| }
| }

4. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

5. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _deleting-a-load-balancer-2:

Deleting a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~

6. Function

This API is used to delete a load balancer.

7. Constraints

All listeners added to the load balancer must be deleted before the load
balancer is deleted.

8. URI

DELETE /v3/{project_id}/elb/loadbalancers/{loadbalancer_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

9. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

10. Response Parameters

None

11. Example Requests

| DELETE
| https://{elb_endpoint}/v3/{project_id}/elb/loadbalancers/{loadbalancer_id}

12. Example Responses

None

13. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

14. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-the-status-tree-of-a-load-balancer-1:

Querying the Status Tree of a Load Balancer
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

15. Function

This API is used to query the status tree of a load balancer and show
information about all resources associated with the load balancer.

When **admin_state_up** is set to **false** and **operating_status** to
**OFFLINE** for a backend server, **DISABLED** is returned for
**operating_status** of the backend server in the response of this API.

16. URI

GET /v3/{project_id}/elb/loadbalancers/{loadbalancer_id}/statuses

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

17. Request Parameters

    1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

18. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| statuses              | Table 4-77 object     | Provides information  |
|                       |                       | about the load        |
|                       |                       | balancer status tree. |
+-----------------------+-----------------------+-----------------------+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerStatusResult

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| loadbalancer          | Table 4-78 object     | Specifies the         |
|                       |                       | statuses of the load  |
|                       |                       | balancer and its      |
|                       |                       | associated resources. |
+-----------------------+-----------------------+-----------------------+

3. LoadBalancerStatus

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| name                  | String                | Specifies the load    |
|                       |                       | balancer name.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the load balancer. |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-79   | Lists the listeners   |
|                       | objects               | added to the load     |
|                       |                       | balancer.             |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-82   | Lists the backend     |
|                       | objects               | server groups         |
|                       |                       | associated with the   |
|                       |                       | load balancer.        |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | one of the following: |
|                       |                       |                       |
|                       |                       | -  **ONLINE**         |
|                       |                       |    (default): The     |
|                       |                       |    load balancer is   |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **DEGRADED**: This |
|                       |                       |    status is          |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |                       |
|                       |                       |  **operating_status** |
|                       |                       |    is set to          |
|                       |                       |    **OFFLINE** for a  |
|                       |                       |    backend server     |
|                       |                       |    associated with    |
|                       |                       |    the load balancer  |
|                       |                       |    and the API for    |
|                       |                       |    querying the load  |
|                       |                       |    balancer status    |
|                       |                       |    tree is called.    |
|                       |                       |                       |
|                       |                       | -  **DISABLED**: This |
|                       |                       |    status is          |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |    **admin_state_up** |
|                       |                       |    of the load        |
|                       |                       |    balancer is set to |
|                       |                       |    **false** and the  |
|                       |                       |    API for querying   |
|                       |                       |    the load balancer  |
|                       |                       |    status tree is     |
|                       |                       |    called.            |
+-----------------------+-----------------------+-----------------------+

1. LoadBalancerStatusListener

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| name                  | String                | Specifies the name of |
|                       |                       | the listener added to |
|                       |                       | the load balancer.    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the listener. The  |
|                       |                       | value can only be     |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | Default: **ACTIVE**   |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-82   | Specifies the         |
|                       | objects               | operating status of   |
|                       |                       | the backend server    |
|                       |                       | group associated with |
|                       |                       | the listener.         |
+-----------------------+-----------------------+-----------------------+
| l7policies            | Array of Table 4-80   | Specifies the         |
|                       | objects               | operating status of   |
|                       |                       | the forwarding policy |
|                       |                       | added to the          |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | one of the following: |
|                       |                       |                       |
|                       |                       | -  **ONLINE**         |
|                       |                       |    (default): The     |
|                       |                       |    listener is        |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **DISABLED**: This |
|                       |                       |    status is          |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |    **admin_state_up** |
|                       |                       |    of the load        |
|                       |                       |    balancer or the    |
|                       |                       |    listener is set to |
|                       |                       |    **false** and the  |
|                       |                       |    API for querying   |
|                       |                       |    the load balancer  |
|                       |                       |    status tree is     |
|                       |                       |    called.            |
+-----------------------+-----------------------+-----------------------+

1. LoadBalancerStatusPolicy

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| action                | String                | Specifies whether     |
|                       |                       | requests are          |
|                       |                       | forwarded to another  |
|                       |                       | backend server group  |
|                       |                       | or redirected to an   |
|                       |                       | HTTPS listener. The   |
|                       |                       | value can be          |
|                       |                       | **REDIRECT_TO_POOL**  |
|                       |                       | or                    |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the policy  |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | Default: **ACTIVE**   |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the policy  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array of Table 4-81   | Specifies the         |
|                       | objects               | forwarding rule.      |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerStatusL7Rule

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the forwarding rule.  |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | content. The value    |
|                       |                       | can be **HOST_NAME**  |
|                       |                       | or **PATH**.          |
|                       |                       |                       |
|                       |                       | **HOST_NAME**         |
|                       |                       | indicates that the    |
|                       |                       | domain name will be   |
|                       |                       | used for matching,    |
|                       |                       | and **PATH**          |
|                       |                       | indicates that the    |
|                       |                       | URL will be used for  |
|                       |                       | matching.             |
|                       |                       |                       |
|                       |                       | The **type** value    |
|                       |                       | must be unique for    |
|                       |                       | each forwarding rule  |
|                       |                       | in a forwarding       |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+

3. LoadBalancerStatusPool

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the backend server |
|                       |                       | group. The value can  |
|                       |                       | only be **ACTIVE**.   |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the name of |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| healthmonitor         | Table 4-83 object     | Specifies the health  |
|                       |                       | check results of      |
|                       |                       | backend servers in    |
|                       |                       | the load balancer     |
|                       |                       | status tree.          |
+-----------------------+-----------------------+-----------------------+
| members               | Array of Table 4-84   | Specifies the backend |
|                       | objects               | server.               |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server     |
|                       |                       |    group is running   |
|                       |                       |    normally.          |
|                       |                       |                       |
|                       |                       | -  **DEGRADED**: This |
|                       |                       |    status is          |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |                       |
|                       |                       |  **operating_status** |
|                       |                       |    of a backend       |
|                       |                       |    server in the      |
|                       |                       |    group is set to    |
|                       |                       |    **OFFLINE** and    |
|                       |                       |    the API for        |
|                       |                       |    querying the load  |
|                       |                       |    balancer status    |
|                       |                       |    tree is called.    |
|                       |                       |                       |
|                       |                       | -  **DISABLED**: This |
|                       |                       |    status is          |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |    **admin_state_up** |
|                       |                       |    of the backend     |
|                       |                       |    server group or    |
|                       |                       |    the associated     |
|                       |                       |    load balancer is   |
|                       |                       |    set to **false**   |
|                       |                       |    and the API for    |
|                       |                       |    querying the load  |
|                       |                       |    balancer status    |
|                       |                       |    tree is called.    |
+-----------------------+-----------------------+-----------------------+

1. LoadBalancerStatusHealthMonitor

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol. The   |
|                       |                       | value can be **TCP**, |
|                       |                       | **UDP_CONNECT**, or   |
|                       |                       | **HTTP**.             |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the health check.  |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerStatusMember

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the backend        |
|                       |                       | server. The value can |
|                       |                       | only be **ACTIVE**.   |
|                       |                       |                       |
|                       |                       | Default: **ACTIVE**   |
+-----------------------+-----------------------+-----------------------+
| address               | String                | Specifies the IP      |
|                       |                       | address of the        |
|                       |                       | backend server.       |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server to receive     |
|                       |                       | requests. The port    |
|                       |                       | number ranges from 1  |
|                       |                       | to 65535.             |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the backend server.   |
|                       |                       |                       |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group to which the |
|                       |                       |    backend server     |
|                       |                       |    belongs.           |
|                       |                       |                       |
|                       |                       | -  **DISABLED**: The  |
|                       |                       |    backend server is  |
|                       |                       |    not available.     |
|                       |                       |    This status is     |
|                       |                       |    displayed only     |
|                       |                       |    when               |
|                       |                       |    **admin_state_up** |
|                       |                       |    of the backend     |
|                       |                       |    server, or the     |
|                       |                       |    backend server     |
|                       |                       |    group to which it  |
|                       |                       |    belongs, or the    |
|                       |                       |    associated load    |
|                       |                       |    balancer is set to |
|                       |                       |    **false** and the  |
|                       |                       |    API for querying   |
|                       |                       |    the load balancer  |
|                       |                       |    status tree is     |
|                       |                       |    called.            |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

Querying the status tree of a load balancer

| GET
| https://{ELB_Endpoint}/v3/{project_id}/elb/loadbalancers/38278031-cfca-44be-81be-a412f618773b/statuses

2. Example Responses

**Status code: 200**

Successful request.

| {
| "statuses" : {
| "loadbalancer" : {
| "name" : "lb-jy",
| "provisioning_status" : "ACTIVE",
| "listeners" : [ {
| "name" : "listener-jy-1",
| "provisioning_status" : "ACTIVE",
| "pools" : [ {
| "name" : "pool-jy-1",
| "provisioning_status" : "ACTIVE",
| "healthmonitor" : {
| "type" : "TCP",
| "id" : "7422b51a-0ed2-4702-9429-4f88349276c6",
| "name" : "",
| "provisioning_status" : "ACTIVE"
| },
| "members" : [ {
| "protocol_port" : 80,
| "address" : "192.168.44.11",
| "id" : "7bbf7151-0dce-4087-b316-06c7fa17b894",
| "operating_status" : "ONLINE",
| "provisioning_status" : "ACTIVE"
| } ],
| "id" : "c54b3286-2349-4c5c-ade1-e6bb0b26ad18",
| "operating_status" : "ONLINE"
| } ],
| "l7policies" : [ ],
| "id" : "eb84c5b4-9bc5-4bee-939d-3900fb05dc7b",
| "operating_status" : "ONLINE"
| } ],
| "pools" : [ {
| "name" : "pool-jy-1",
| "provisioning_status" : "ACTIVE",
| "healthmonitor" : {
| "type" : "TCP",
| "id" : "7422b51a-0ed2-4702-9429-4f88349276c6",
| "name" : "",
| "provisioning_status" : "ACTIVE"
| },
| "members" : [ {
| "protocol_port" : 80,
| "address" : "192.168.44.11",
| "id" : "7bbf7151-0dce-4087-b316-06c7fa17b894",
| "operating_status" : "ONLINE",
| "provisioning_status" : "ACTIVE"
| } ],
| "id" : "c54b3286-2349-4c5c-ade1-e6bb0b26ad18",
| "operating_status" : "ONLINE"
| } ],
| "id" : "38278031-cfca-44be-81be-a412f618773b",
| "operating_status" : "ONLINE"
| }
| }
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _certificate-2:

Certificate
-----------

1. .. rubric:: Creating a Certificate
      :name: creating-a-certificate-2

   #. Function

This API is used to create an SSL certificate.

2. URI

POST /v3/{project_id}/elb/certificates

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID of   |
|                 |                 |                 | the             |
|                 |                 |                 | certificate.    |
+-----------------+-----------------+-----------------+-----------------+

3. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| certificate     | Yes             | Table 4-88      | Specifies the   |
|                 |                 | object          | certificate.    |
+-----------------+-----------------+-----------------+-----------------+

3. CreateCertificateOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| certificate     | Yes             | String          | Specifies the   |
|                 |                 |                 | private key of  |
|                 |                 |                 | the             |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The value must  |
|                 |                 |                 | be PEM encoded. |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| domain          | No              | String          | Specifies the   |
|                 |                 |                 | domain names    |
|                 |                 |                 | used by the     |
|                 |                 |                 | server          |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will take    |
|                 |                 |                 |    effect only  |
|                 |                 |                 |    when         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**,  |
|                 |                 |                 |    and its      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **""**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will not     |
|                 |                 |                 |    take effect  |
|                 |                 |                 |    even if it   |
|                 |                 |                 |    is passed    |
|                 |                 |                 |    and **type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **client**.  |
|                 |                 |                 |    However,     |
|                 |                 |                 |    domain names |
|                 |                 |                 |    will still   |
|                 |                 |                 |    be verified. |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    0 to 1024    |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and consists |
|                 |                 |                 |    of multiple  |
|                 |                 |                 |    common       |
|                 |                 |                 |    domain names |
|                 |                 |                 |    or wildcard  |
|                 |                 |                 |    domain names |
|                 |                 |                 |    separated by |
|                 |                 |                 |    commas. A    |
|                 |                 |                 |    maximum of   |
|                 |                 |                 |    30 domain    |
|                 |                 |                 |    names are    |
|                 |                 |                 |    allowed.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  A common     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    consists of  |
|                 |                 |                 |    several      |
|                 |                 |                 |    labels       |
|                 |                 |                 |    separated by |
|                 |                 |                 |    periods (.). |
|                 |                 |                 |    Each label   |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    63           |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and must     |
|                 |                 |                 |    start and    |
|                 |                 |                 |    end with a   |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |    Example:     |
|                 |                 |                 |    www.test.com |
|                 |                 |                 |                 |
|                 |                 |                 | -  A wildcard   |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    is a domain  |
|                 |                 |                 |    name starts  |
|                 |                 |                 |    with an      |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*).         |
|                 |                 |                 |    Example:     |
|                 |                 |                 |    \*.test.com  |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | name. Only      |
|                 |                 |                 | letters,        |
|                 |                 |                 | digits,         |
|                 |                 |                 | underscores,    |
|                 |                 |                 | and hyphens are |
|                 |                 |                 | allowed.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| private_key     | No              | String          | Specifies the   |
|                 |                 |                 | private key of  |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The value must  |
|                 |                 |                 | be PEM encoded. |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    ignored if   |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **client**.  |
|                 |                 |                 |    A CA server  |
|                 |                 |                 |    can still be |
|                 |                 |                 |    created and  |
|                 |                 |                 |    used         |
|                 |                 |                 |    normally.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be left |
|                 |                 |                 |    blank even   |
|                 |                 |                 |    if you enter |
|                 |                 |                 |    a private    |
|                 |                 |                 |    key that is  |
|                 |                 |                 |    not PEM      |
|                 |                 |                 |    encoded.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid and    |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**.  |
|                 |                 |                 |    If you enter |
|                 |                 |                 |    an invalid   |
|                 |                 |                 |    private key, |
|                 |                 |                 |    an error is  |
|                 |                 |                 |    returned.    |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the certificate |
|                 |                 |                 | is used.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **32** |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | type.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **server**   |
|                 |                 |                 | or **client**.  |
|                 |                 |                 | **server**      |
|                 |                 |                 | indicates       |
|                 |                 |                 | server          |
|                 |                 |                 | certificates,   |
|                 |                 |                 | and **client**  |
|                 |                 |                 | indicates CA    |
|                 |                 |                 | certificates.   |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **server**.     |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | String          | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID. The |
|                 |                 |                 | value cannot be |
|                 |                 |                 | **""**,         |
|                 |                 |                 | **"0"**, or the |
|                 |                 |                 | ID of an        |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project that    |
|                 |                 |                 | does not exist. |
|                 |                 |                 |                 |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not passed      |
|                 |                 |                 | during resource |
|                 |                 |                 | creation, the   |
|                 |                 |                 | resource        |
|                 |                 |                 | belongs to the  |
|                 |                 |                 | default         |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| certificate           | Table 4-90 object     | Specifies the         |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+

2. CertificateInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the private |
|                       |                       | key of the            |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | names used by the     |
|                       |                       | server certificate.   |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will take effect   |
|                       |                       |    only when **type** |
|                       |                       |    is set to          |
|                       |                       |    **server**, and    |
|                       |                       |    its default value  |
|                       |                       |    is **""**.         |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will not take      |
|                       |                       |    effect even if it  |
|                       |                       |    is passed and      |
|                       |                       |    **type** is set to |
|                       |                       |    **client**.        |
|                       |                       |    However, domain    |
|                       |                       |    names will still   |
|                       |                       |    be verified.       |
|                       |                       |                       |
|                       |                       | Note:                 |
|                       |                       |                       |
|                       |                       | -  The value can      |
|                       |                       |    contain 0 to 1024  |
|                       |                       |    characters and     |
|                       |                       |    consists of        |
|                       |                       |    multiple common    |
|                       |                       |    domain names or    |
|                       |                       |    wildcard domain    |
|                       |                       |    names separated by |
|                       |                       |    commas. A maximum  |
|                       |                       |    of 30 domain names |
|                       |                       |    are allowed.       |
|                       |                       |                       |
|                       |                       | -  A common domain    |
|                       |                       |    name consists of   |
|                       |                       |    several labels     |
|                       |                       |    separated by       |
|                       |                       |    periods (.). Each  |
|                       |                       |    label can contain  |
|                       |                       |    a maximum of 63    |
|                       |                       |    characters,        |
|                       |                       |    including letters, |
|                       |                       |    digits, and        |
|                       |                       |    hyphens (-), and   |
|                       |                       |    must start and end |
|                       |                       |    with a letter or   |
|                       |                       |    digit. Example:    |
|                       |                       |    www.test.com       |
|                       |                       |                       |
|                       |                       | -  A wildcard domain  |
|                       |                       |    name is a domain   |
|                       |                       |    name starts with   |
|                       |                       |    an asterisk (*).   |
|                       |                       |    Example:           |
|                       |                       |    \*.test.com        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies a           |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will be ignored if |
|                       |                       |    **type** is set to |
|                       |                       |    **client**. A CA   |
|                       |                       |    server can still   |
|                       |                       |    be created and     |
|                       |                       |    used normally.     |
|                       |                       |    This parameter     |
|                       |                       |    will be left blank |
|                       |                       |    even if you enter  |
|                       |                       |    a private key that |
|                       |                       |    is not PEM         |
|                       |                       |    encoded.           |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    valid and          |
|                       |                       |    mandatory only     |
|                       |                       |    when **type** is   |
|                       |                       |    set to **server**. |
|                       |                       |    If you enter an    |
|                       |                       |    invalid private    |
|                       |                       |    key, an error is   |
|                       |                       |    returned.          |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type. The |
|                       |                       | value can be          |
|                       |                       | **server** or         |
|                       |                       | **client**.           |
|                       |                       | **server** indicates  |
|                       |                       | server certificates,  |
|                       |                       | and **client**        |
|                       |                       | indicates CA          |
|                       |                       | certificates. The     |
|                       |                       | default value is      |
|                       |                       | **server**.           |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| POST https://{elb_endponit}/v3/{project_id}/elb/certificates
| {
| "certificate" : {
| "name" : "My Certificate",
| "type" : "server",
| "private_key" : "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "certificate" : "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----"
| }
| }

2. Example Responses

**Status code: 201**

Successful request.

| {
| "certificate" : {
| "id" : "233a325e5e3e4ce8beeb320aa714cc12",
| "name" : "My Certificate",
| "description" : "",
| "admin_state_up" : true,
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "updated_at" : "2019-03-31T23:26:49Z",
| "type" : "server",
| "created_at" : "2019-03-31T22:23:51Z",
| "expire_time" : "2045-11-17T13:25:47Z",
| "private_key" : "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "certificate" : "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----"
| },
| "request_id" : "98414965-856c-4be3-8a33-3e08432a222e"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-certificates-2:

Querying Certificates
~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to query all SSL certificates.

6. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

7. URI

GET /v3/{project_id}/elb/certificates

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link. This      |
|                 |                 |                 | parameter must  |
|                 |                 |                 | be used         |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies a     |
|                 |                 |                 | certificate ID. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | Array           | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | descriptions    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *des            |
|                 |                 |                 | cription=xxx&de |
|                 |                 |                 | scription=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| domain          | No              | Array           | Specifies the   |
|                 |                 |                 | domain names    |
|                 |                 |                 | used by the     |
|                 |                 |                 | server          |
|                 |                 |                 | certificate.    |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only when       |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to **server**.  |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple domain |
|                 |                 |                 | names can be    |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *domain=x       |
|                 |                 |                 | xx&domain=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | Array           | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | type.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **server**   |
|                 |                 |                 | or **client**.  |
|                 |                 |                 | **server**      |
|                 |                 |                 | indicates       |
|                 |                 |                 | server          |
|                 |                 |                 | certificates,   |
|                 |                 |                 | and **client**  |
|                 |                 |                 | indicates CA    |
|                 |                 |                 | certificates.   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple types  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *type           |
|                 |                 |                 | =xxx&type=xxx*. |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-95 object     | Certificate           |
|                       |                       | pagination            |
|                       |                       | information           |
+-----------------------+-----------------------+-----------------------+
| certificates          | Array of Table 4-96   | Lists the             |
|                       | objects               | certificates.         |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. CertificateInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the private |
|                       |                       | key of the            |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | names used by the     |
|                       |                       | server certificate.   |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will take effect   |
|                       |                       |    only when **type** |
|                       |                       |    is set to          |
|                       |                       |    **server**, and    |
|                       |                       |    its default value  |
|                       |                       |    is **""**.         |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will not take      |
|                       |                       |    effect even if it  |
|                       |                       |    is passed and      |
|                       |                       |    **type** is set to |
|                       |                       |    **client**.        |
|                       |                       |    However, domain    |
|                       |                       |    names will still   |
|                       |                       |    be verified.       |
|                       |                       |                       |
|                       |                       | Note:                 |
|                       |                       |                       |
|                       |                       | -  The value can      |
|                       |                       |    contain 0 to 1024  |
|                       |                       |    characters and     |
|                       |                       |    consists of        |
|                       |                       |    multiple common    |
|                       |                       |    domain names or    |
|                       |                       |    wildcard domain    |
|                       |                       |    names separated by |
|                       |                       |    commas. A maximum  |
|                       |                       |    of 30 domain names |
|                       |                       |    are allowed.       |
|                       |                       |                       |
|                       |                       | -  A common domain    |
|                       |                       |    name consists of   |
|                       |                       |    several labels     |
|                       |                       |    separated by       |
|                       |                       |    periods (.). Each  |
|                       |                       |    label can contain  |
|                       |                       |    a maximum of 63    |
|                       |                       |    characters,        |
|                       |                       |    including letters, |
|                       |                       |    digits, and        |
|                       |                       |    hyphens (-), and   |
|                       |                       |    must start and end |
|                       |                       |    with a letter or   |
|                       |                       |    digit. Example:    |
|                       |                       |    www.test.com       |
|                       |                       |                       |
|                       |                       | -  A wildcard domain  |
|                       |                       |    name is a domain   |
|                       |                       |    name starts with   |
|                       |                       |    an asterisk (*).   |
|                       |                       |    Example:           |
|                       |                       |    \*.test.com        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies a           |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will be ignored if |
|                       |                       |    **type** is set to |
|                       |                       |    **client**. A CA   |
|                       |                       |    server can still   |
|                       |                       |    be created and     |
|                       |                       |    used normally.     |
|                       |                       |    This parameter     |
|                       |                       |    will be left blank |
|                       |                       |    even if you enter  |
|                       |                       |    a private key that |
|                       |                       |    is not PEM         |
|                       |                       |    encoded.           |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    valid and          |
|                       |                       |    mandatory only     |
|                       |                       |    when **type** is   |
|                       |                       |    set to **server**. |
|                       |                       |    If you enter an    |
|                       |                       |    invalid private    |
|                       |                       |    key, an error is   |
|                       |                       |    returned.          |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type. The |
|                       |                       | value can be          |
|                       |                       | **server** or         |
|                       |                       | **client**.           |
|                       |                       | **server** indicates  |
|                       |                       | server certificates,  |
|                       |                       | and **client**        |
|                       |                       | indicates CA          |
|                       |                       | certificates. The     |
|                       |                       | default value is      |
|                       |                       | **server**.           |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

GET https://{elb_endpoint}/v3/{project_id}/elb/certificates

2. Example Responses

**Status code: 200**

Successful request.

| {
| "certificates" : [ {
| "id" : "5494a835d88f40ff940554992f2f04d4",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "https_certificatekkkk",
| "type" : "server",
| "description" : "description for certificatehhhh",
| "private_key" : "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "certificate" : "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "admin_state_up" : true,
| "created_at" : "2019-04-21T18:59:43Z",
| "updated_at" : "2019-04-21T18:59:43Z",
| "expire_time" : "2045-11-17T13:25:47Z"
| }, {
| "id" : "7875ccb4c6b44cdb90ab2ab89892ab71",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "https_certificatekkkk",
| "type" : "client",
| "domain" : "sda.com",
| "description" : "description for certificatehhhh",
| "private_key" : "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "certificate" : "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "admin_state_up" : true,
| "created_at" : "2018-10-29T20:16:17Z",
| "updated_at" : "2019-04-06T21:33:24Z",
| "expire_time" : "2045-11-17T13:25:47Z"
| }, {
| "id" : "7f41c96223d34ebaa3c8e836b6625ec0",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "asdf",
| "type" : "server",
| "domain" : "sda.com",
| "description" : "",
| "private_key" : "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "certificate" : "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "admin_state_up" : true,
| "created_at" : "2019-03-31T22:23:51Z",
| "updated_at" : "2019-03-31T23:26:49Z",
| "expire_time" : "2045-11-17T13:25:47Z"
| } ],
| "page_info" : {
| "previous_marker" : "5494a835d88f40ff940554992f2f04d4",
| "current_count" : 3
| },
| "request_id" : "a27e7ae6-d901-4ec2-8e66-b8a1413819ad"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Certificate
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of an SSL certificate.

6. URI

GET /v3/{project_id}/elb/certificates/{certificate_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| certificate_id  | Yes             | String          | Specifies a     |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| certificate           | Table 4-100 object    | Specifies the         |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+

2. CertificateInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the private |
|                       |                       | key of the            |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | names used by the     |
|                       |                       | server certificate.   |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will take effect   |
|                       |                       |    only when **type** |
|                       |                       |    is set to          |
|                       |                       |    **server**, and    |
|                       |                       |    its default value  |
|                       |                       |    is **""**.         |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will not take      |
|                       |                       |    effect even if it  |
|                       |                       |    is passed and      |
|                       |                       |    **type** is set to |
|                       |                       |    **client**.        |
|                       |                       |    However, domain    |
|                       |                       |    names will still   |
|                       |                       |    be verified.       |
|                       |                       |                       |
|                       |                       | Note:                 |
|                       |                       |                       |
|                       |                       | -  The value can      |
|                       |                       |    contain 0 to 1024  |
|                       |                       |    characters and     |
|                       |                       |    consists of        |
|                       |                       |    multiple common    |
|                       |                       |    domain names or    |
|                       |                       |    wildcard domain    |
|                       |                       |    names separated by |
|                       |                       |    commas. A maximum  |
|                       |                       |    of 30 domain names |
|                       |                       |    are allowed.       |
|                       |                       |                       |
|                       |                       | -  A common domain    |
|                       |                       |    name consists of   |
|                       |                       |    several labels     |
|                       |                       |    separated by       |
|                       |                       |    periods (.). Each  |
|                       |                       |    label can contain  |
|                       |                       |    a maximum of 63    |
|                       |                       |    characters,        |
|                       |                       |    including letters, |
|                       |                       |    digits, and        |
|                       |                       |    hyphens (-), and   |
|                       |                       |    must start and end |
|                       |                       |    with a letter or   |
|                       |                       |    digit. Example:    |
|                       |                       |    www.test.com       |
|                       |                       |                       |
|                       |                       | -  A wildcard domain  |
|                       |                       |    name is a domain   |
|                       |                       |    name starts with   |
|                       |                       |    an asterisk (*).   |
|                       |                       |    Example:           |
|                       |                       |    \*.test.com        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies a           |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will be ignored if |
|                       |                       |    **type** is set to |
|                       |                       |    **client**. A CA   |
|                       |                       |    server can still   |
|                       |                       |    be created and     |
|                       |                       |    used normally.     |
|                       |                       |    This parameter     |
|                       |                       |    will be left blank |
|                       |                       |    even if you enter  |
|                       |                       |    a private key that |
|                       |                       |    is not PEM         |
|                       |                       |    encoded.           |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    valid and          |
|                       |                       |    mandatory only     |
|                       |                       |    when **type** is   |
|                       |                       |    set to **server**. |
|                       |                       |    If you enter an    |
|                       |                       |    invalid private    |
|                       |                       |    key, an error is   |
|                       |                       |    returned.          |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type. The |
|                       |                       | value can be          |
|                       |                       | **server** or         |
|                       |                       | **client**.           |
|                       |                       | **server** indicates  |
|                       |                       | server certificates,  |
|                       |                       | and **client**        |
|                       |                       | indicates CA          |
|                       |                       | certificates. The     |
|                       |                       | default value is      |
|                       |                       | **server**.           |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/{project_id}/elb/certificates/{certificate_id}

2. Example Responses

**Status code: 200**

Successful request.

| {
| "certificate" : {
| "id" : "5494a835d88f40ff940554992f2f04d4",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "https_certificatekkkk",
| "type" : "server",
| "description" : "description for certificatehhhh",
| "private_key" : "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "certificate" : "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "admin_state_up" : true,
| "created_at" : "2019-03-31T22:23:51Z",
| "updated_at" : "2019-03-31T23:26:49Z",
| "expire_time" : "2045-11-17T13:25:47Z"
| },
| "request_id" : "a94af450-5ac0-4185-946c-27a59a16c1d3"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-certificate-1:

Updating a Certificate
~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to update an SSL certificate.

6. URI

PUT /v3/{project_id}/elb/certificates/{certificate_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| certificate_id  | Yes             | String          | Specifies a     |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID of   |
|                 |                 |                 | the             |
|                 |                 |                 | certificate.    |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| certificate     | Yes             | Table 4-104     | Specifies       |
|                 |                 | object          | request         |
|                 |                 |                 | parameters for  |
|                 |                 |                 | updating a      |
|                 |                 |                 | certificate.    |
+-----------------+-----------------+-----------------+-----------------+

3. UpdateCertificateOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| certificate     | No              | String          | Specifies the   |
|                 |                 |                 | private key of  |
|                 |                 |                 | the             |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The value must  |
|                 |                 |                 | be PEM encoded. |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | certificate     |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| private_key     | No              | String          | Specifies the   |
|                 |                 |                 | private key of  |
|                 |                 |                 | the server      |
|                 |                 |                 | certificate.    |
|                 |                 |                 | The value must  |
|                 |                 |                 | be PEM encoded. |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    ignored if   |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **client**.  |
|                 |                 |                 |    A CA server  |
|                 |                 |                 |    can still be |
|                 |                 |                 |    created and  |
|                 |                 |                 |    used         |
|                 |                 |                 |    normally.    |
|                 |                 |                 |    This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will be left |
|                 |                 |                 |    blank even   |
|                 |                 |                 |    if you enter |
|                 |                 |                 |    a private    |
|                 |                 |                 |    key that is  |
|                 |                 |                 |    not PEM      |
|                 |                 |                 |    encoded.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    valid and    |
|                 |                 |                 |    mandatory    |
|                 |                 |                 |    only when    |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**.  |
|                 |                 |                 |    If you enter |
|                 |                 |                 |    an invalid   |
|                 |                 |                 |    private key, |
|                 |                 |                 |    an error is  |
|                 |                 |                 |    returned.    |
+-----------------+-----------------+-----------------+-----------------+
| domain          | No              | String          | Specifies the   |
|                 |                 |                 | domain names    |
|                 |                 |                 | used by the     |
|                 |                 |                 | server          |
|                 |                 |                 | certificate.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will take    |
|                 |                 |                 |    effect only  |
|                 |                 |                 |    when         |
|                 |                 |                 |    **type** is  |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **server**,  |
|                 |                 |                 |    and its      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **""**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    will not     |
|                 |                 |                 |    take effect  |
|                 |                 |                 |    even if it   |
|                 |                 |                 |    is passed    |
|                 |                 |                 |    and **type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **client**.  |
|                 |                 |                 |    However,     |
|                 |                 |                 |    domain names |
|                 |                 |                 |    will still   |
|                 |                 |                 |    be verified. |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  The value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    0 to 1024    |
|                 |                 |                 |    characters   |
|                 |                 |                 |    and consists |
|                 |                 |                 |    of multiple  |
|                 |                 |                 |    common       |
|                 |                 |                 |    domain names |
|                 |                 |                 |    or wildcard  |
|                 |                 |                 |    domain names |
|                 |                 |                 |    separated by |
|                 |                 |                 |    commas. A    |
|                 |                 |                 |    maximum of   |
|                 |                 |                 |    30 domain    |
|                 |                 |                 |    names are    |
|                 |                 |                 |    allowed.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  A common     |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    consists of  |
|                 |                 |                 |    several      |
|                 |                 |                 |    labels       |
|                 |                 |                 |    separated by |
|                 |                 |                 |    periods (.). |
|                 |                 |                 |    Each label   |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    a maximum of |
|                 |                 |                 |    63           |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and must     |
|                 |                 |                 |    start and    |
|                 |                 |                 |    end with a   |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit.       |
|                 |                 |                 |    Example:     |
|                 |                 |                 |    www.test.com |
|                 |                 |                 |                 |
|                 |                 |                 | -  A wildcard   |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    is a domain  |
|                 |                 |                 |    name starts  |
|                 |                 |                 |    with an      |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*).         |
|                 |                 |                 |    Example:     |
|                 |                 |                 |    \*.test.com  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| certificate           | Table 4-106 object    | Specifies the         |
|                       |                       | certificate.          |
+-----------------------+-----------------------+-----------------------+

2. CertificateInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the certificate.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| certificate           | String                | Specifies the private |
|                       |                       | key of the            |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | certificate.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| domain                | String                | Specifies the domain  |
|                       |                       | names used by the     |
|                       |                       | server certificate.   |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will take effect   |
|                       |                       |    only when **type** |
|                       |                       |    is set to          |
|                       |                       |    **server**, and    |
|                       |                       |    its default value  |
|                       |                       |    is **""**.         |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will not take      |
|                       |                       |    effect even if it  |
|                       |                       |    is passed and      |
|                       |                       |    **type** is set to |
|                       |                       |    **client**.        |
|                       |                       |    However, domain    |
|                       |                       |    names will still   |
|                       |                       |    be verified.       |
|                       |                       |                       |
|                       |                       | Note:                 |
|                       |                       |                       |
|                       |                       | -  The value can      |
|                       |                       |    contain 0 to 1024  |
|                       |                       |    characters and     |
|                       |                       |    consists of        |
|                       |                       |    multiple common    |
|                       |                       |    domain names or    |
|                       |                       |    wildcard domain    |
|                       |                       |    names separated by |
|                       |                       |    commas. A maximum  |
|                       |                       |    of 30 domain names |
|                       |                       |    are allowed.       |
|                       |                       |                       |
|                       |                       | -  A common domain    |
|                       |                       |    name consists of   |
|                       |                       |    several labels     |
|                       |                       |    separated by       |
|                       |                       |    periods (.). Each  |
|                       |                       |    label can contain  |
|                       |                       |    a maximum of 63    |
|                       |                       |    characters,        |
|                       |                       |    including letters, |
|                       |                       |    digits, and        |
|                       |                       |    hyphens (-), and   |
|                       |                       |    must start and end |
|                       |                       |    with a letter or   |
|                       |                       |    digit. Example:    |
|                       |                       |    www.test.com       |
|                       |                       |                       |
|                       |                       | -  A wildcard domain  |
|                       |                       |    name is a domain   |
|                       |                       |    name starts with   |
|                       |                       |    an asterisk (*).   |
|                       |                       |    Example:           |
|                       |                       |    \*.test.com        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies a           |
|                       |                       | certificate ID.       |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | certificate name.     |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| private_key           | String                | Specifies the private |
|                       |                       | key of the server     |
|                       |                       | certificate. The      |
|                       |                       | value must be PEM     |
|                       |                       | encoded.              |
|                       |                       |                       |
|                       |                       | -  This parameter     |
|                       |                       |    will be ignored if |
|                       |                       |    **type** is set to |
|                       |                       |    **client**. A CA   |
|                       |                       |    server can still   |
|                       |                       |    be created and     |
|                       |                       |    used normally.     |
|                       |                       |    This parameter     |
|                       |                       |    will be left blank |
|                       |                       |    even if you enter  |
|                       |                       |    a private key that |
|                       |                       |    is not PEM         |
|                       |                       |    encoded.           |
|                       |                       |                       |
|                       |                       | -  This parameter is  |
|                       |                       |    valid and          |
|                       |                       |    mandatory only     |
|                       |                       |    when **type** is   |
|                       |                       |    set to **server**. |
|                       |                       |    If you enter an    |
|                       |                       |    invalid private    |
|                       |                       |    key, an error is   |
|                       |                       |    returned.          |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the         |
|                       |                       | certificate type. The |
|                       |                       | value can be          |
|                       |                       | **server** or         |
|                       |                       | **client**.           |
|                       |                       | **server** indicates  |
|                       |                       | server certificates,  |
|                       |                       | and **client**        |
|                       |                       | indicates CA          |
|                       |                       | certificates. The     |
|                       |                       | default value is      |
|                       |                       | **server**.           |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was created.          |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | was updated.          |
+-----------------------+-----------------------+-----------------------+
| expire_time           | String                | Specifies the time    |
|                       |                       | when the certificate  |
|                       |                       | expires.              |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| PUT
| https://{elb_endponit}/v3/{project_id}/elb/certificates/{certificate_id}
| {
| "certificate" : {
| "name" : "My Certificate",
| "description" : "Update my Certificate."
| }
| }

2. Example Responses

**Status code: 200**

Successful request.

| {
| "certificate" : {
| "private_key" : "-----BEGIN PRIVATE
  KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDQVAbOLe5xNf4M\n253Wn9vhdUzojetjv4J+B7kYwsMhRcgdcJ8KCnX1nfzTvI2ksXlTQ2o9BkpStnPe\ntB4s32ZiJRMlk+61iUUMNsHwK2WBX57JT3JgmyVbH8GbmRY0+H3sH1i72luna7rM\nMD30gLh6QoP3cq7PGWcuZKV7hjd1tjCTQukwMvqV8Icq39buNpIgDOWzEP5AzqXt\nCOFYn6RTH5SRug4hKNN7sT1eYMslHu7wtEBDKVgrLjOCe/W2f8rLT1zEsoAW2Chl\nZAPYUBkl/0XuTWRg3CohPPcI+UtlRSfvLDeeQ460swjbwgS/RbJh3sIwlCRLU08k\nEo04Z9H/AgMBAAECggEAEIeaQqHCWZk/HyYN0Am/GJSGFa2tD60SXY2fUieh8/Hl\nfvCArftGgMaYWPSNCJRMXB7tPwpQu19esjz4Z/cR2Je4fTLPrffGUsHFgZjv5OQB\nZVe4a5Hj1OcgJYhwCqPs2d9i2wToYNBbcfgh8lSETq8YaXngBO6vES9LMhHkNKKr\nciu9YkInNEHu6uRJ5g/eGGX3KQynTvVIhnOVGAJvjTXcoU6fm7gYdHAD6jk9lc9M\nEGpfYI6AdHIwFZcT/RNAxhP82lg2gUJSgAu66FfDjMwQXKbafKdP3zq4Up8a7Ale\nkrguPtfV1vWklg+bUFhgGaiAEYTpAUN9t2DVIiijgQKBgQDnYMMsaF0r557CM1CT\nXUqgCZo8MKeV2jf2drlxRRwRl33SksQbzAQ/qrLdT7GP3sCGqvkxWY2FPdFYf8kx\nGcCeZPcIeZYCQAM41pjtsaM8tVbLWVR8UtGBuQoPSph7JNF3Tm/JH/fbwjpjP7dt\nJ7n8EzkRUNE6aIMHOFEeych/PQKBgQDmf1bMogx63rTcwQ0PEZ9Vt7mTgKYK4aLr\niWgTWHXPZxUQaYhpjXo6+lMI6DpExiDgBAkMzJGIvS7yQiYWU+wthAr9urbWYdGZ\nlS6VjoTkF6r7VZoILXX0fbuXh6lm8K8IQRfBpJff56p9phMwaBpDNDrfpHB5utBU\nxs40yIdp6wKBgQC69Cp/xUwTX7GdxQzEJctYiKnBHKcspAg38zJf3bGSXU/jR4eB\n1lVQhELGI9CbKSdzKM71GyEImix/T7FnJSHIWlho1qVo6AQyduNWnAQD15pr8KAd\nXGXAZZ1FQcb3KYa+2fflERmazdOTwjYZ0tGqZnXkEeMdSLkmqlCRigWhGQKBgDak\n/735uP20KKqhNehZpC2dJei7OiIgRhCS/dKASUXHSW4fptBnUxACYocdDxtY4Vha\nfI7FPMdvGl8ioYbvlHFh+X0Xs9r1S8yeWnHoXMb6eXWmYKMJrAoveLa+2cFm1Agf\n7nLhA4R4lqm9IpV6SKegDUkR4fxp9pPyodZPqBLLAoGBAJkD4wHW54Pwd4Ctfk9o\njHjWB7pQlUYpTZO9dm+4fpCMn9Okf43AE2yAOaAP94GdzdDJkxfciXKcsYr9IIuk\nfaoXgjKR7p1zERiWZuFF63SB4aiyX1H7IX0MwHDZQO38a5gZaOm/BUlGKMWXzuEd\n3fy+1rCUwzOp9LSjtJYf4ege\n-----END
  PRIVATE KEY-----",
| "description" : "Update my Certificate.",
| "created_at" : "2019-03-31T22:23:51Z",
| "expire_time" : "2045-11-17T13:25:47Z",
| "id" : "233a325e5e3e4ce8beeb320aa714cc12",
| "name" : "My Certificate",
| "certificate" : "-----BEGIN
  CERTIFICATE-----\nMIIC4TCCAcmgAwIBAgICEREwDQYJKoZIhvcNAQELBQAwFzEVMBMGA1UEAxMMTXlD\nb21wYW55IENBMB4XDTE4MDcwMjEzMjU0N1oXDTQ1MTExNzEzMjU0N1owFDESMBAG\nA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\n0FQGzi3ucTX+DNud1p/b4XVM6I3rY7+Cfge5GMLDIUXIHXCfCgp19Z3807yNpLF5\nU0NqPQZKUrZz3rQeLN9mYiUTJZPutYlFDDbB8CtlgV+eyU9yYJslWx/Bm5kWNPh9\n7B9Yu9pbp2u6zDA99IC4ekKD93KuzxlnLmSle4Y3dbYwk0LpMDL6lfCHKt/W7jaS\nIAzlsxD+QM6l7QjhWJ+kUx+UkboOISjTe7E9XmDLJR7u8LRAQylYKy4zgnv1tn/K\ny09cxLKAFtgoZWQD2FAZJf9F7k1kYNwqITz3CPlLZUUn7yw3nkOOtLMI28IEv0Wy\nYd7CMJQkS1NPJBKNOGfR/wIDAQABozowODAhBgNVHREEGjAYggpkb21haW4uY29t\nhwQKuUvJhwR/AAABMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUA\nA4IBAQA8lMQJxaTey7EjXtRLSVlEAMftAQPG6jijNQuvIBQYUDauDT4W2XUZ5wAn\njiOyQ83va672K1G9s8n6xlH+xwwdSNnozaKzC87vwSeZKIOdl9I5I98TGKI6OoDa\nezmzCwQYtHBMVQ4c7Ml8554Ft1mWSt4dMAK2rzNYjvPRLYlzp1HMnI6hkjPk4PCZ\nwKnha0dlScati9CCt3UzXSNJOSLalKdHErH08Iqd+1BchScxCfk0xNITn1HZZGmI\n+vbmunok3A2lucI14rnsrcbkGYqxGikySN6B2cRLBDK4Y3wChiW6NVYtVqcx5/mZ\niYsGDVN+9QBd0eYUHce+77s96i3I\n-----END
  CERTIFICATE-----",
| "admin_state_up" : true,
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "updated_at" : "2019-03-31T23:26:49Z",
| "type" : "server"
| },
| "request_id" : "d9abea6b-98ee-4ad4-8c5d-185ded48742f"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _deleting-a-certificate-2:

Deleting a Certificate
~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to delete an SSL certificate.

6. Constraints

If the certificate is used by a listener, the certificate cannot be
deleted, and the 409 Conflict error code will be displayed.

7. URI

DELETE /v3/{project_id}/elb/certificates/{certificate_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| certificate_id  | Yes             | String          | Specifies a     |
|                 |                 |                 | certificate ID. |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

9. Response Parameters

None

10. Example Requests

| DELETE
| https://{elb_endpoint}/v3/{project_id}/elb/certificates/{certificate_id}

11. Example Responses

None

12. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

13. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _listener-2:

Listener
--------

1. .. rubric:: Adding a Listener
      :name: adding-a-listener-2

   #. Function

This API is used to add a listener to a load balancer.

2. Constraints

Only the administrator can specify **connection_limit**.

-  The listener protocol can be TCP, HTTP, UDP, or HTTPS.

-  For load balancing at Layer 4, the listener protocol can only be TCP
   or UDP.

-  For load balancing at Layer 7, the listener protocol can only be HTTP
   or HTTPS.

-  For load balancing both at Layer 4 and Layer 7, TCP, UDP, HTTP, and
   HTTPS are supported.

   #. URI

POST /v3/{project_id}/elb/listeners

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener        | Yes             | Table 4-112     | Specifies the   |
|                 |                 | object          | listener.       |
+-----------------+-----------------+-----------------+-----------------+

3. CreateListenerOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | listener. The   |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| client_ca_tl    | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the CA    |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| default_pool_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | default backend |
|                 |                 |                 | server group.   |
|                 |                 |                 | If there is no  |
|                 |                 |                 | matched         |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy,         |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded to    |
|                 |                 |                 | the default     |
|                 |                 |                 | backend server  |
|                 |                 |                 | for processing. |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| default_tl      | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the       |
|                 |                 |                 | server          |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| http2_enable    | No              | Boolean         | Specifies       |
|                 |                 |                 | whether to use  |
|                 |                 |                 | HTTP/2. This    |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | for HTTPS       |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | you configure   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for other types |
|                 |                 |                 | of listeners,   |
|                 |                 |                 | it will not     |
|                 |                 |                 | take effect.    |
|                 |                 |                 |                 |
|                 |                 |                 | Enable HTTP/2   |
|                 |                 |                 | if you want the |
|                 |                 |                 | clients to use  |
|                 |                 |                 | HTTP/2 to       |
|                 |                 |                 | communicate     |
|                 |                 |                 | with the load   |
|                 |                 |                 | balancer.       |
|                 |                 |                 | However,        |
|                 |                 |                 | connections     |
|                 |                 |                 | between the     |
|                 |                 |                 | load balancer   |
|                 |                 |                 | and backend     |
|                 |                 |                 | servers use     |
|                 |                 |                 | HTTP/1.x by     |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| insert_headers  | No              | Table 4-113     | Specifies the   |
|                 |                 | object          | HTTP header     |
|                 |                 |                 | fields.         |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer that   |
|                 |                 |                 | the listener is |
|                 |                 |                 | added to.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | listener name.  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **32** |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | Yes             | String          | Specifies the   |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the          |
|                 |                 |                 | listener. The   |
|                 |                 |                 | protocol can be |
|                 |                 |                 | TCP, HTTP, UDP, |
|                 |                 |                 | or HTTPS.       |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | Yes             | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **65535**       |
+-----------------+-----------------+-----------------+-----------------+
| sni             | No              | Array of        | Lists the IDs   |
| _container_refs |                 | strings         | of SNI          |
|                 |                 |                 | certificates    |
|                 |                 |                 | (server         |
|                 |                 |                 | certificates    |
|                 |                 |                 | with domain     |
|                 |                 |                 | names) used by  |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | Each SNI        |
|                 |                 |                 | certificate can |
|                 |                 |                 | have up to 30   |
|                 |                 |                 | domain names,   |
|                 |                 |                 | and each domain |
|                 |                 |                 | name in the SNI |
|                 |                 |                 | certificate     |
|                 |                 |                 | must be unique. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will be ignored |
|                 |                 |                 | and an empty    |
|                 |                 |                 | array will be   |
|                 |                 |                 | returned if the |
|                 |                 |                 | listener's      |
|                 |                 |                 | protocol is not |
|                 |                 |                 | HTTPS.          |
+-----------------+-----------------+-----------------+-----------------+
| tags            | No              | Array of Table  | Lists the tags. |
|                 |                 | 4-114 objects   |                 |
+-----------------+-----------------+-----------------+-----------------+
| tls             | No              | String          | Specifies the   |
| _ciphers_policy |                 |                 | security policy |
|                 |                 |                 | that will be    |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTPS  |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **tls-1-0**. |
|                 |                 |                 |                 |
|                 |                 |                 | An error will   |
|                 |                 |                 | be returned if  |
|                 |                 |                 | the protocol of |
|                 |                 |                 | the listener is |
|                 |                 |                 | not HTTPS.      |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **tls-1-0**  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **tls-1-1**  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **tls-1-2**  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **t          |
|                 |                 |                 | ls-1-2-strict** |
+-----------------+-----------------+-----------------+-----------------+
| enab            | No              | Boolean         | Specifies       |
| le_member_retry |                 |                 | whether to      |
|                 |                 |                 | enable health   |
|                 |                 |                 | check retries   |
|                 |                 |                 | for backend     |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTP   |
|                 |                 |                 | and HTTPS       |
|                 |                 |                 | listeners.      |
|                 |                 |                 |                 |
|                 |                 |                 | An error will   |
|                 |                 |                 | be returned if  |
|                 |                 |                 | you configure   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for TCP and UDP |
|                 |                 |                 | listeners.      |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| ke              | No              | Integer         | Specifies the   |
| epalive_timeout |                 |                 | idle timeout    |
|                 |                 |                 | duration, in    |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  For TCP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **10** to    |
|                 |                 |                 |    **900**, and |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **300**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  For HTTP and |
|                 |                 |                 |    HTTPS        |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **300**, and |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **15**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  For UDP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    available.   |
|                 |                 |                 |    An error     |
|                 |                 |                 |    will be      |
|                 |                 |                 |    returned if  |
|                 |                 |                 |    you          |
|                 |                 |                 |    configure    |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    for UDP      |
|                 |                 |                 |    listeners.   |
+-----------------+-----------------+-----------------+-----------------+
| client_timeout  | No              | Integer         | Specifies the   |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | request from a  |
|                 |                 |                 | client, in      |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTP   |
|                 |                 |                 | and HTTPS       |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **60**, and the |
|                 |                 |                 | default value   |
|                 |                 |                 | is **60**.      |
|                 |                 |                 |                 |
|                 |                 |                 | An error will   |
|                 |                 |                 | be returned if  |
|                 |                 |                 | you configure   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for TCP and UDP |
|                 |                 |                 | listeners.      |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **300**         |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **60** |
+-----------------+-----------------+-----------------+-----------------+
| member_timeout  | No              | Integer         | Specifies the   |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | request from a  |
|                 |                 |                 | backend server, |
|                 |                 |                 | in seconds.     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTP   |
|                 |                 |                 | and HTTPS       |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **300**, and    |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **60**.         |
|                 |                 |                 |                 |
|                 |                 |                 | An error will   |
|                 |                 |                 | be returned if  |
|                 |                 |                 | you configure   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for TCP and UDP |
|                 |                 |                 | listeners.      |
+-----------------+-----------------+-----------------+-----------------+
| ipgroup         | No              | Table 4-115     | Specifies the   |
|                 |                 | object          | IP address      |
|                 |                 |                 | group           |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **null** or  |
|                 |                 |                 | an empty JSON   |
|                 |                 |                 | structure,      |
|                 |                 |                 | indicating that |
|                 |                 |                 | no IP address   |
|                 |                 |                 | group is        |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | **ipgroup_id**  |
|                 |                 |                 | is also         |
|                 |                 |                 | required if you |
|                 |                 |                 | want to         |
|                 |                 |                 | associate an IP |
|                 |                 |                 | address group   |
|                 |                 |                 | with the        |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| transparent_c   | No              | Boolean         | Specifies       |
| lient_ip_enable |                 |                 | whether to pass |
|                 |                 |                 | source IP       |
|                 |                 |                 | addresses of    |
|                 |                 |                 | the clients to  |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Shared load     |
|                 |                 |                 | balancers: The  |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false** for   |
|                 |                 |                 | TCP and UDP     |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true** for |
|                 |                 |                 | HTTP and HTTPS  |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not passed,  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | Dedicated load  |
|                 |                 |                 | balancers: The  |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true** for |
|                 |                 |                 | all types of    |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not passed,  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| enhance_        | No              | Boolean         | Specifies       |
| l7policy_enable |                 |                 | whether to      |
|                 |                 |                 | enable advanced |
|                 |                 |                 | forwarding. The |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**       |
|                 |                 |                 | (default).      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**     |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that         |
|                 |                 |                 |    advanced     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    will be      |
|                 |                 |                 |    enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that         |
|                 |                 |                 |    advanced     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    will not be  |
|                 |                 |                 |    enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | The following   |
|                 |                 |                 | parameters will |
|                 |                 |                 | be available    |
|                 |                 |                 | only when       |
|                 |                 |                 | advanced        |
|                 |                 |                 | forwarding is   |
|                 |                 |                 | enabled:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **redire     |
|                 |                 |                 | ct_url_config** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **fixed_re   |
|                 |                 |                 | sponse_config** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **priority** |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **conditions** |
|                 |                 |                 |                 |
|                 |                 |                 | For details,    |
|                 |                 |                 | see the         |
|                 |                 |                 | descriptions in |
|                 |                 |                 | the APIs of     |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policies and    |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rules.          |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. ListenerInsertHeaders

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-F             | No              | Boolean         | Specifies       |
| orwarded-ELB-IP |                 |                 | whether to      |
|                 |                 |                 | transparently   |
|                 |                 |                 | transmit the    |
|                 |                 |                 | load balancer   |
|                 |                 |                 | EIP to backend  |
|                 |                 |                 | servers. If     |
|                 |                 |                 | **X-For         |
|                 |                 |                 | warded-ELB-IP** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**, the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | EIP will be     |
|                 |                 |                 | stored in the   |
|                 |                 |                 | HTTP header and |
|                 |                 |                 | passed to       |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| X               | No              | Boolean         | Specifies       |
| -Forwarded-Port |                 |                 | whether to      |
|                 |                 |                 | transparently   |
|                 |                 |                 | transmit the    |
|                 |                 |                 | listening port  |
|                 |                 |                 | of the load     |
|                 |                 |                 | balancer to     |
|                 |                 |                 | backend         |
|                 |                 |                 | servers. If     |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Port** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**, the   |
|                 |                 |                 | listening port  |
|                 |                 |                 | of the load     |
|                 |                 |                 | balancer will   |
|                 |                 |                 | be stored in    |
|                 |                 |                 | the HTTP header |
|                 |                 |                 | and passed to   |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| X-For           | No              | Boolean         | Specifies       |
| warded-For-Port |                 |                 | whether to      |
|                 |                 |                 | transparently   |
|                 |                 |                 | transmit the    |
|                 |                 |                 | source port of  |
|                 |                 |                 | the client to   |
|                 |                 |                 | backend         |
|                 |                 |                 | servers. If     |
|                 |                 |                 | **X-Forwa       |
|                 |                 |                 | rded-For-Port** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**, the   |
|                 |                 |                 | source port of  |
|                 |                 |                 | the client will |
|                 |                 |                 | be stored in    |
|                 |                 |                 | the HTTP header |
|                 |                 |                 | and passed to   |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| X               | Yes             | Boolean         | Specifies       |
| -Forwarded-Host |                 |                 | whether to      |
|                 |                 |                 | rewrite the     |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Host** |
|                 |                 |                 | header. If      |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Host** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**,       |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Host** |
|                 |                 |                 | in the request  |
|                 |                 |                 | header from the |
|                 |                 |                 | clients can be  |
|                 |                 |                 | set to **Host** |
|                 |                 |                 | in the request  |
|                 |                 |                 | header sent     |
|                 |                 |                 | from the load   |
|                 |                 |                 | balancer to     |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+

2. Tag

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | tag key.        |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | tag value.      |
+-----------------+-----------------+-----------------+-----------------+

3. CreateListenerIpGroupOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| ipgroup_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the IP    |
|                 |                 |                 | address group   |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **ip_list**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **[]** and   |
|                 |                 |                 |    **type** to  |
|                 |                 |                 |                 |
|                 |                 |                 |  **whitelist**, |
|                 |                 |                 |    no IP        |
|                 |                 |                 |    addresses    |
|                 |                 |                 |    are allowed  |
|                 |                 |                 |    to access    |
|                 |                 |                 |    the          |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **ip_list**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **[]** and   |
|                 |                 |                 |    **type** to  |
|                 |                 |                 |                 |
|                 |                 |                 |  **blacklist**, |
|                 |                 |                 |    any IP       |
|                 |                 |                 |    address is   |
|                 |                 |                 |    allowed to   |
|                 |                 |                 |    access the   |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The          |
|                 |                 |                 |    specified IP |
|                 |                 |                 |    address      |
|                 |                 |                 |    group must   |
|                 |                 |                 |    exist and    |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | IP address      |
|                 |                 |                 | groups are not  |
|                 |                 |                 | supported for   |
|                 |                 |                 | now.            |
+-----------------+-----------------+-----------------+-----------------+
| enable_ipgroup  | No              | Boolean         | Specifies       |
|                 |                 |                 | whether to      |
|                 |                 |                 | enable access   |
|                 |                 |                 | control.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**     |
|                 |                 |                 |    (default):   |
|                 |                 |                 |    Access       |
|                 |                 |                 |    control will |
|                 |                 |                 |    be enabled.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**:   |
|                 |                 |                 |    Access       |
|                 |                 |                 |    control will |
|                 |                 |                 |    be disabled. |
|                 |                 |                 |                 |
|                 |                 |                 | A listener with |
|                 |                 |                 | access control  |
|                 |                 |                 | enabled can be  |
|                 |                 |                 | directly        |
|                 |                 |                 | deleted.        |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies how   |
|                 |                 |                 | access to the   |
|                 |                 |                 | listener is     |
|                 |                 |                 | controlled.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **white**    |
|                 |                 |                 |    (default): A |
|                 |                 |                 |    whitelist    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    configured.  |
|                 |                 |                 |    Only IP      |
|                 |                 |                 |    addresses in |
|                 |                 |                 |    the          |
|                 |                 |                 |    whitelist    |
|                 |                 |                 |    can access   |
|                 |                 |                 |    the          |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **black**: A |
|                 |                 |                 |    blacklist    |
|                 |                 |                 |    will be      |
|                 |                 |                 |    configured.  |
|                 |                 |                 |    IP addresses |
|                 |                 |                 |    in the       |
|                 |                 |                 |    blacklist    |
|                 |                 |                 |    are not      |
|                 |                 |                 |    allowed to   |
|                 |                 |                 |    access the   |
|                 |                 |                 |    listener.    |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| listener              | Table 4-117 object    | Specifies the         |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+

2. Listener

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener. And  |
|                       |                       | the value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections. The      |
|                       |                       | default value is      |
|                       |                       | **-1**.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the default backend   |
|                       |                       | server group. If      |
|                       |                       | there is no matched   |
|                       |                       | forwarding policy,    |
|                       |                       | requests are          |
|                       |                       | forwarded to the      |
|                       |                       | default backend       |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener.         |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2. This      |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners. If   |
|                       |                       | you configure this    |
|                       |                       | parameter for other   |
|                       |                       | types of listeners,   |
|                       |                       | it will not take      |
|                       |                       | effect.               |
|                       |                       |                       |
|                       |                       | Enable HTTP/2 if you  |
|                       |                       | want the clients to   |
|                       |                       | use HTTP/2 to         |
|                       |                       | communicate with the  |
|                       |                       | load balancer.        |
|                       |                       | However, connections  |
|                       |                       | between the load      |
|                       |                       | balancer and backend  |
|                       |                       | servers use HTTP/1.x  |
|                       |                       | by default.           |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| insert_headers        | Table 4-118 object    | Specifies the HTTP    |
|                       |                       | header fields.        |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-119  | Specifies the ID of   |
|                       | objects               | the load balancer     |
|                       |                       | that the listener is  |
|                       |                       | added to.             |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array of strings      | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with     |
|                       |                       | domain names) used by |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | Each SNI certificate  |
|                       |                       | can have up to 30     |
|                       |                       | domain names, and     |
|                       |                       | each domain name in   |
|                       |                       | the SNI certificate   |
|                       |                       | must be unique.       |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | be ignored and an     |
|                       |                       | empty array will be   |
|                       |                       | returned if the       |
|                       |                       | listener's protocol   |
|                       |                       | is not HTTPS.         |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-120  | Lists the tags.       |
|                       | objects               |                       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners.      |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**.       |
+-----------------------+-----------------------+-----------------------+
| enable_member_retry   | Boolean               | Specifies whether to  |
|                       |                       | enable health check   |
|                       |                       | retries for backend   |
|                       |                       | servers. This         |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners.            |
+-----------------------+-----------------------+-----------------------+
| keepalive_timeout     | Integer               | Specifies the idle    |
|                       |                       | timeout duration, in  |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the value ranges   |
|                       |                       |    from **10** to     |
|                       |                       |    **900**, and the   |
|                       |                       |    default value is   |
|                       |                       |    **300**.           |
|                       |                       |                       |
|                       |                       | -  For HTTP and HTTPS |
|                       |                       |    listeners, the     |
|                       |                       |    value ranges from  |
|                       |                       |    **1** to **300**,  |
|                       |                       |    and the default    |
|                       |                       |    value is **15**.   |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    this parameter     |
|                       |                       |    does not take      |
|                       |                       |    effect.            |
+-----------------------+-----------------------+-----------------------+
| client_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | client, in seconds.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **60**, and the       |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| member_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | backend server, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **300**, and the      |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| ipgroup               | Table 4-121 object    | Specifies the IP      |
|                       |                       | address group         |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| transpa               | Boolean               | Specifies whether to  |
| rent_client_ip_enable |                       | pass source IP        |
|                       |                       | addresses of the      |
|                       |                       | clients to backend    |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Shared load           |
|                       |                       | balancers: The value  |
|                       |                       | can be **true** or    |
|                       |                       | **false**, and the    |
|                       |                       | default value is      |
|                       |                       | **false** for TCP and |
|                       |                       | UDP listeners. The    |
|                       |                       | value can only be     |
|                       |                       | **true** for HTTP and |
|                       |                       | HTTPS listeners. If   |
|                       |                       | this parameter is not |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | Dedicated load        |
|                       |                       | balancers: The value  |
|                       |                       | can only be **true**  |
|                       |                       | for all types of      |
|                       |                       | listeners. If this    |
|                       |                       | parameter is not      |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
+-----------------------+-----------------------+-----------------------+
| en                    | Boolean               | Specifies whether to  |
| hance_l7policy_enable |                       | enable advanced       |
|                       |                       | forwarding. The value |
|                       |                       | can be **true** or    |
|                       |                       | **false** (default).  |
|                       |                       |                       |
|                       |                       | -  **true** indicates |
|                       |                       |    that advanced      |
|                       |                       |    forwarding will be |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**          |
|                       |                       |    indicates that     |
|                       |                       |    advanced           |
|                       |                       |    forwarding will    |
|                       |                       |    not be enabled.    |
|                       |                       |                       |
|                       |                       | The following         |
|                       |                       | parameters will be    |
|                       |                       | available only when   |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled:           |
|                       |                       |                       |
|                       |                       | -  **                 |
|                       |                       | redirect_url_config** |
|                       |                       |                       |
|                       |                       | -  **fi               |
|                       |                       | xed_response_config** |
|                       |                       |                       |
|                       |                       | -  **priority**       |
|                       |                       |                       |
|                       |                       | -  **conditions**     |
|                       |                       |                       |
|                       |                       | For details, see the  |
|                       |                       | descriptions in the   |
|                       |                       | APIs of forwarding    |
|                       |                       | policies and          |
|                       |                       | forwarding rules.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerInsertHeaders

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| X-Forwarded-ELB-IP    | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the load     |
|                       |                       | balancer EIP to       |
|                       |                       | backend servers. If   |
|                       |                       | *                     |
|                       |                       | *X-Forwarded-ELB-IP** |
|                       |                       | is set to **true**,   |
|                       |                       | the load balancer EIP |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Port      | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the          |
|                       |                       | listening port of the |
|                       |                       | load balancer to      |
|                       |                       | backend servers. If   |
|                       |                       | **X-Forwarded-Port**  |
|                       |                       | is set to **true**,   |
|                       |                       | the listening port of |
|                       |                       | the load balancer     |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-For-Port  | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the source   |
|                       |                       | port of the client to |
|                       |                       | backend servers. If   |
|                       |                       | **X                   |
|                       |                       | -Forwarded-For-Port** |
|                       |                       | is set to **true**,   |
|                       |                       | the source port of    |
|                       |                       | the client will be    |
|                       |                       | stored in the HTTP    |
|                       |                       | header and passed to  |
|                       |                       | backend servers.      |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Host      | Boolean               | Specifies whether to  |
|                       |                       | rewrite the           |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | header. If            |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | is set to **true**,   |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | in the request header |
|                       |                       | from the clients can  |
|                       |                       | be set to **Host** in |
|                       |                       | the request header    |
|                       |                       | sent from the load    |
|                       |                       | balancer to backend   |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerIpGroup

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| ipgroup_id            | String                | Specifies the ID of   |
|                       |                       | the IP address group  |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **whitelist**, no  |
|                       |                       |    IP addresses are   |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **blacklist**, any |
|                       |                       |    IP address is      |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  The specified IP   |
|                       |                       |    address group must |
|                       |                       |    exist and this     |
|                       |                       |    parameter cannot   |
|                       |                       |    be set to          |
|                       |                       |    **null**.          |
+-----------------------+-----------------------+-----------------------+
| enable_ipgroup        | Boolean               | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | -  **true**: Access   |
|                       |                       |    control is         |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**: Access  |
|                       |                       |    control is         |
|                       |                       |    disabled.          |
|                       |                       |                       |
|                       |                       | A listener with       |
|                       |                       | access control        |
|                       |                       | enabled can be        |
|                       |                       | directly deleted.     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies how access  |
|                       |                       | to the listener is    |
|                       |                       | controlled.           |
|                       |                       |                       |
|                       |                       | -  **white**: A       |
|                       |                       |    whitelist is       |
|                       |                       |    configured. Only   |
|                       |                       |    IP addresses in    |
|                       |                       |    the whitelist can  |
|                       |                       |    access the         |
|                       |                       |    listener.          |
|                       |                       |                       |
|                       |                       | -  **black**: A       |
|                       |                       |    blacklist is       |
|                       |                       |    configured. IP     |
|                       |                       |    addresses in the   |
|                       |                       |    blacklist are not  |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

-  Example 1: Adding an HTTPS listener

| POST
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/listeners
| {
| "listener" : {
| "protocol_port" : 90,
| "protocol" : "HTTPS",
| "loadbalancer_id" : "ac82ca77-8be3-4d65-9c4d-155771b463df",
| "name" : "My listener",
| "admin_state_up" : true,
| "default_tls_container_ref" : "4e7761d7c7d141c389479f2641c8bff8"
| }
| }

-  Example 2: Adding a TCP listener

| POST
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/listeners
| {
| "listener" : {
| "protocol_port" : 80,
| "protocol" : "TCP",
| "loadbalancer_id" : "098b2f68-af1c-41a9-8efd-69958722af62",
| "name" : "My listener",
| "admin_state_up" : true,
| "insert_headers" : {
| "X-Forwarded-ELB-IP" : true
| }
| }
| }

#. Example Responses

**Status code: 201**

Successful request.

| {
| "listener" : {
| "id" : "683cf917-3e51-4c41-830c-bc3a57e090f0",
| "name" : "My listener",
| "protocol_port" : 90,
| "protocol" : "HTTPS",
| "description" : "",
| "default_tls_container_ref" : "4e7761d7c7d141c389479f2641c8bff8",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "ac82ca77-8be3-4d65-9c4d-155771b463df"
| } ],
| "project_id" : "060576782980d5762f9ec014dd2f1148",
| "sni_container_refs" : [ ],
| "connection_limit" : -1,
| "tls_ciphers_policy" : "tls-1-0",
| "tags" : [ ],
| "created_at" : "2021-04-02T07:48:38Z",
| "updated_at" : "2021-04-02T07:48:38Z",
| "http2_enable" : false,
| "insert_headers" : {
| "X-Forwarded-ELB-IP" : false,
| "X-Forwarded-Host" : true,
| "X-Forwarded-For-Port" : false,
| "X-Forwarded-Port" : false
| },
| "member_timeout" : 60,
| "client_timeout" : 60,
| "keepalive_timeout" : 60,
| "enable_member_retry" : true,
| "transparent_client_ip_enable" : true,
| "enhance_l7policy_enable" : false
| },
| "request_id" : "830de7c7c38232d925db168bfb3cb0e8"
| }

2. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

3. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-listeners-2:

Querying Listeners
~~~~~~~~~~~~~~~~~~

4. Function

This API is used to query listeners.

5. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

6. URI

GET /v3/{project_id}/elb/listeners

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The last page   |
|                 |                 |                 | in the list     |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | No              | Array           | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple ports  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *protoco        |
|                 |                 |                 | l_port=xxx&prot |
|                 |                 |                 | ocol_port=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | No              | Array           | Specifies the   |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the          |
|                 |                 |                 | listener. The   |
|                 |                 |                 | protocol can be |
|                 |                 |                 | UDP, TCP, HTTP, |
|                 |                 |                 | or HTTPS.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | protocols can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *protocol=xxx   |
|                 |                 |                 | &protocol=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | Array           | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | descriptions    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *des            |
|                 |                 |                 | cription=xxx&de |
|                 |                 |                 | scription=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| default_tl      | No              | Array           | Specifies the   |
| s_container_ref |                 |                 | ID of the       |
|                 |                 |                 | server          |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *d              |
|                 |                 |                 | efault_tls_cont |
|                 |                 |                 | ainer_ref=xxx&d |
|                 |                 |                 | efault_tls_cont |
|                 |                 |                 | ainer_ref=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| client_ca_tl    | No              | Array           | Specifies the   |
| s_container_ref |                 |                 | ID of the CA    |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *clien          |
|                 |                 |                 | t_ca_tls_contai |
|                 |                 |                 | ner_ref=xxx&cli |
|                 |                 |                 | ent_ca_tls_cont |
|                 |                 |                 | ainer_ref=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | listener. The   |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| c               | No              | Array           | Specifies the   |
| onnection_limit |                 |                 | maximum number  |
|                 |                 |                 | of connections  |
|                 |                 |                 | that the load   |
|                 |                 |                 | balancer can    |
|                 |                 |                 | handle. The     |
|                 |                 |                 | default value   |
|                 |                 |                 | is **-1**.      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple values |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *connection_li  |
|                 |                 |                 | mit=xxx&connect |
|                 |                 |                 | ion_limit=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| default_pool_id | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | default backend |
|                 |                 |                 | server group.   |
|                 |                 |                 | If there is no  |
|                 |                 |                 | matched         |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy,         |
|                 |                 |                 | requests will   |
|                 |                 |                 | be routed to    |
|                 |                 |                 | the default     |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *default_poo    |
|                 |                 |                 | l_id=xxx&defaul |
|                 |                 |                 | t_pool_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | listener ID.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | name of the     |
|                 |                 |                 | listener added  |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| http2_enable    | No              | Boolean         | Specifies       |
|                 |                 |                 | whether to use  |
|                 |                 |                 | HTTP/2. This    |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | for HTTPS       |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | you configure   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for other types |
|                 |                 |                 | of listeners,   |
|                 |                 |                 | it will not     |
|                 |                 |                 | take effect.    |
|                 |                 |                 |                 |
|                 |                 |                 | Enable HTTP/2   |
|                 |                 |                 | if you want the |
|                 |                 |                 | clients to use  |
|                 |                 |                 | HTTP/2 to       |
|                 |                 |                 | communicate     |
|                 |                 |                 | with the load   |
|                 |                 |                 | balancer.       |
|                 |                 |                 | However,        |
|                 |                 |                 | connections     |
|                 |                 |                 | between the     |
|                 |                 |                 | load balancer   |
|                 |                 |                 | and backend     |
|                 |                 |                 | servers use     |
|                 |                 |                 | HTTP/1.x by     |
|                 |                 |                 | default.        |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer that   |
|                 |                 |                 | the listener is |
|                 |                 |                 | added to.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *loadbalance    |
|                 |                 |                 | r_id=xxx&loadba |
|                 |                 |                 | lancer_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| tls             | No              | Array           | Specifies the   |
| _ciphers_policy |                 |                 | security policy |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener. This  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | for HTTPS       |
|                 |                 |                 | listeners.      |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **tls-1-0**, |
|                 |                 |                 | **tls-1-1**,    |
|                 |                 |                 | **tls-1-2**, or |
|                 |                 |                 | **tl            |
|                 |                 |                 | s-1-2-strict**, |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **tls-1-0**.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | security        |
|                 |                 |                 | policies can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *tl             |
|                 |                 |                 | s_ciphers_polic |
|                 |                 |                 | y=xxx&tls_ciphe |
|                 |                 |                 | rs_policy=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| member_address  | No              | Array           | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address bound   |
|                 |                 |                 | to the backend  |
|                 |                 |                 | server. This    |
|                 |                 |                 | parameter is    |
|                 |                 |                 | used only as a  |
|                 |                 |                 | query condition |
|                 |                 |                 | and is not      |
|                 |                 |                 | included in the |
|                 |                 |                 | response.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IP     |
|                 |                 |                 | addresses can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *member_ad      |
|                 |                 |                 | dress=xxx&membe |
|                 |                 |                 | r_address=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Array           | Specifies the   |
| ember_device_id |                 |                 | ID of the cloud |
|                 |                 |                 | server that     |
|                 |                 |                 | serves as a     |
|                 |                 |                 | backend server. |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is used only as |
|                 |                 |                 | a query         |
|                 |                 |                 | condition and   |
|                 |                 |                 | is not included |
|                 |                 |                 | in the          |
|                 |                 |                 | response.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *member_device  |
|                 |                 |                 | _id=xxx&member_ |
|                 |                 |                 | device_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | Array           | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    resources in |
|                 |                 |                 |    the default  |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project are  |
|                 |                 |                 |    queried, and |
|                 |                 |                 |                 |
|                 |                 |                 |  authentication |
|                 |                 |                 |    is performed |
|                 |                 |                 |    based on the |
|                 |                 |                 |    default      |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    passed, its  |
|                 |                 |                 |    value can be |
|                 |                 |                 |    the ID of an |
|                 |                 |                 |    existing     |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project or   |
|                 |                 |                 |    **all        |
|                 |                 |                 | _granted_eps**. |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | a specific ID,  |
|                 |                 |                 | resources in    |
|                 |                 |                 | the specific    |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project are     |
|                 |                 |                 | required. If    |
|                 |                 |                 | the value is    |
|                 |                 |                 | **all           |
|                 |                 |                 | _granted_eps**, |
|                 |                 |                 | resources in    |
|                 |                 |                 | all enterprise  |
|                 |                 |                 | projects are    |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *enterpri       |
|                 |                 |                 | se_project_id=x |
|                 |                 |                 | xx&enterprise_p |
|                 |                 |                 | roject_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| enab            | No              | Boolean         | Specifies       |
| le_member_retry |                 |                 | whether to      |
|                 |                 |                 | enable health   |
|                 |                 |                 | check retries   |
|                 |                 |                 | for backend     |
|                 |                 |                 | servers.        |
+-----------------+-----------------+-----------------+-----------------+
| member_timeout  | No              | Array           | Specifies the   |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | request from a  |
|                 |                 |                 | backend server, |
|                 |                 |                 | in seconds.     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTP   |
|                 |                 |                 | and HTTPS       |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **300**.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | durations can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *member_ti      |
|                 |                 |                 | meout=xxx&membe |
|                 |                 |                 | r_timeout=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| client_timeout  | No              | Array           | Specifies the   |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | request from a  |
|                 |                 |                 | client, in      |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTP   |
|                 |                 |                 | and HTTPS       |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **60**.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | durations can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *client_ti      |
|                 |                 |                 | meout=xxx&clien |
|                 |                 |                 | t_timeout=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| ke              | No              | Array           | Specifies the   |
| epalive_timeout |                 |                 | idle timeout    |
|                 |                 |                 | duration, in    |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  For TCP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **10** to    |
|                 |                 |                 |    **900**, and |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **300**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  For HTTP and |
|                 |                 |                 |    HTTPS        |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **300**, and |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **15**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  For UDP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    does not     |
|                 |                 |                 |    take effect. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | durations can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *               |
|                 |                 |                 | keepalive_timeo |
|                 |                 |                 | ut=xxx&keepaliv |
|                 |                 |                 | e_timeout=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| transparent_c   | No              | Boolean         | Specifies       |
| lient_ip_enable |                 |                 | whether to pass |
|                 |                 |                 | source IP       |
|                 |                 |                 | addresses of    |
|                 |                 |                 | the clients to  |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Shared load     |
|                 |                 |                 | balancers: The  |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false** for   |
|                 |                 |                 | TCP and UDP     |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true** for |
|                 |                 |                 | HTTP and HTTPS  |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not passed,  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | Dedicated load  |
|                 |                 |                 | balancers: The  |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true** for |
|                 |                 |                 | all types of    |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not passed,  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-126 object    | Listener pagination   |
|                       |                       | information           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-127  | Lists the listeners.  |
|                       | objects               |                       |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. Listener

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener. And  |
|                       |                       | the value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections. The      |
|                       |                       | default value is      |
|                       |                       | **-1**.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the default backend   |
|                       |                       | server group. If      |
|                       |                       | there is no matched   |
|                       |                       | forwarding policy,    |
|                       |                       | requests are          |
|                       |                       | forwarded to the      |
|                       |                       | default backend       |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener.         |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2. This      |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners. If   |
|                       |                       | you configure this    |
|                       |                       | parameter for other   |
|                       |                       | types of listeners,   |
|                       |                       | it will not take      |
|                       |                       | effect.               |
|                       |                       |                       |
|                       |                       | Enable HTTP/2 if you  |
|                       |                       | want the clients to   |
|                       |                       | use HTTP/2 to         |
|                       |                       | communicate with the  |
|                       |                       | load balancer.        |
|                       |                       | However, connections  |
|                       |                       | between the load      |
|                       |                       | balancer and backend  |
|                       |                       | servers use HTTP/1.x  |
|                       |                       | by default.           |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| insert_headers        | Table 4-128 object    | Specifies the HTTP    |
|                       |                       | header fields.        |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-129  | Specifies the ID of   |
|                       | objects               | the load balancer     |
|                       |                       | that the listener is  |
|                       |                       | added to.             |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array of strings      | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with     |
|                       |                       | domain names) used by |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | Each SNI certificate  |
|                       |                       | can have up to 30     |
|                       |                       | domain names, and     |
|                       |                       | each domain name in   |
|                       |                       | the SNI certificate   |
|                       |                       | must be unique.       |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | be ignored and an     |
|                       |                       | empty array will be   |
|                       |                       | returned if the       |
|                       |                       | listener's protocol   |
|                       |                       | is not HTTPS.         |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-130  | Lists the tags.       |
|                       | objects               |                       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners.      |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**.       |
+-----------------------+-----------------------+-----------------------+
| enable_member_retry   | Boolean               | Specifies whether to  |
|                       |                       | enable health check   |
|                       |                       | retries for backend   |
|                       |                       | servers. This         |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners.            |
+-----------------------+-----------------------+-----------------------+
| keepalive_timeout     | Integer               | Specifies the idle    |
|                       |                       | timeout duration, in  |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the value ranges   |
|                       |                       |    from **10** to     |
|                       |                       |    **900**, and the   |
|                       |                       |    default value is   |
|                       |                       |    **300**.           |
|                       |                       |                       |
|                       |                       | -  For HTTP and HTTPS |
|                       |                       |    listeners, the     |
|                       |                       |    value ranges from  |
|                       |                       |    **1** to **300**,  |
|                       |                       |    and the default    |
|                       |                       |    value is **15**.   |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    this parameter     |
|                       |                       |    does not take      |
|                       |                       |    effect.            |
+-----------------------+-----------------------+-----------------------+
| client_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | client, in seconds.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **60**, and the       |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| member_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | backend server, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **300**, and the      |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| ipgroup               | Table 4-131 object    | Specifies the IP      |
|                       |                       | address group         |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| transpa               | Boolean               | Specifies whether to  |
| rent_client_ip_enable |                       | pass source IP        |
|                       |                       | addresses of the      |
|                       |                       | clients to backend    |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Shared load           |
|                       |                       | balancers: The value  |
|                       |                       | can be **true** or    |
|                       |                       | **false**, and the    |
|                       |                       | default value is      |
|                       |                       | **false** for TCP and |
|                       |                       | UDP listeners. The    |
|                       |                       | value can only be     |
|                       |                       | **true** for HTTP and |
|                       |                       | HTTPS listeners. If   |
|                       |                       | this parameter is not |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | Dedicated load        |
|                       |                       | balancers: The value  |
|                       |                       | can only be **true**  |
|                       |                       | for all types of      |
|                       |                       | listeners. If this    |
|                       |                       | parameter is not      |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
+-----------------------+-----------------------+-----------------------+
| en                    | Boolean               | Specifies whether to  |
| hance_l7policy_enable |                       | enable advanced       |
|                       |                       | forwarding. The value |
|                       |                       | can be **true** or    |
|                       |                       | **false** (default).  |
|                       |                       |                       |
|                       |                       | -  **true** indicates |
|                       |                       |    that advanced      |
|                       |                       |    forwarding will be |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**          |
|                       |                       |    indicates that     |
|                       |                       |    advanced           |
|                       |                       |    forwarding will    |
|                       |                       |    not be enabled.    |
|                       |                       |                       |
|                       |                       | The following         |
|                       |                       | parameters will be    |
|                       |                       | available only when   |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled:           |
|                       |                       |                       |
|                       |                       | -  **                 |
|                       |                       | redirect_url_config** |
|                       |                       |                       |
|                       |                       | -  **fi               |
|                       |                       | xed_response_config** |
|                       |                       |                       |
|                       |                       | -  **priority**       |
|                       |                       |                       |
|                       |                       | -  **conditions**     |
|                       |                       |                       |
|                       |                       | For details, see the  |
|                       |                       | descriptions in the   |
|                       |                       | APIs of forwarding    |
|                       |                       | policies and          |
|                       |                       | forwarding rules.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerInsertHeaders

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| X-Forwarded-ELB-IP    | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the load     |
|                       |                       | balancer EIP to       |
|                       |                       | backend servers. If   |
|                       |                       | *                     |
|                       |                       | *X-Forwarded-ELB-IP** |
|                       |                       | is set to **true**,   |
|                       |                       | the load balancer EIP |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Port      | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the          |
|                       |                       | listening port of the |
|                       |                       | load balancer to      |
|                       |                       | backend servers. If   |
|                       |                       | **X-Forwarded-Port**  |
|                       |                       | is set to **true**,   |
|                       |                       | the listening port of |
|                       |                       | the load balancer     |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-For-Port  | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the source   |
|                       |                       | port of the client to |
|                       |                       | backend servers. If   |
|                       |                       | **X                   |
|                       |                       | -Forwarded-For-Port** |
|                       |                       | is set to **true**,   |
|                       |                       | the source port of    |
|                       |                       | the client will be    |
|                       |                       | stored in the HTTP    |
|                       |                       | header and passed to  |
|                       |                       | backend servers.      |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Host      | Boolean               | Specifies whether to  |
|                       |                       | rewrite the           |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | header. If            |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | is set to **true**,   |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | in the request header |
|                       |                       | from the clients can  |
|                       |                       | be set to **Host** in |
|                       |                       | the request header    |
|                       |                       | sent from the load    |
|                       |                       | balancer to backend   |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerIpGroup

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| ipgroup_id            | String                | Specifies the ID of   |
|                       |                       | the IP address group  |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **whitelist**, no  |
|                       |                       |    IP addresses are   |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **blacklist**, any |
|                       |                       |    IP address is      |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  The specified IP   |
|                       |                       |    address group must |
|                       |                       |    exist and this     |
|                       |                       |    parameter cannot   |
|                       |                       |    be set to          |
|                       |                       |    **null**.          |
+-----------------------+-----------------------+-----------------------+
| enable_ipgroup        | Boolean               | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | -  **true**: Access   |
|                       |                       |    control is         |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**: Access  |
|                       |                       |    control is         |
|                       |                       |    disabled.          |
|                       |                       |                       |
|                       |                       | A listener with       |
|                       |                       | access control        |
|                       |                       | enabled can be        |
|                       |                       | directly deleted.     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies how access  |
|                       |                       | to the listener is    |
|                       |                       | controlled.           |
|                       |                       |                       |
|                       |                       | -  **white**: A       |
|                       |                       |    whitelist is       |
|                       |                       |    configured. Only   |
|                       |                       |    IP addresses in    |
|                       |                       |    the whitelist can  |
|                       |                       |    access the         |
|                       |                       |    listener.          |
|                       |                       |                       |
|                       |                       | -  **black**: A       |
|                       |                       |    blacklist is       |
|                       |                       |    configured. IP     |
|                       |                       |    addresses in the   |
|                       |                       |    blacklist are not  |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{ELB_Endpoint}/v3/060576782980d5762f9ec014dd2f1148/elb/listeners?limit=2&marker=22e221c4-37c7-45d6-a76a-6e5a3bf485ba

2. Example Responses

**Status code: 200**

Successful request.

| {
| "request_id" : "e77338298c98d52202fd60bdacec0d75",
| "listeners" : [ {
| "id" : "683cf917-3e51-4c41-830c-bc3a57e090f0",
| "name" : "My listener",
| "protocol_port" : 90,
| "protocol" : "HTTPS",
| "description" : "",
| "default_tls_container_ref" : "4e7761d7c7d141c389479f2641c8bff8",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "ac82ca77-8be3-4d65-9c4d-155771b463df"
| } ],
| "project_id" : "060576782980d5762f9ec014dd2f1148",
| "sni_container_refs" : [ ],
| "connection_limit" : -1,
| "tls_ciphers_policy" : "tls-1-0",
| "tags" : [ ],
| "created_at" : "2021-04-02T07:48:38Z",
| "updated_at" : "2021-04-02T07:48:38Z",
| "http2_enable" : false,
| "insert_headers" : {
| "X-Forwarded-ELB-IP" : false,
| "X-Forwarded-Host" : true,
| "X-Forwarded-For-Port" : false,
| "X-Forwarded-Port" : false
| },
| "member_timeout" : 60,
| "client_timeout" : 60,
| "keepalive_timeout" : 60,
| "enable_member_retry" : true,
| "transparent_client_ip_enable" : true,
| "enhance_l7policy_enable" : false
| }, {
| "id" : "1173360b-5911-4aa9-a1ec-05e9f714370c",
| "name" : "listener-sshd",
| "protocol_port" : 22,
| "protocol" : "TCP",
| "description" : "",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "4d196846-d63c-4e7b-9875-2c4f04a48661"
| } ],
| "project_id" : "060576782980d5762f9ec014dd2f1148",
| "sni_container_refs" : [ ],
| "connection_limit" : -1,
| "default_pool_id" : "6350052f-e060-4f80-b92f-f21255dba4c4",
| "tags" : [ ],
| "created_at" : "2021-04-01T08:21:15Z",
| "updated_at" : "2021-04-01T08:21:15Z",
| "http2_enable" : false,
| "insert_headers" : {
| "X-Forwarded-ELB-IP" : false,
| "X-Forwarded-Host" : true,
| "X-Forwarded-For-Port" : false,
| "X-Forwarded-Port" : false
| },
| "keepalive_timeout" : 4000,
| "enable_member_retry" : true,
| "transparent_client_ip_enable" : true,
| "enhance_l7policy_enable" : false
| } ],
| "page_info" : {
| "next_marker" : "1173360b-5911-4aa9-a1ec-05e9f714370c",
| "previous_marker" : "683cf917-3e51-4c41-830c-bc3a57e090f0",
| "current_count" : 2
| }
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Listener
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of a listener.

6. URI

GET /v3/{project_id}/elb/listeners/{listener_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| listener              | Table 4-135 object    | Specifies the         |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+

2. Listener

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener. And  |
|                       |                       | the value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections. The      |
|                       |                       | default value is      |
|                       |                       | **-1**.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the default backend   |
|                       |                       | server group. If      |
|                       |                       | there is no matched   |
|                       |                       | forwarding policy,    |
|                       |                       | requests are          |
|                       |                       | forwarded to the      |
|                       |                       | default backend       |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener.         |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2. This      |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners. If   |
|                       |                       | you configure this    |
|                       |                       | parameter for other   |
|                       |                       | types of listeners,   |
|                       |                       | it will not take      |
|                       |                       | effect.               |
|                       |                       |                       |
|                       |                       | Enable HTTP/2 if you  |
|                       |                       | want the clients to   |
|                       |                       | use HTTP/2 to         |
|                       |                       | communicate with the  |
|                       |                       | load balancer.        |
|                       |                       | However, connections  |
|                       |                       | between the load      |
|                       |                       | balancer and backend  |
|                       |                       | servers use HTTP/1.x  |
|                       |                       | by default.           |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| insert_headers        | Table 4-136 object    | Specifies the HTTP    |
|                       |                       | header fields.        |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-137  | Specifies the ID of   |
|                       | objects               | the load balancer     |
|                       |                       | that the listener is  |
|                       |                       | added to.             |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array of strings      | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with     |
|                       |                       | domain names) used by |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | Each SNI certificate  |
|                       |                       | can have up to 30     |
|                       |                       | domain names, and     |
|                       |                       | each domain name in   |
|                       |                       | the SNI certificate   |
|                       |                       | must be unique.       |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | be ignored and an     |
|                       |                       | empty array will be   |
|                       |                       | returned if the       |
|                       |                       | listener's protocol   |
|                       |                       | is not HTTPS.         |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-138  | Lists the tags.       |
|                       | objects               |                       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners.      |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**.       |
+-----------------------+-----------------------+-----------------------+
| enable_member_retry   | Boolean               | Specifies whether to  |
|                       |                       | enable health check   |
|                       |                       | retries for backend   |
|                       |                       | servers. This         |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners.            |
+-----------------------+-----------------------+-----------------------+
| keepalive_timeout     | Integer               | Specifies the idle    |
|                       |                       | timeout duration, in  |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the value ranges   |
|                       |                       |    from **10** to     |
|                       |                       |    **900**, and the   |
|                       |                       |    default value is   |
|                       |                       |    **300**.           |
|                       |                       |                       |
|                       |                       | -  For HTTP and HTTPS |
|                       |                       |    listeners, the     |
|                       |                       |    value ranges from  |
|                       |                       |    **1** to **300**,  |
|                       |                       |    and the default    |
|                       |                       |    value is **15**.   |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    this parameter     |
|                       |                       |    does not take      |
|                       |                       |    effect.            |
+-----------------------+-----------------------+-----------------------+
| client_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | client, in seconds.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **60**, and the       |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| member_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | backend server, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **300**, and the      |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| ipgroup               | Table 4-139 object    | Specifies the IP      |
|                       |                       | address group         |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| transpa               | Boolean               | Specifies whether to  |
| rent_client_ip_enable |                       | pass source IP        |
|                       |                       | addresses of the      |
|                       |                       | clients to backend    |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Shared load           |
|                       |                       | balancers: The value  |
|                       |                       | can be **true** or    |
|                       |                       | **false**, and the    |
|                       |                       | default value is      |
|                       |                       | **false** for TCP and |
|                       |                       | UDP listeners. The    |
|                       |                       | value can only be     |
|                       |                       | **true** for HTTP and |
|                       |                       | HTTPS listeners. If   |
|                       |                       | this parameter is not |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | Dedicated load        |
|                       |                       | balancers: The value  |
|                       |                       | can only be **true**  |
|                       |                       | for all types of      |
|                       |                       | listeners. If this    |
|                       |                       | parameter is not      |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
+-----------------------+-----------------------+-----------------------+
| en                    | Boolean               | Specifies whether to  |
| hance_l7policy_enable |                       | enable advanced       |
|                       |                       | forwarding. The value |
|                       |                       | can be **true** or    |
|                       |                       | **false** (default).  |
|                       |                       |                       |
|                       |                       | -  **true** indicates |
|                       |                       |    that advanced      |
|                       |                       |    forwarding will be |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**          |
|                       |                       |    indicates that     |
|                       |                       |    advanced           |
|                       |                       |    forwarding will    |
|                       |                       |    not be enabled.    |
|                       |                       |                       |
|                       |                       | The following         |
|                       |                       | parameters will be    |
|                       |                       | available only when   |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled:           |
|                       |                       |                       |
|                       |                       | -  **                 |
|                       |                       | redirect_url_config** |
|                       |                       |                       |
|                       |                       | -  **fi               |
|                       |                       | xed_response_config** |
|                       |                       |                       |
|                       |                       | -  **priority**       |
|                       |                       |                       |
|                       |                       | -  **conditions**     |
|                       |                       |                       |
|                       |                       | For details, see the  |
|                       |                       | descriptions in the   |
|                       |                       | APIs of forwarding    |
|                       |                       | policies and          |
|                       |                       | forwarding rules.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerInsertHeaders

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| X-Forwarded-ELB-IP    | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the load     |
|                       |                       | balancer EIP to       |
|                       |                       | backend servers. If   |
|                       |                       | *                     |
|                       |                       | *X-Forwarded-ELB-IP** |
|                       |                       | is set to **true**,   |
|                       |                       | the load balancer EIP |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Port      | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the          |
|                       |                       | listening port of the |
|                       |                       | load balancer to      |
|                       |                       | backend servers. If   |
|                       |                       | **X-Forwarded-Port**  |
|                       |                       | is set to **true**,   |
|                       |                       | the listening port of |
|                       |                       | the load balancer     |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-For-Port  | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the source   |
|                       |                       | port of the client to |
|                       |                       | backend servers. If   |
|                       |                       | **X                   |
|                       |                       | -Forwarded-For-Port** |
|                       |                       | is set to **true**,   |
|                       |                       | the source port of    |
|                       |                       | the client will be    |
|                       |                       | stored in the HTTP    |
|                       |                       | header and passed to  |
|                       |                       | backend servers.      |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Host      | Boolean               | Specifies whether to  |
|                       |                       | rewrite the           |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | header. If            |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | is set to **true**,   |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | in the request header |
|                       |                       | from the clients can  |
|                       |                       | be set to **Host** in |
|                       |                       | the request header    |
|                       |                       | sent from the load    |
|                       |                       | balancer to backend   |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerIpGroup

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| ipgroup_id            | String                | Specifies the ID of   |
|                       |                       | the IP address group  |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **whitelist**, no  |
|                       |                       |    IP addresses are   |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **blacklist**, any |
|                       |                       |    IP address is      |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  The specified IP   |
|                       |                       |    address group must |
|                       |                       |    exist and this     |
|                       |                       |    parameter cannot   |
|                       |                       |    be set to          |
|                       |                       |    **null**.          |
+-----------------------+-----------------------+-----------------------+
| enable_ipgroup        | Boolean               | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | -  **true**: Access   |
|                       |                       |    control is         |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**: Access  |
|                       |                       |    control is         |
|                       |                       |    disabled.          |
|                       |                       |                       |
|                       |                       | A listener with       |
|                       |                       | access control        |
|                       |                       | enabled can be        |
|                       |                       | directly deleted.     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies how access  |
|                       |                       | to the listener is    |
|                       |                       | controlled.           |
|                       |                       |                       |
|                       |                       | -  **white**: A       |
|                       |                       |    whitelist is       |
|                       |                       |    configured. Only   |
|                       |                       |    IP addresses in    |
|                       |                       |    the whitelist can  |
|                       |                       |    access the         |
|                       |                       |    listener.          |
|                       |                       |                       |
|                       |                       | -  **black**: A       |
|                       |                       |    blacklist is       |
|                       |                       |    configured. IP     |
|                       |                       |    addresses in the   |
|                       |                       |    blacklist are not  |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{ELB_Endpoint}/v3/060576782980d5762f9ec014dd2f1148/elb/listeners/683cf917-3e51-4c41-830c-bc3a57e090f0

2. Example Responses

**Status code: 200**

Successful request.

| {
| "listener" : {
| "id" : "683cf917-3e51-4c41-830c-bc3a57e090f0",
| "name" : "My listener",
| "protocol_port" : 90,
| "protocol" : "HTTPS",
| "description" : "",
| "default_tls_container_ref" : "4e7761d7c7d141c389479f2641c8bff8",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "ac82ca77-8be3-4d65-9c4d-155771b463df"
| } ],
| "project_id" : "060576782980d5762f9ec014dd2f1148",
| "sni_container_refs" : [ ],
| "connection_limit" : -1,
| "tls_ciphers_policy" : "tls-1-0",
| "tags" : [ ],
| "created_at" : "2021-04-02T07:48:38Z",
| "updated_at" : "2021-04-02T07:48:38Z",
| "http2_enable" : false,
| "insert_headers" : {
| "X-Forwarded-ELB-IP" : false,
| "X-Forwarded-Host" : true,
| "X-Forwarded-For-Port" : false,
| "X-Forwarded-Port" : false
| },
| "member_timeout" : 60,
| "client_timeout" : 60,
| "keepalive_timeout" : 60,
| "enable_member_retry" : true,
| "transparent_client_ip_enable" : true,
| "enhance_l7policy_enable" : false
| },
| "request_id" : "830de7c7c38232d925db168bfb3cb0e8"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-listener-1:

Updating a Listener
~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to update a listener.

6. Constraints

If the provisioning status of the load balancer that the listener is
added to is not **ACTIVE**, the listener cannot be updated. Only the
administrator can specify **connection_limit**.

7. URI

PUT /v3/{project_id}/elb/listeners/{listener_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | tenant ID.      |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| listener        | Yes             | Table 4-143     | Specifies the   |
|                 |                 | object          | listener.       |
+-----------------+-----------------+-----------------+-----------------+

3. UpdateListenerOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | listener. And   |
|                 |                 |                 | the value can   |
|                 |                 |                 | only be         |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| client_ca_tl    | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the CA    |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
+-----------------+-----------------+-----------------+-----------------+
| default_pool_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | default backend |
|                 |                 |                 | server group.   |
|                 |                 |                 | If there is no  |
|                 |                 |                 | matched         |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy,         |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded to    |
|                 |                 |                 | the default     |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| default_tl      | No              | String          | Specifies the   |
| s_container_ref |                 |                 | ID of the       |
|                 |                 |                 | server          |
|                 |                 |                 | certificate     |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| http2_enable    | No              | Boolean         | Specifies       |
|                 |                 |                 | whether to use  |
|                 |                 |                 | HTTP/2. This    |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | for HTTPS       |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | you configure   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | for other types |
|                 |                 |                 | of listeners,   |
|                 |                 |                 | it will not     |
|                 |                 |                 | take effect.    |
|                 |                 |                 |                 |
|                 |                 |                 | Enable HTTP/2   |
|                 |                 |                 | if you want the |
|                 |                 |                 | clients to use  |
|                 |                 |                 | HTTP/2 to       |
|                 |                 |                 | communicate     |
|                 |                 |                 | with the load   |
|                 |                 |                 | balancer.       |
|                 |                 |                 | However,        |
|                 |                 |                 | connections     |
|                 |                 |                 | between the     |
|                 |                 |                 | load balancer   |
|                 |                 |                 | and backend     |
|                 |                 |                 | servers use     |
|                 |                 |                 | HTTP/1.x by     |
|                 |                 |                 | default.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| insert_headers  | No              | Table 4-144     | Specifies the   |
|                 |                 | object          | HTTP header     |
|                 |                 |                 | fields.         |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | listener name.  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| sni             | No              | Array of        | Lists the IDs   |
| _container_refs |                 | strings         | of SNI          |
|                 |                 |                 | certificates    |
|                 |                 |                 | (server         |
|                 |                 |                 | certificates    |
|                 |                 |                 | with domain     |
|                 |                 |                 | names) used by  |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | Each SNI        |
|                 |                 |                 | certificate can |
|                 |                 |                 | have up to 30   |
|                 |                 |                 | domain names,   |
|                 |                 |                 | and each domain |
|                 |                 |                 | name in the SNI |
|                 |                 |                 | certificate     |
|                 |                 |                 | must be unique. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will be ignored |
|                 |                 |                 | and an empty    |
|                 |                 |                 | array will be   |
|                 |                 |                 | returned if the |
|                 |                 |                 | listener's      |
|                 |                 |                 | protocol is not |
|                 |                 |                 | HTTPS.          |
+-----------------+-----------------+-----------------+-----------------+
| tls             | No              | String          | Specifies the   |
| _ciphers_policy |                 |                 | security policy |
|                 |                 |                 | used by the     |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTPS  |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | default value   |
|                 |                 |                 | is **tls-1-0**. |
|                 |                 |                 |                 |
|                 |                 |                 | An error will   |
|                 |                 |                 | be returned if  |
|                 |                 |                 | the protocol of |
|                 |                 |                 | the listener is |
|                 |                 |                 | not HTTPS.      |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **tls-1-0**  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **tls-1-1**  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **tls-1-2**  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **t          |
|                 |                 |                 | ls-1-2-strict** |
+-----------------+-----------------+-----------------+-----------------+
| enab            | No              | Boolean         | Specifies       |
| le_member_retry |                 |                 | whether to      |
|                 |                 |                 | enable health   |
|                 |                 |                 | check retries   |
|                 |                 |                 | for backend     |
|                 |                 |                 | servers. This   |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | for HTTP and    |
|                 |                 |                 | HTTPS listeners |
|                 |                 |                 | of Shared load  |
|                 |                 |                 | balancers.      |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| member_timeout  | No              | Integer         | Specifies the   |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | request from a  |
|                 |                 |                 | backend server, |
|                 |                 |                 | in seconds.     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTP   |
|                 |                 |                 | and HTTPS       |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **300**, and    |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **60**.         |
+-----------------+-----------------+-----------------+-----------------+
| client_timeout  | No              | Integer         | Specifies the   |
|                 |                 |                 | timeout         |
|                 |                 |                 | duration for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | request from a  |
|                 |                 |                 | client, in      |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only for HTTP   |
|                 |                 |                 | and HTTPS       |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **60**, and the |
|                 |                 |                 | default value   |
|                 |                 |                 | is **60**.      |
+-----------------+-----------------+-----------------+-----------------+
| ke              | No              | Integer         | Specifies the   |
| epalive_timeout |                 |                 | idle timeout    |
|                 |                 |                 | duration, in    |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  For TCP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **10** to    |
|                 |                 |                 |    **900**, and |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **300**.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  For HTTP and |
|                 |                 |                 |    HTTPS        |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the value    |
|                 |                 |                 |    ranges from  |
|                 |                 |                 |    **1** to     |
|                 |                 |                 |    **300**, and |
|                 |                 |                 |    the default  |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **15**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  For UDP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    invalid.     |
+-----------------+-----------------+-----------------+-----------------+
| ipgroup         | No              | Table 4-145     | Specifies the   |
|                 |                 | object          | IP address      |
|                 |                 |                 | group           |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **null** or  |
|                 |                 |                 | an empty JSON   |
|                 |                 |                 | structure,      |
|                 |                 |                 | indicating that |
|                 |                 |                 | no IP address   |
|                 |                 |                 | group is        |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | **ipgroup_id**  |
|                 |                 |                 | is also         |
|                 |                 |                 | required if you |
|                 |                 |                 | want to         |
|                 |                 |                 | associate an IP |
|                 |                 |                 | address group   |
|                 |                 |                 | with the        |
|                 |                 |                 | listener.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| transparent_c   | No              | Boolean         | Specifies       |
| lient_ip_enable |                 |                 | whether to pass |
|                 |                 |                 | source IP       |
|                 |                 |                 | addresses of    |
|                 |                 |                 | the clients to  |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Shared load     |
|                 |                 |                 | balancers: The  |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false** for   |
|                 |                 |                 | TCP and UDP     |
|                 |                 |                 | listeners. The  |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true** for |
|                 |                 |                 | HTTP and HTTPS  |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not passed,  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | Dedicated load  |
|                 |                 |                 | balancers: The  |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **true** for |
|                 |                 |                 | all types of    |
|                 |                 |                 | listeners. If   |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is not passed,  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
+-----------------+-----------------+-----------------+-----------------+
| enhance_        | No              | Boolean         | Specifies       |
| l7policy_enable |                 |                 | whether to      |
|                 |                 |                 | enable advanced |
|                 |                 |                 | forwarding. The |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**       |
|                 |                 |                 | (default).      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**     |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that         |
|                 |                 |                 |    advanced     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    will be      |
|                 |                 |                 |    enabled.     |
|                 |                 |                 |    Advanced     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    disabled     |
|                 |                 |                 |    once it is   |
|                 |                 |                 |    enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that         |
|                 |                 |                 |    advanced     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    will not be  |
|                 |                 |                 |    enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | The following   |
|                 |                 |                 | parameters will |
|                 |                 |                 | be available    |
|                 |                 |                 | only when       |
|                 |                 |                 | advanced        |
|                 |                 |                 | forwarding is   |
|                 |                 |                 | enabled:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **redire     |
|                 |                 |                 | ct_url_config** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **fixed_re   |
|                 |                 |                 | sponse_config** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **priority** |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **conditions** |
|                 |                 |                 |                 |
|                 |                 |                 | For details,    |
|                 |                 |                 | see the         |
|                 |                 |                 | descriptions in |
|                 |                 |                 | the APIs of     |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policies and    |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rules.          |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. ListenerInsertHeaders

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-F             | No              | Boolean         | Specifies       |
| orwarded-ELB-IP |                 |                 | whether to      |
|                 |                 |                 | transparently   |
|                 |                 |                 | transmit the    |
|                 |                 |                 | load balancer   |
|                 |                 |                 | EIP to backend  |
|                 |                 |                 | servers. If     |
|                 |                 |                 | **X-For         |
|                 |                 |                 | warded-ELB-IP** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**, the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | EIP will be     |
|                 |                 |                 | stored in the   |
|                 |                 |                 | HTTP header and |
|                 |                 |                 | passed to       |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| X               | No              | Boolean         | Specifies       |
| -Forwarded-Port |                 |                 | whether to      |
|                 |                 |                 | transparently   |
|                 |                 |                 | transmit the    |
|                 |                 |                 | listening port  |
|                 |                 |                 | of the load     |
|                 |                 |                 | balancer to     |
|                 |                 |                 | backend         |
|                 |                 |                 | servers. If     |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Port** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**, the   |
|                 |                 |                 | listening port  |
|                 |                 |                 | of the load     |
|                 |                 |                 | balancer will   |
|                 |                 |                 | be stored in    |
|                 |                 |                 | the HTTP header |
|                 |                 |                 | and passed to   |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| X-For           | No              | Boolean         | Specifies       |
| warded-For-Port |                 |                 | whether to      |
|                 |                 |                 | transparently   |
|                 |                 |                 | transmit the    |
|                 |                 |                 | source port of  |
|                 |                 |                 | the client to   |
|                 |                 |                 | backend         |
|                 |                 |                 | servers. If     |
|                 |                 |                 | **X-Forwa       |
|                 |                 |                 | rded-For-Port** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**, the   |
|                 |                 |                 | source port of  |
|                 |                 |                 | the client will |
|                 |                 |                 | be stored in    |
|                 |                 |                 | the HTTP header |
|                 |                 |                 | and passed to   |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| X               | Yes             | Boolean         | Specifies       |
| -Forwarded-Host |                 |                 | whether to      |
|                 |                 |                 | rewrite the     |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Host** |
|                 |                 |                 | header. If      |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Host** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**,       |
|                 |                 |                 | **X-F           |
|                 |                 |                 | orwarded-Host** |
|                 |                 |                 | in the request  |
|                 |                 |                 | header from the |
|                 |                 |                 | clients can be  |
|                 |                 |                 | set to **Host** |
|                 |                 |                 | in the request  |
|                 |                 |                 | header sent     |
|                 |                 |                 | from the load   |
|                 |                 |                 | balancer to     |
|                 |                 |                 | backend         |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+

2. UpdateListenerIpGroupOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| ipgroup_id      | No              | String          | Specifies the   |
|                 |                 |                 | ID of the IP    |
|                 |                 |                 | address group   |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **ip_list**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **[]** and   |
|                 |                 |                 |    **type** to  |
|                 |                 |                 |                 |
|                 |                 |                 |  **whitelist**, |
|                 |                 |                 |    no IP        |
|                 |                 |                 |    addresses    |
|                 |                 |                 |    are allowed  |
|                 |                 |                 |    to access    |
|                 |                 |                 |    the          |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **ip_list**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **[]** and   |
|                 |                 |                 |    **type** to  |
|                 |                 |                 |                 |
|                 |                 |                 |  **blacklist**, |
|                 |                 |                 |    any IP       |
|                 |                 |                 |    address is   |
|                 |                 |                 |    allowed to   |
|                 |                 |                 |    access the   |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  The          |
|                 |                 |                 |    specified IP |
|                 |                 |                 |    address      |
|                 |                 |                 |    group must   |
|                 |                 |                 |    exist and    |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    set to       |
|                 |                 |                 |    **null**.    |
|                 |                 |                 |                 |
|                 |                 |                 | IP address      |
|                 |                 |                 | groups are not  |
|                 |                 |                 | supported for   |
|                 |                 |                 | now.            |
+-----------------+-----------------+-----------------+-----------------+
| enable_ipgroup  | No              | Boolean         | Specifies       |
|                 |                 |                 | whether access  |
|                 |                 |                 | control is      |
|                 |                 |                 | enabled.        |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**:    |
|                 |                 |                 |    Access       |
|                 |                 |                 |    control is   |
|                 |                 |                 |    enabled.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**:   |
|                 |                 |                 |    Access       |
|                 |                 |                 |    control is   |
|                 |                 |                 |    disabled.    |
|                 |                 |                 |                 |
|                 |                 |                 | A listener with |
|                 |                 |                 | access control  |
|                 |                 |                 | enabled can be  |
|                 |                 |                 | directly        |
|                 |                 |                 | deleted.        |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies how   |
|                 |                 |                 | access to the   |
|                 |                 |                 | listener is     |
|                 |                 |                 | controlled.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **white**: A |
|                 |                 |                 |    whitelist is |
|                 |                 |                 |    configured.  |
|                 |                 |                 |    Only IP      |
|                 |                 |                 |    addresses in |
|                 |                 |                 |    the          |
|                 |                 |                 |    whitelist    |
|                 |                 |                 |    can access   |
|                 |                 |                 |    the          |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **black**: A |
|                 |                 |                 |    blacklist is |
|                 |                 |                 |    configured.  |
|                 |                 |                 |    IP addresses |
|                 |                 |                 |    in the       |
|                 |                 |                 |    blacklist    |
|                 |                 |                 |    are not      |
|                 |                 |                 |    allowed to   |
|                 |                 |                 |    access the   |
|                 |                 |                 |    listener.    |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| listener              | Table 4-147 object    | Specifies the         |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+

2. Listener

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the listener. And  |
|                       |                       | the value can only be |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| client                | String                | Specifies the ID of   |
| _ca_tls_container_ref |                       | the CA certificate    |
|                       |                       | used by the listener. |
+-----------------------+-----------------------+-----------------------+
| connection_limit      | Integer               | Specifies the maximum |
|                       |                       | number of             |
|                       |                       | connections. The      |
|                       |                       | default value is      |
|                       |                       | **-1**.               |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| created_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | created.              |
+-----------------------+-----------------------+-----------------------+
| default_pool_id       | String                | Specifies the ID of   |
|                       |                       | the default backend   |
|                       |                       | server group. If      |
|                       |                       | there is no matched   |
|                       |                       | forwarding policy,    |
|                       |                       | requests are          |
|                       |                       | forwarded to the      |
|                       |                       | default backend       |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+
| defa                  | String                | Specifies the ID of   |
| ult_tls_container_ref |                       | the server            |
|                       |                       | certificate used by   |
|                       |                       | the listener.         |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| http2_enable          | Boolean               | Specifies whether to  |
|                       |                       | use HTTP/2. This      |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners. If   |
|                       |                       | you configure this    |
|                       |                       | parameter for other   |
|                       |                       | types of listeners,   |
|                       |                       | it will not take      |
|                       |                       | effect.               |
|                       |                       |                       |
|                       |                       | Enable HTTP/2 if you  |
|                       |                       | want the clients to   |
|                       |                       | use HTTP/2 to         |
|                       |                       | communicate with the  |
|                       |                       | load balancer.        |
|                       |                       | However, connections  |
|                       |                       | between the load      |
|                       |                       | balancer and backend  |
|                       |                       | servers use HTTP/1.x  |
|                       |                       | by default.           |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+
| insert_headers        | Table 4-148 object    | Specifies the HTTP    |
|                       |                       | header fields.        |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-149  | Specifies the ID of   |
|                       | objects               | the load balancer     |
|                       |                       | that the listener is  |
|                       |                       | added to.             |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | listener name.        |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the ID of   |
|                       |                       | the project where the |
|                       |                       | listener is used.     |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | listener.             |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the listener. |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| sni_container_refs    | Array of strings      | Lists the IDs of SNI  |
|                       |                       | certificates (server  |
|                       |                       | certificates with     |
|                       |                       | domain names) used by |
|                       |                       | the listener.         |
|                       |                       |                       |
|                       |                       | Each SNI certificate  |
|                       |                       | can have up to 30     |
|                       |                       | domain names, and     |
|                       |                       | each domain name in   |
|                       |                       | the SNI certificate   |
|                       |                       | must be unique.       |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | be ignored and an     |
|                       |                       | empty array will be   |
|                       |                       | returned if the       |
|                       |                       | listener's protocol   |
|                       |                       | is not HTTPS.         |
+-----------------------+-----------------------+-----------------------+
| tags                  | Array of Table 4-150  | Lists the tags.       |
|                       | objects               |                       |
+-----------------------+-----------------------+-----------------------+
| updated_at            | String                | Specifies the time    |
|                       |                       | when the listener was |
|                       |                       | updated.              |
+-----------------------+-----------------------+-----------------------+
| tls_ciphers_policy    | String                | Specifies the         |
|                       |                       | security policy used  |
|                       |                       | by the listener. This |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTPS listeners.      |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **tls-1-0**,          |
|                       |                       | **tls-1-1**,          |
|                       |                       | **tls-1-2**, or       |
|                       |                       | **tls-1-2-strict**,   |
|                       |                       | and the default value |
|                       |                       | is **tls-1-0**.       |
+-----------------------+-----------------------+-----------------------+
| enable_member_retry   | Boolean               | Specifies whether to  |
|                       |                       | enable health check   |
|                       |                       | retries for backend   |
|                       |                       | servers. This         |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners.            |
+-----------------------+-----------------------+-----------------------+
| keepalive_timeout     | Integer               | Specifies the idle    |
|                       |                       | timeout duration, in  |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the value ranges   |
|                       |                       |    from **10** to     |
|                       |                       |    **900**, and the   |
|                       |                       |    default value is   |
|                       |                       |    **300**.           |
|                       |                       |                       |
|                       |                       | -  For HTTP and HTTPS |
|                       |                       |    listeners, the     |
|                       |                       |    value ranges from  |
|                       |                       |    **1** to **300**,  |
|                       |                       |    and the default    |
|                       |                       |    value is **15**.   |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    this parameter     |
|                       |                       |    does not take      |
|                       |                       |    effect.            |
+-----------------------+-----------------------+-----------------------+
| client_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | client, in seconds.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **60**, and the       |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| member_timeout        | Integer               | Specifies the timeout |
|                       |                       | duration for waiting  |
|                       |                       | for a request from a  |
|                       |                       | backend server, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only for    |
|                       |                       | HTTP and HTTPS        |
|                       |                       | listeners. The value  |
|                       |                       | ranges from **1** to  |
|                       |                       | **300**, and the      |
|                       |                       | default value is      |
|                       |                       | **60**.               |
+-----------------------+-----------------------+-----------------------+
| ipgroup               | Table 4-151 object    | Specifies the IP      |
|                       |                       | address group         |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| transpa               | Boolean               | Specifies whether to  |
| rent_client_ip_enable |                       | pass source IP        |
|                       |                       | addresses of the      |
|                       |                       | clients to backend    |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Shared load           |
|                       |                       | balancers: The value  |
|                       |                       | can be **true** or    |
|                       |                       | **false**, and the    |
|                       |                       | default value is      |
|                       |                       | **false** for TCP and |
|                       |                       | UDP listeners. The    |
|                       |                       | value can only be     |
|                       |                       | **true** for HTTP and |
|                       |                       | HTTPS listeners. If   |
|                       |                       | this parameter is not |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | Dedicated load        |
|                       |                       | balancers: The value  |
|                       |                       | can only be **true**  |
|                       |                       | for all types of      |
|                       |                       | listeners. If this    |
|                       |                       | parameter is not      |
|                       |                       | passed, the default   |
|                       |                       | value is **true**.    |
+-----------------------+-----------------------+-----------------------+
| en                    | Boolean               | Specifies whether to  |
| hance_l7policy_enable |                       | enable advanced       |
|                       |                       | forwarding. The value |
|                       |                       | can be **true** or    |
|                       |                       | **false** (default).  |
|                       |                       |                       |
|                       |                       | -  **true** indicates |
|                       |                       |    that advanced      |
|                       |                       |    forwarding will be |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**          |
|                       |                       |    indicates that     |
|                       |                       |    advanced           |
|                       |                       |    forwarding will    |
|                       |                       |    not be enabled.    |
|                       |                       |                       |
|                       |                       | The following         |
|                       |                       | parameters will be    |
|                       |                       | available only when   |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled:           |
|                       |                       |                       |
|                       |                       | -  **                 |
|                       |                       | redirect_url_config** |
|                       |                       |                       |
|                       |                       | -  **fi               |
|                       |                       | xed_response_config** |
|                       |                       |                       |
|                       |                       | -  **priority**       |
|                       |                       |                       |
|                       |                       | -  **conditions**     |
|                       |                       |                       |
|                       |                       | For details, see the  |
|                       |                       | descriptions in the   |
|                       |                       | APIs of forwarding    |
|                       |                       | policies and          |
|                       |                       | forwarding rules.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerInsertHeaders

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| X-Forwarded-ELB-IP    | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the load     |
|                       |                       | balancer EIP to       |
|                       |                       | backend servers. If   |
|                       |                       | *                     |
|                       |                       | *X-Forwarded-ELB-IP** |
|                       |                       | is set to **true**,   |
|                       |                       | the load balancer EIP |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Port      | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the          |
|                       |                       | listening port of the |
|                       |                       | load balancer to      |
|                       |                       | backend servers. If   |
|                       |                       | **X-Forwarded-Port**  |
|                       |                       | is set to **true**,   |
|                       |                       | the listening port of |
|                       |                       | the load balancer     |
|                       |                       | will be stored in the |
|                       |                       | HTTP header and       |
|                       |                       | passed to backend     |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-For-Port  | Boolean               | Specifies whether to  |
|                       |                       | transparently         |
|                       |                       | transmit the source   |
|                       |                       | port of the client to |
|                       |                       | backend servers. If   |
|                       |                       | **X                   |
|                       |                       | -Forwarded-For-Port** |
|                       |                       | is set to **true**,   |
|                       |                       | the source port of    |
|                       |                       | the client will be    |
|                       |                       | stored in the HTTP    |
|                       |                       | header and passed to  |
|                       |                       | backend servers.      |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| X-Forwarded-Host      | Boolean               | Specifies whether to  |
|                       |                       | rewrite the           |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | header. If            |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | is set to **true**,   |
|                       |                       | **X-Forwarded-Host**  |
|                       |                       | in the request header |
|                       |                       | from the clients can  |
|                       |                       | be set to **Host** in |
|                       |                       | the request header    |
|                       |                       | sent from the load    |
|                       |                       | balancer to backend   |
|                       |                       | servers.              |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. Tag

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the tag     |
|                       |                       | key.                  |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the tag     |
|                       |                       | value.                |
+-----------------------+-----------------------+-----------------------+

4. ListenerIpGroup

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| ipgroup_id            | String                | Specifies the ID of   |
|                       |                       | the IP address group  |
|                       |                       | associated with the   |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **whitelist**, no  |
|                       |                       |    IP addresses are   |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  If **ip_list** is  |
|                       |                       |    set to **[]** and  |
|                       |                       |    **type** to        |
|                       |                       |    **blacklist**, any |
|                       |                       |    IP address is      |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
|                       |                       |                       |
|                       |                       | -  The specified IP   |
|                       |                       |    address group must |
|                       |                       |    exist and this     |
|                       |                       |    parameter cannot   |
|                       |                       |    be set to          |
|                       |                       |    **null**.          |
+-----------------------+-----------------------+-----------------------+
| enable_ipgroup        | Boolean               | Specifies whether to  |
|                       |                       | enable access         |
|                       |                       | control.              |
|                       |                       |                       |
|                       |                       | -  **true**: Access   |
|                       |                       |    control is         |
|                       |                       |    enabled.           |
|                       |                       |                       |
|                       |                       | -  **false**: Access  |
|                       |                       |    control is         |
|                       |                       |    disabled.          |
|                       |                       |                       |
|                       |                       | A listener with       |
|                       |                       | access control        |
|                       |                       | enabled can be        |
|                       |                       | directly deleted.     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies how access  |
|                       |                       | to the listener is    |
|                       |                       | controlled.           |
|                       |                       |                       |
|                       |                       | -  **white**: A       |
|                       |                       |    whitelist is       |
|                       |                       |    configured. Only   |
|                       |                       |    IP addresses in    |
|                       |                       |    the whitelist can  |
|                       |                       |    access the         |
|                       |                       |    listener.          |
|                       |                       |                       |
|                       |                       | -  **black**: A       |
|                       |                       |    blacklist is       |
|                       |                       |    configured. IP     |
|                       |                       |    addresses in the   |
|                       |                       |    blacklist are not  |
|                       |                       |    allowed to access  |
|                       |                       |    the listener.      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| PUT
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/listeners/0b11747a-b139-492f-9692-2df0b1c87193
| {
| "listener" : {
| "description" : "My listener update.",
| "name" : "listener-1",
| "http2_enable" : true
| }
| }

2. Example Responses

**Status code: 200**

Successful request.

| {
| "listener" : {
| "id" : "e2baad06-8095-4159-a14e-d1f0137bac06",
| "name" : "listener-1",
| "protocol_port" : 77,
| "protocol" : "HTTP",
| "description" : "My listener update.",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "c285bc7b-56d5-43bd-9589-075ee0a5c777"
| } ],
| "project_id" : "060576782980d5762f9ec014dd2f1148",
| "sni_container_refs" : [ ],
| "connection_limit" : -1,
| "default_pool_id" : "61609d20-5230-4b72-8274-46212bbf317c",
| "tags" : [ ],
| "created_at" : "2020-07-28T11:35:21Z",
| "updated_at" : "2020-07-28T11:35:21Z",
| "http2_enable" : true,
| "insert_headers" : {
| "X-Forwarded-ELB-IP" : false,
| "X-Forwarded-Host" : true,
| "X-Forwarded-For-Port" : false,
| "X-Forwarded-Port" : false
| },
| "member_timeout" : 60,
| "client_timeout" : 60,
| "keepalive_timeout" : 60,
| "enable_member_retry" : true,
| "transparent_client_ip_enable" : true,
| "enhance_l7policy_enable" : false
| },
| "request_id" : "619dc40f7ec73c0f13b5b5127904b71e"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _deleting-a-listener-2:

Deleting a Listener
~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to delete a listener.

6. Constraints

Before you delete a listener, delete the associated backend server group
or disassociate the backend server group from the listener, and then
delete all forwarding policies.

7. URI

DELETE /v3/{project_id}/elb/listeners/{listener_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | listener ID.    |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

9. Response Parameters

None

10. Example Requests

| DELETE
| https://{elb_endpoint}/v3/{project_id}/elb/listeners/{listener_id}

11. Example Responses

None

12. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

13. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _backend-server-group-1:

Backend Server Group
--------------------

1. .. rubric:: Creating a Backend Server Group
      :name: creating-a-backend-server-group

   #. Function

This API is used to create a backend server group.

2. Constraints

If **session-persistence** is specified, **cookie_name** is available
only when **type** is set to **APP_COOKIE**.

If **listener_id** is specified, the listener must have no backend
server group associated.

3. URI

POST /v3/{project_id}/elb/pools

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

4. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool            | Yes             | Table 4-157     | Specifies the   |
|                 |                 | object          | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

3. CreatePoolOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group. The      |
|                 |                 |                 | value can only  |
|                 |                 |                 | be updated to   |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | Yes             | String          | Specifies the   |
|                 |                 |                 | load balancing  |
|                 |                 |                 | algorithm used  |
|                 |                 |                 | by the load     |
|                 |                 |                 | balancer to     |
|                 |                 |                 | route requests  |
|                 |                 |                 | to backend      |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *ROUND_ROBIN**: |
|                 |                 |                 |    weighted     |
|                 |                 |                 |    round robin  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **LEAST      |
|                 |                 |                 | _CONNECTIONS**: |
|                 |                 |                 |    weighted     |
|                 |                 |                 |    least        |
|                 |                 |                 |    connections  |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **SOURCE_IP**: |
|                 |                 |                 |    source IP    |
|                 |                 |                 |    hash         |
|                 |                 |                 |                 |
|                 |                 |                 | When the value  |
|                 |                 |                 | is              |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | the weights of  |
|                 |                 |                 | backend servers |
|                 |                 |                 | are invalid.    |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener        |
|                 |                 |                 | associated with |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 | Specify either  |
|                 |                 |                 | **listener_id** |
|                 |                 |                 | or              |
|                 |                 |                 | **loa           |
|                 |                 |                 | dbalancer_id**, |
|                 |                 |                 | or both of      |
|                 |                 |                 | them.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | associated load |
|                 |                 |                 | balancer.       |
|                 |                 |                 | Specify either  |
|                 |                 |                 | **listener_id** |
|                 |                 |                 | or              |
|                 |                 |                 | **loa           |
|                 |                 |                 | dbalancer_id**, |
|                 |                 |                 | or both of      |
|                 |                 |                 | them.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group name.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | Yes             | String          | Specifies the   |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the backend  |
|                 |                 |                 | server group to |
|                 |                 |                 | receive         |
|                 |                 |                 | requests. TCP,  |
|                 |                 |                 | UDP, and HTTP   |
|                 |                 |                 | are supported.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  For UDP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    of the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be UDP. |
|                 |                 |                 |                 |
|                 |                 |                 | -  For TCP      |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    of the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be TCP. |
|                 |                 |                 |                 |
|                 |                 |                 | -  For HTTP or  |
|                 |                 |                 |    HTTPS        |
|                 |                 |                 |    listeners,   |
|                 |                 |                 |    the protocol |
|                 |                 |                 |    of the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    must be      |
|                 |                 |                 |    HTTP.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| sess            | No              | Table 4-158     | Specifies       |
| ion_persistence |                 | object          | whether to      |
|                 |                 |                 | enable sticky   |
|                 |                 |                 | sessions.       |
+-----------------+-----------------+-----------------+-----------------+
| slow_start      | No              | Table 4-159     | Specifies       |
|                 |                 | object          | whether to      |
|                 |                 |                 | enable slow     |
|                 |                 |                 | start. After    |
|                 |                 |                 | you enable slow |
|                 |                 |                 | start, new      |
|                 |                 |                 | backend servers |
|                 |                 |                 | added to the    |
|                 |                 |                 | backend server  |
|                 |                 |                 | group are       |
|                 |                 |                 | warmed up, and  |
|                 |                 |                 | the number of   |
|                 |                 |                 | requests they   |
|                 |                 |                 | can receive     |
|                 |                 |                 | increases       |
|                 |                 |                 | linearly during |
|                 |                 |                 | the configured  |
|                 |                 |                 | slow start      |
|                 |                 |                 | duration.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be used     |
|                 |                 |                 | when the        |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group is HTTP   |
|                 |                 |                 | or HTTPS. An    |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned if the |
|                 |                 |                 | protocol is not |
|                 |                 |                 | HTTP or HTTPS.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. CreatePoolSessionPersistenceOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| cookie_name     | No              | String          | Specifies the   |
|                 |                 |                 | cookie name.    |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 | Otherwise, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | letters,        |
|                 |                 |                 | digits, hyphens |
|                 |                 |                 | (-),            |
|                 |                 |                 | underscores     |
|                 |                 |                 | (_), and        |
|                 |                 |                 | periods (.).    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | sticky session  |
|                 |                 |                 | type. The value |
|                 |                 |                 | can be          |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | *               |
|                 |                 |                 | *HTTP_COOKIE**, |
|                 |                 |                 | or              |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP or    |
|                 |                 |                 |    UDP, only    |
|                 |                 |                 |                 |
|                 |                 |                 |   **SOURCE_IP** |
|                 |                 |                 |    takes        |
|                 |                 |                 |    effect.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  For          |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancers,   |
|                 |                 |                 |    if the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP or   |
|                 |                 |                 |    HTTPS, the   |
|                 |                 |                 |    value can    |
|                 |                 |                 |    only be      |
|                 |                 |                 |    *            |
|                 |                 |                 | *HTTP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  For shared   |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancers,   |
|                 |                 |                 |    if the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP or   |
|                 |                 |                 |    HTTPS, the   |
|                 |                 |                 |    value can be |
|                 |                 |                 |                 |
|                 |                 |                 | **HTTP_COOKIE** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 | **APP_COOKIE**. |
+-----------------+-----------------+-----------------+-----------------+
| pers            | No              | Integer         | Specifies the   |
| istence_timeout |                 |                 | stickiness      |
|                 |                 |                 | duration, in    |
|                 |                 |                 | minutes. This   |
|                 |                 |                 | parameter will  |
|                 |                 |                 | not take effect |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP or    |
|                 |                 |                 |    UDP, the     |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **60**,   |
|                 |                 |                 |    and the      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **1**.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP or   |
|                 |                 |                 |    HTTPS, the   |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **1440**, |
|                 |                 |                 |    and the      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+

1. CreatePoolSlowStartOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| enable          | Yes             | Boolean         | Specifies       |
|                 |                 |                 | whether to      |
|                 |                 |                 | enable slow     |
|                 |                 |                 | start.          |
|                 |                 |                 |                 |
|                 |                 |                 | **true**        |
|                 |                 |                 | indicates that  |
|                 |                 |                 | this function   |
|                 |                 |                 | is enabled, and |
|                 |                 |                 | **false**       |
|                 |                 |                 | indicates this  |
|                 |                 |                 | function is     |
|                 |                 |                 | disabled.       |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| duration        | Yes             | Integer         | Specifies the   |
|                 |                 |                 | slow start      |
|                 |                 |                 | duration, in    |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **30** to       |
|                 |                 |                 | **1200**, and   |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **30**.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **30** |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1200**        |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **30** |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| pool                  | Table 4-161 object    | Specifies the backend |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+

2. Pool

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group. The value can  |
|                       |                       | only be updated to    |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server group ID.      |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | used by the load      |
|                       |                       | balancer to route     |
|                       |                       | requests to backend   |
|                       |                       | servers in the        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **ROUND_ROBIN**       |
|                       |                       | (weighted round       |
|                       |                       | robin),               |
|                       |                       | **LEAST_CONNECTIONS** |
|                       |                       | (weighted least       |
|                       |                       | connections), or      |
|                       |                       | **SOURCE_IP** (source |
|                       |                       | IP hash).             |
|                       |                       |                       |
|                       |                       | When the value is     |
|                       |                       | **SOURCE_IP**, the    |
|                       |                       | **weight** parameter  |
|                       |                       | is invalid.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-162  | Lists the listeners   |
|                       | objects               | associated with the   |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-163  | Lists the IDs of load |
|                       | objects               | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
|                       |                       |                       |
|                       |                       | If only               |
|                       |                       | **listener_id** is    |
|                       |                       | specified during the  |
|                       |                       | creation of the       |
|                       |                       | backend server group, |
|                       |                       | the ID of the         |
|                       |                       | **loadbalancers**     |
|                       |                       | parameter in the      |
|                       |                       | response is the ID of |
|                       |                       | the load balancer to  |
|                       |                       | which the listener is |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| members               | Array of Table 4-164  | Lists the backend     |
|                       | objects               | servers in the        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server group name.    |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | backend server group  |
|                       |                       | to receive requests.  |
|                       |                       | The protocol can be   |
|                       |                       | TCP, UDP, or HTTP.    |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be UDP. |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be TCP. |
|                       |                       |                       |
|                       |                       | -  For HTTP or HTTPS  |
|                       |                       |    listeners, the     |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    HTTP.              |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Table 4-165 object    | Specifies the sticky  |
|                       |                       | session.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | Specifies the IP      |
|                       |                       | version supported by  |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | -  Shared load        |
|                       |                       |    balancers: The     |
|                       |                       |    default value is   |
|                       |                       |    **v4**.            |
|                       |                       |                       |
|                       |                       | -  Dedicated load     |
|                       |                       |    balancers: The     |
|                       |                       |    value can be       |
|                       |                       |    **dualstack**,     |
|                       |                       |    **v4**, or **v6**. |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP or UDP,  |
|                       |                       | **ip_version** is set |
|                       |                       | to **dualstack**,     |
|                       |                       | indicating that both  |
|                       |                       | IPv4 and IPv6 are     |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is HTTP,        |
|                       |                       | **ip_version** is set |
|                       |                       | to **v4**.            |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | Only **v4** is        |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **dualstack**         |
+-----------------------+-----------------------+-----------------------+
| slow_start            | Table 4-166 object    | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       | After you enable slow |
|                       |                       | start, new backend    |
|                       |                       | servers added to the  |
|                       |                       | backend server group  |
|                       |                       | are warmed up, and    |
|                       |                       | the number of         |
|                       |                       | requests they can     |
|                       |                       | receive increases     |
|                       |                       | linearly during the   |
|                       |                       | configured slow start |
|                       |                       | duration.             |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | used when the         |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP or HTTPS. An  |
|                       |                       | error will be         |
|                       |                       | returned if the       |
|                       |                       | protocol is not HTTP  |
|                       |                       | or HTTPS.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. MemberRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+

4. SessionPersistence

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | take effect only when |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-),          |
|                       |                       | underscores (_), and  |
|                       |                       | periods (.).          |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type. The     |
|                       |                       | value can be          |
|                       |                       | **SOURCE_IP**,        |
|                       |                       | **HTTP_COOKIE**, or   |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, only          |
|                       |                       |    **SOURCE_IP**      |
|                       |                       |    takes effect.      |
|                       |                       |                       |
|                       |                       | -  For dedicated load |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can only be        |
|                       |                       |    **HTTP_COOKIE**.   |
|                       |                       |                       |
|                       |                       | -  For shared load    |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can be             |
|                       |                       |    **HTTP_COOKIE** or |
|                       |                       |    **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the         |
|                       |                       | stickiness duration,  |
|                       |                       | in minutes. This      |
|                       |                       | parameter will not    |
|                       |                       | take effect when      |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, the value     |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **60**, and the |
|                       |                       |    default value is   |
|                       |                       |    **1**.             |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **1440**, and   |
|                       |                       |    the default value  |
|                       |                       |    is **1440**.       |
+-----------------------+-----------------------+-----------------------+

1. SlowStart

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| enable                | Boolean               | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       |                       |
|                       |                       | **true** indicates    |
|                       |                       | that this function is |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | this function is      |
|                       |                       | disabled.             |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| duration              | Integer               | Specifies the slow    |
|                       |                       | start duration, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **30** to **1200**,   |
|                       |                       | and the default value |
|                       |                       | is **30**.            |
|                       |                       |                       |
|                       |                       | Minimum: **30**       |
|                       |                       |                       |
|                       |                       | Maximum: **1200**     |
|                       |                       |                       |
|                       |                       | Default: **30**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

Adding an HTTP backend server group

| POST
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools
| {
| "pool" : {
| "name" : "My pool",
| "lb_algorithm" : "LEAST_CONNECTIONS",
| "listener_id" : "0b11747a-b139-492f-9692-2df0b1c87193",
| "protocol" : "HTTP",
| "slow_start" : {
| "enable" : true,
| "duration" : 50
| }
| }
| }

2. Example Responses

**Status code: 201**

Successful request.

| {
| "pool" : {
| "lb_algorithm" : "LEAST_CONNECTIONS",
| "protocol" : "HTTP",
| "description" : "",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "098b2f68-af1c-41a9-8efd-69958722af62"
| } ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "listeners" : [ {
| "id" : "0b11747a-b139-492f-9692-2df0b1c87193"
| } ],
| "members" : [ ],
| "id" : "36ce7086-a496-4666-9064-5ba0e6840c75",
| "name" : "My pool",
| "ip_version" : "v4",
| "slow_start" : {
| "enable" : true,
| "duration" : 50
| }
| },
| "request_id" : "2d974978-0733-404d-a21a-b29204f4803a"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-backend-server-groups-1:

Querying Backend Server Groups
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to query all backend server groups.

6. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

7. URI

GET /v3/{project_id}/elb/pools

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**. The  |
|                 |                 |                 | last page in    |
|                 |                 |                 | the list        |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link. This      |
|                 |                 |                 | parameter must  |
|                 |                 |                 | be used         |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | Array           | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | descriptions    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *des            |
|                 |                 |                 | cription=xxx&de |
|                 |                 |                 | scription=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| h               | No              | Array           | Specifies the   |
| ealthmonitor_id |                 |                 | ID of the       |
|                 |                 |                 | health check    |
|                 |                 |                 | configured for  |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *healthmonitor  |
|                 |                 |                 | _id=xxx&healthm |
|                 |                 |                 | onitor_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group name.     |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| loadbalancer_id | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the load  |
|                 |                 |                 | balancer        |
|                 |                 |                 | associated with |
|                 |                 |                 | the backend     |
|                 |                 |                 | server group.   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *loadbalance    |
|                 |                 |                 | r_id=xxx&loadba |
|                 |                 |                 | lancer_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| protocol        | No              | Array           | Specifies the   |
|                 |                 |                 | protocol used   |
|                 |                 |                 | by the backend  |
|                 |                 |                 | server group to |
|                 |                 |                 | receive         |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | protocols can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *protocol=xxx   |
|                 |                 |                 | &protocol=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | No              | Array           | Specifies the   |
|                 |                 |                 | load balancing  |
|                 |                 |                 | algorithm used  |
|                 |                 |                 | by the load     |
|                 |                 |                 | balancer to     |
|                 |                 |                 | route requests  |
|                 |                 |                 | to backend      |
|                 |                 |                 | servers in the  |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be              |
|                 |                 |                 | **ROUND_ROBIN** |
|                 |                 |                 | (weighted round |
|                 |                 |                 | robin),         |
|                 |                 |                 | **LEAS          |
|                 |                 |                 | T_CONNECTIONS** |
|                 |                 |                 | (weighted least |
|                 |                 |                 | connections),   |
|                 |                 |                 | or              |
|                 |                 |                 | **SOURCE_IP**   |
|                 |                 |                 | (source IP      |
|                 |                 |                 | hash).          |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | **weight** will |
|                 |                 |                 | not take        |
|                 |                 |                 | effect.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | algorithms can  |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *lb_al          |
|                 |                 |                 | gorithm=xxx&lb_ |
|                 |                 |                 | algorithm=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | Array           | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    resources in |
|                 |                 |                 |    the default  |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project are  |
|                 |                 |                 |    queried, and |
|                 |                 |                 |                 |
|                 |                 |                 |  authentication |
|                 |                 |                 |    is performed |
|                 |                 |                 |    based on the |
|                 |                 |                 |    default      |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    passed, its  |
|                 |                 |                 |    value can be |
|                 |                 |                 |    the ID of an |
|                 |                 |                 |    existing     |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project or   |
|                 |                 |                 |    **all        |
|                 |                 |                 | _granted_eps**. |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | a specific ID,  |
|                 |                 |                 | resources in    |
|                 |                 |                 | the specific    |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project are     |
|                 |                 |                 | required. If    |
|                 |                 |                 | the value is    |
|                 |                 |                 | **all           |
|                 |                 |                 | _granted_eps**, |
|                 |                 |                 | resources in    |
|                 |                 |                 | all enterprise  |
|                 |                 |                 | projects are    |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *enterpri       |
|                 |                 |                 | se_project_id=x |
|                 |                 |                 | xx&enterprise_p |
|                 |                 |                 | roject_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| ip_version      | No              | Array           | Specifies the   |
|                 |                 |                 | IP address      |
|                 |                 |                 | version of the  |
|                 |                 |                 | backend server  |
|                 |                 |                 | group. The      |
|                 |                 |                 | value can be    |
|                 |                 |                 | **dualstack**,  |
|                 |                 |                 | **v4**, or      |
|                 |                 |                 | **v6**.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | versions can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *i              |
|                 |                 |                 | p_version=xxx&i |
|                 |                 |                 | p_version=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| member_address  | No              | Array           | Specifies the   |
|                 |                 |                 | private IP      |
|                 |                 |                 | address bound   |
|                 |                 |                 | to the backend  |
|                 |                 |                 | server. This    |
|                 |                 |                 | parameter is    |
|                 |                 |                 | used only as a  |
|                 |                 |                 | query condition |
|                 |                 |                 | and is not      |
|                 |                 |                 | included in the |
|                 |                 |                 | response.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IP     |
|                 |                 |                 | addresses can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *member_ad      |
|                 |                 |                 | dress=xxx&membe |
|                 |                 |                 | r_address=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Array           | Specifies the   |
| ember_device_id |                 |                 | ID of the cloud |
|                 |                 |                 | server that     |
|                 |                 |                 | serves as a     |
|                 |                 |                 | backend server. |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is used only as |
|                 |                 |                 | a query         |
|                 |                 |                 | condition and   |
|                 |                 |                 | is not included |
|                 |                 |                 | in the          |
|                 |                 |                 | response.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *member_device  |
|                 |                 |                 | _id=xxx&member_ |
|                 |                 |                 | device_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-171 object    | Shows pagination      |
|                       |                       | information.          |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-172  | Lists the backend     |
|                       | objects               | server groups.        |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. Pool

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group. The value can  |
|                       |                       | only be updated to    |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server group ID.      |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | used by the load      |
|                       |                       | balancer to route     |
|                       |                       | requests to backend   |
|                       |                       | servers in the        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **ROUND_ROBIN**       |
|                       |                       | (weighted round       |
|                       |                       | robin),               |
|                       |                       | **LEAST_CONNECTIONS** |
|                       |                       | (weighted least       |
|                       |                       | connections), or      |
|                       |                       | **SOURCE_IP** (source |
|                       |                       | IP hash).             |
|                       |                       |                       |
|                       |                       | When the value is     |
|                       |                       | **SOURCE_IP**, the    |
|                       |                       | **weight** parameter  |
|                       |                       | is invalid.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-173  | Lists the listeners   |
|                       | objects               | associated with the   |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-174  | Lists the IDs of load |
|                       | objects               | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
|                       |                       |                       |
|                       |                       | If only               |
|                       |                       | **listener_id** is    |
|                       |                       | specified during the  |
|                       |                       | creation of the       |
|                       |                       | backend server group, |
|                       |                       | the ID of the         |
|                       |                       | **loadbalancers**     |
|                       |                       | parameter in the      |
|                       |                       | response is the ID of |
|                       |                       | the load balancer to  |
|                       |                       | which the listener is |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| members               | Array of Table 4-175  | Lists the backend     |
|                       | objects               | servers in the        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server group name.    |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | backend server group  |
|                       |                       | to receive requests.  |
|                       |                       | The protocol can be   |
|                       |                       | TCP, UDP, or HTTP.    |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be UDP. |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be TCP. |
|                       |                       |                       |
|                       |                       | -  For HTTP or HTTPS  |
|                       |                       |    listeners, the     |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    HTTP.              |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Table 4-176 object    | Specifies the sticky  |
|                       |                       | session.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | Specifies the IP      |
|                       |                       | version supported by  |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | -  Shared load        |
|                       |                       |    balancers: The     |
|                       |                       |    default value is   |
|                       |                       |    **v4**.            |
|                       |                       |                       |
|                       |                       | -  Dedicated load     |
|                       |                       |    balancers: The     |
|                       |                       |    value can be       |
|                       |                       |    **dualstack**,     |
|                       |                       |    **v4**, or **v6**. |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP or UDP,  |
|                       |                       | **ip_version** is set |
|                       |                       | to **dualstack**,     |
|                       |                       | indicating that both  |
|                       |                       | IPv4 and IPv6 are     |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is HTTP,        |
|                       |                       | **ip_version** is set |
|                       |                       | to **v4**.            |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | Only **v4** is        |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **dualstack**         |
+-----------------------+-----------------------+-----------------------+
| slow_start            | Table 4-177 object    | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       | After you enable slow |
|                       |                       | start, new backend    |
|                       |                       | servers added to the  |
|                       |                       | backend server group  |
|                       |                       | are warmed up, and    |
|                       |                       | the number of         |
|                       |                       | requests they can     |
|                       |                       | receive increases     |
|                       |                       | linearly during the   |
|                       |                       | configured slow start |
|                       |                       | duration.             |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | used when the         |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP or HTTPS. An  |
|                       |                       | error will be         |
|                       |                       | returned if the       |
|                       |                       | protocol is not HTTP  |
|                       |                       | or HTTPS.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. MemberRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+

4. SessionPersistence

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | take effect only when |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-),          |
|                       |                       | underscores (_), and  |
|                       |                       | periods (.).          |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type. The     |
|                       |                       | value can be          |
|                       |                       | **SOURCE_IP**,        |
|                       |                       | **HTTP_COOKIE**, or   |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, only          |
|                       |                       |    **SOURCE_IP**      |
|                       |                       |    takes effect.      |
|                       |                       |                       |
|                       |                       | -  For dedicated load |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can only be        |
|                       |                       |    **HTTP_COOKIE**.   |
|                       |                       |                       |
|                       |                       | -  For shared load    |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can be             |
|                       |                       |    **HTTP_COOKIE** or |
|                       |                       |    **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the         |
|                       |                       | stickiness duration,  |
|                       |                       | in minutes. This      |
|                       |                       | parameter will not    |
|                       |                       | take effect when      |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, the value     |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **60**, and the |
|                       |                       |    default value is   |
|                       |                       |    **1**.             |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **1440**, and   |
|                       |                       |    the default value  |
|                       |                       |    is **1440**.       |
+-----------------------+-----------------------+-----------------------+

1. SlowStart

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| enable                | Boolean               | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       |                       |
|                       |                       | **true** indicates    |
|                       |                       | that this function is |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | this function is      |
|                       |                       | disabled.             |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| duration              | Integer               | Specifies the slow    |
|                       |                       | start duration, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **30** to **1200**,   |
|                       |                       | and the default value |
|                       |                       | is **30**.            |
|                       |                       |                       |
|                       |                       | Minimum: **30**       |
|                       |                       |                       |
|                       |                       | Maximum: **1200**     |
|                       |                       |                       |
|                       |                       | Default: **30**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

GET https://{elb_endpoint}/v3/{project_id}/elb/pools?limit=2

2. Example Responses

**Status code: 200**

Successful request.

| {
| "pools" : [ {
| "lb_algorithm" : "ROUND_ROBIN",
| "protocol" : "HTTP",
| "description" : "",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "309a0f61-0b62-45f2-97d1-742f3434338e"
| } ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "session_persistence" : {
| "cookie_name" : "my_cookie",
| "type" : "APP_COOKIE",
| "persistence_timeout" : 1
| },
| "healthmonitor_id" : "",
| "listeners" : [ ],
| "members" : [ ],
| "id" : "73bd4fe0-ffbb-4b56-aab4-4f26ddf7a103",
| "name" : "",
| "ip_version" : "v4"
| }, {
| "lb_algorithm" : "SOURCE_IP",
| "protocol" : "TCP",
| "description" : "",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "d9763e59-64b7-4e93-aec7-0ff7881ef9bc"
| } ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "session_persistence" : {
| "cookie_name" : "",
| "type" : "SOURCE_IP",
| "persistence_timeout" : 1
| },
| "healthmonitor_id" : "",
| "listeners" : [ {
| "id" : "8d21db6f-b475-429e-a9cb-90439b0413b2"
| } ],
| "members" : [ ],
| "id" : "74db02d1-5711-4c77-b383-a450e2b93142",
| "name" : "pool_tcp_001",
| "ip_version" : "dualstack"
| } ],
| "page_info" : {
| "next_marker" : "74db02d1-5711-4c77-b383-a450e2b93142",
| "previous_marker" : "73bd4fe0-ffbb-4b56-aab4-4f26ddf7a103",
| "current_count" : 2
| },
| "request_id" : "a1a7e852-1928-48f7-bbc9-ca8469898713"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Backend Server Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of a backend server group.

6. URI

GET /v3/{project_id}/elb/pools/{pool_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| pool                  | Table 4-181 object    | Specifies the backend |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+

2. Pool

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group. The value can  |
|                       |                       | only be updated to    |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server group ID.      |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | used by the load      |
|                       |                       | balancer to route     |
|                       |                       | requests to backend   |
|                       |                       | servers in the        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **ROUND_ROBIN**       |
|                       |                       | (weighted round       |
|                       |                       | robin),               |
|                       |                       | **LEAST_CONNECTIONS** |
|                       |                       | (weighted least       |
|                       |                       | connections), or      |
|                       |                       | **SOURCE_IP** (source |
|                       |                       | IP hash).             |
|                       |                       |                       |
|                       |                       | When the value is     |
|                       |                       | **SOURCE_IP**, the    |
|                       |                       | **weight** parameter  |
|                       |                       | is invalid.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-182  | Lists the listeners   |
|                       | objects               | associated with the   |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-183  | Lists the IDs of load |
|                       | objects               | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
|                       |                       |                       |
|                       |                       | If only               |
|                       |                       | **listener_id** is    |
|                       |                       | specified during the  |
|                       |                       | creation of the       |
|                       |                       | backend server group, |
|                       |                       | the ID of the         |
|                       |                       | **loadbalancers**     |
|                       |                       | parameter in the      |
|                       |                       | response is the ID of |
|                       |                       | the load balancer to  |
|                       |                       | which the listener is |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| members               | Array of Table 4-184  | Lists the backend     |
|                       | objects               | servers in the        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server group name.    |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | backend server group  |
|                       |                       | to receive requests.  |
|                       |                       | The protocol can be   |
|                       |                       | TCP, UDP, or HTTP.    |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be UDP. |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be TCP. |
|                       |                       |                       |
|                       |                       | -  For HTTP or HTTPS  |
|                       |                       |    listeners, the     |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    HTTP.              |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Table 4-185 object    | Specifies the sticky  |
|                       |                       | session.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | Specifies the IP      |
|                       |                       | version supported by  |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | -  Shared load        |
|                       |                       |    balancers: The     |
|                       |                       |    default value is   |
|                       |                       |    **v4**.            |
|                       |                       |                       |
|                       |                       | -  Dedicated load     |
|                       |                       |    balancers: The     |
|                       |                       |    value can be       |
|                       |                       |    **dualstack**,     |
|                       |                       |    **v4**, or **v6**. |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP or UDP,  |
|                       |                       | **ip_version** is set |
|                       |                       | to **dualstack**,     |
|                       |                       | indicating that both  |
|                       |                       | IPv4 and IPv6 are     |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is HTTP,        |
|                       |                       | **ip_version** is set |
|                       |                       | to **v4**.            |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | Only **v4** is        |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **dualstack**         |
+-----------------------+-----------------------+-----------------------+
| slow_start            | Table 4-186 object    | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       | After you enable slow |
|                       |                       | start, new backend    |
|                       |                       | servers added to the  |
|                       |                       | backend server group  |
|                       |                       | are warmed up, and    |
|                       |                       | the number of         |
|                       |                       | requests they can     |
|                       |                       | receive increases     |
|                       |                       | linearly during the   |
|                       |                       | configured slow start |
|                       |                       | duration.             |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | used when the         |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP or HTTPS. An  |
|                       |                       | error will be         |
|                       |                       | returned if the       |
|                       |                       | protocol is not HTTP  |
|                       |                       | or HTTPS.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. MemberRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+

4. SessionPersistence

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | take effect only when |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-),          |
|                       |                       | underscores (_), and  |
|                       |                       | periods (.).          |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type. The     |
|                       |                       | value can be          |
|                       |                       | **SOURCE_IP**,        |
|                       |                       | **HTTP_COOKIE**, or   |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, only          |
|                       |                       |    **SOURCE_IP**      |
|                       |                       |    takes effect.      |
|                       |                       |                       |
|                       |                       | -  For dedicated load |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can only be        |
|                       |                       |    **HTTP_COOKIE**.   |
|                       |                       |                       |
|                       |                       | -  For shared load    |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can be             |
|                       |                       |    **HTTP_COOKIE** or |
|                       |                       |    **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the         |
|                       |                       | stickiness duration,  |
|                       |                       | in minutes. This      |
|                       |                       | parameter will not    |
|                       |                       | take effect when      |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, the value     |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **60**, and the |
|                       |                       |    default value is   |
|                       |                       |    **1**.             |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **1440**, and   |
|                       |                       |    the default value  |
|                       |                       |    is **1440**.       |
+-----------------------+-----------------------+-----------------------+

1. SlowStart

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| enable                | Boolean               | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       |                       |
|                       |                       | **true** indicates    |
|                       |                       | that this function is |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | this function is      |
|                       |                       | disabled.             |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| duration              | Integer               | Specifies the slow    |
|                       |                       | start duration, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **30** to **1200**,   |
|                       |                       | and the default value |
|                       |                       | is **30**.            |
|                       |                       |                       |
|                       |                       | Minimum: **30**       |
|                       |                       |                       |
|                       |                       | Maximum: **1200**     |
|                       |                       |                       |
|                       |                       | Default: **30**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75

2. Example Responses

**Status code: 200**

Successful request.

| {
| "pool" : {
| "lb_algorithm" : "LEAST_CONNECTIONS",
| "protocol" : "TCP",
| "description" : "My pool",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "098b2f68-af1c-41a9-8efd-69958722af62"
| } ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "session_persistence" : "",
| "healthmonitor_id" : "",
| "listeners" : [ {
| "id" : "0b11747a-b139-492f-9692-2df0b1c87193"
| }, {
| "id" : "61942790-2367-482a-8b0e-93840ea2a1c6"
| }, {
| "id" : "fd8f954c-f0f8-4d39-bb1d-41637cd6b1be"
| } ],
| "members" : [ ],
| "id" : "36ce7086-a496-4666-9064-5ba0e6840c75",
| "name" : "My pool.",
| "ip_version" : "dualstack"
| },
| "request_id" : "c1a60da2-1ec7-4a1c-b4cc-73e1a57b368e"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-backend-server-group-1:

Updating a Backend Server Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to update a backend server group.

6. Constraints

The backend server group can be updated only when the provisioning
status of the associated load balancer is **ACTIVE**.

7. URI

PUT /v3/{project_id}/elb/pools/{pool_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group ID.       |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool            | Yes             | Table 4-189     | Specifies the   |
|                 |                 | object          | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

2. UpdatePoolOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group. The      |
|                 |                 |                 | value can only  |
|                 |                 |                 | be updated to   |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| lb_algorithm    | No              | String          | Specifies the   |
|                 |                 |                 | load balancing  |
|                 |                 |                 | algorithm used  |
|                 |                 |                 | by the load     |
|                 |                 |                 | balancer to     |
|                 |                 |                 | route requests  |
|                 |                 |                 | to backend      |
|                 |                 |                 | servers.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  *            |
|                 |                 |                 | *ROUND_ROBIN**: |
|                 |                 |                 |    weighted     |
|                 |                 |                 |    round robin  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **LEAST      |
|                 |                 |                 | _CONNECTIONS**: |
|                 |                 |                 |    weighted     |
|                 |                 |                 |    least        |
|                 |                 |                 |    connections  |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **SOURCE_IP**: |
|                 |                 |                 |    source IP    |
|                 |                 |                 |    hash         |
|                 |                 |                 |                 |
|                 |                 |                 | When the value  |
|                 |                 |                 | is              |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | the weights of  |
|                 |                 |                 | backend servers |
|                 |                 |                 | are invalid.    |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group name.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| sess            | No              | Table 4-190     | Specifies       |
| ion_persistence |                 | object          | whether to      |
|                 |                 |                 | enable sticky   |
|                 |                 |                 | sessions.       |
+-----------------+-----------------+-----------------+-----------------+
| slow_start      | No              | Table 4-191     | Specifies       |
|                 |                 | object          | whether to      |
|                 |                 |                 | enable slow     |
|                 |                 |                 | start. After    |
|                 |                 |                 | you enable slow |
|                 |                 |                 | start, new      |
|                 |                 |                 | backend servers |
|                 |                 |                 | added to the    |
|                 |                 |                 | backend server  |
|                 |                 |                 | group are       |
|                 |                 |                 | warmed up, and  |
|                 |                 |                 | the number of   |
|                 |                 |                 | requests they   |
|                 |                 |                 | can receive     |
|                 |                 |                 | increases       |
|                 |                 |                 | linearly during |
|                 |                 |                 | the configured  |
|                 |                 |                 | slow start      |
|                 |                 |                 | duration.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be used     |
|                 |                 |                 | when the        |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group is HTTP   |
|                 |                 |                 | or HTTPS. An    |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned if the |
|                 |                 |                 | protocol is not |
|                 |                 |                 | HTTP or HTTPS.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. UpdatePoolSessionPersistenceOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| cookie_name     | No              | String          | Specifies the   |
|                 |                 |                 | cookie name.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 | Otherwise, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | letters,        |
|                 |                 |                 | digits, hyphens |
|                 |                 |                 | (-),            |
|                 |                 |                 | underscores     |
|                 |                 |                 | (_), and        |
|                 |                 |                 | periods (.).    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | sticky session  |
|                 |                 |                 | type. The value |
|                 |                 |                 | can be          |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | *               |
|                 |                 |                 | *HTTP_COOKIE**, |
|                 |                 |                 | or              |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP or    |
|                 |                 |                 |    UDP, only    |
|                 |                 |                 |                 |
|                 |                 |                 |   **SOURCE_IP** |
|                 |                 |                 |    takes        |
|                 |                 |                 |    effect.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  For          |
|                 |                 |                 |    dedicated    |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancers,   |
|                 |                 |                 |    if the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP or   |
|                 |                 |                 |    HTTPS, the   |
|                 |                 |                 |    value can    |
|                 |                 |                 |    only be      |
|                 |                 |                 |    *            |
|                 |                 |                 | *HTTP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  For shared   |
|                 |                 |                 |    load         |
|                 |                 |                 |    balancers,   |
|                 |                 |                 |    if the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP or   |
|                 |                 |                 |    HTTPS, the   |
|                 |                 |                 |    value can be |
|                 |                 |                 |                 |
|                 |                 |                 | **HTTP_COOKIE** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 | **APP_COOKIE**. |
+-----------------+-----------------+-----------------+-----------------+
| pers            | No              | Integer         | Specifies the   |
| istence_timeout |                 |                 | stickiness      |
|                 |                 |                 | duration, in    |
|                 |                 |                 | minutes.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will not take   |
|                 |                 |                 | effect when     |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to              |
|                 |                 |                 | **APP_COOKIE**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is TCP or    |
|                 |                 |                 |    UDP, the     |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **60**,   |
|                 |                 |                 |    and the      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **1**.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  If the       |
|                 |                 |                 |    protocol of  |
|                 |                 |                 |    the backend  |
|                 |                 |                 |    server group |
|                 |                 |                 |    is HTTP or   |
|                 |                 |                 |    HTTPS, the   |
|                 |                 |                 |    value ranges |
|                 |                 |                 |    from **1**   |
|                 |                 |                 |    to **1440**, |
|                 |                 |                 |    and the      |
|                 |                 |                 |    default      |
|                 |                 |                 |    value is     |
|                 |                 |                 |    **1440**.    |
+-----------------+-----------------+-----------------+-----------------+

1. UpdatePoolSlowStartOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| enable          | Yes             | Boolean         | Specifies       |
|                 |                 |                 | whether slow    |
|                 |                 |                 | start is        |
|                 |                 |                 | enabled.        |
|                 |                 |                 |                 |
|                 |                 |                 | **true**        |
|                 |                 |                 | indicates that  |
|                 |                 |                 | slow start is   |
|                 |                 |                 | enabled, and    |
|                 |                 |                 | **false**       |
|                 |                 |                 | indicates slow  |
|                 |                 |                 | start is        |
|                 |                 |                 | disabled.       |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| duration        | Yes             | Integer         | Specifies the   |
|                 |                 |                 | slow start      |
|                 |                 |                 | duration, in    |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **30** to       |
|                 |                 |                 | **1200**, and   |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **30**.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **30** |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1200**        |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **30** |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| pool                  | Table 4-193 object    | Specifies the backend |
|                       |                       | server group.         |
+-----------------------+-----------------------+-----------------------+

2. Pool

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend server |
|                       |                       | group. The value can  |
|                       |                       | only be updated to    |
|                       |                       | **true**.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| healthmonitor_id      | String                | Specifies the ID of   |
|                       |                       | the health check      |
|                       |                       | configured for the    |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server group ID.      |
+-----------------------+-----------------------+-----------------------+
| lb_algorithm          | String                | Specifies the load    |
|                       |                       | balancing algorithm   |
|                       |                       | used by the load      |
|                       |                       | balancer to route     |
|                       |                       | requests to backend   |
|                       |                       | servers in the        |
|                       |                       | backend server group. |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **ROUND_ROBIN**       |
|                       |                       | (weighted round       |
|                       |                       | robin),               |
|                       |                       | **LEAST_CONNECTIONS** |
|                       |                       | (weighted least       |
|                       |                       | connections), or      |
|                       |                       | **SOURCE_IP** (source |
|                       |                       | IP hash).             |
|                       |                       |                       |
|                       |                       | When the value is     |
|                       |                       | **SOURCE_IP**, the    |
|                       |                       | **weight** parameter  |
|                       |                       | is invalid.           |
+-----------------------+-----------------------+-----------------------+
| listeners             | Array of Table 4-194  | Lists the listeners   |
|                       | objects               | associated with the   |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| loadbalancers         | Array of Table 4-195  | Lists the IDs of load |
|                       | objects               | balancers associated  |
|                       |                       | with the backend      |
|                       |                       | server group.         |
|                       |                       |                       |
|                       |                       | If only               |
|                       |                       | **listener_id** is    |
|                       |                       | specified during the  |
|                       |                       | creation of the       |
|                       |                       | backend server group, |
|                       |                       | the ID of the         |
|                       |                       | **loadbalancers**     |
|                       |                       | parameter in the      |
|                       |                       | response is the ID of |
|                       |                       | the load balancer to  |
|                       |                       | which the listener is |
|                       |                       | added.                |
+-----------------------+-----------------------+-----------------------+
| members               | Array of Table 4-196  | Lists the backend     |
|                       | objects               | servers in the        |
|                       |                       | backend server group. |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server group name.    |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol              | String                | Specifies the         |
|                       |                       | protocol used by the  |
|                       |                       | backend server group  |
|                       |                       | to receive requests.  |
|                       |                       | The protocol can be   |
|                       |                       | TCP, UDP, or HTTP.    |
|                       |                       |                       |
|                       |                       | -  For UDP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be UDP. |
|                       |                       |                       |
|                       |                       | -  For TCP listeners, |
|                       |                       |    the protocol of    |
|                       |                       |    the backend server |
|                       |                       |    group must be TCP. |
|                       |                       |                       |
|                       |                       | -  For HTTP or HTTPS  |
|                       |                       |    listeners, the     |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group must be      |
|                       |                       |    HTTP.              |
+-----------------------+-----------------------+-----------------------+
| session_persistence   | Table 4-197 object    | Specifies the sticky  |
|                       |                       | session.              |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | Specifies the IP      |
|                       |                       | version supported by  |
|                       |                       | the backend server    |
|                       |                       | group.                |
|                       |                       |                       |
|                       |                       | -  Shared load        |
|                       |                       |    balancers: The     |
|                       |                       |    default value is   |
|                       |                       |    **v4**.            |
|                       |                       |                       |
|                       |                       | -  Dedicated load     |
|                       |                       |    balancers: The     |
|                       |                       |    value can be       |
|                       |                       |    **dualstack**,     |
|                       |                       |    **v4**, or **v6**. |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is TCP or UDP,  |
|                       |                       | **ip_version** is set |
|                       |                       | to **dualstack**,     |
|                       |                       | indicating that both  |
|                       |                       | IPv4 and IPv6 are     |
|                       |                       | supported.            |
|                       |                       |                       |
|                       |                       | When the protocol of  |
|                       |                       | the backend server    |
|                       |                       | group is HTTP,        |
|                       |                       | **ip_version** is set |
|                       |                       | to **v4**.            |
|                       |                       |                       |
|                       |                       | IPv6 is unsupported.  |
|                       |                       | Only **v4** is        |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Default:              |
|                       |                       | **dualstack**         |
+-----------------------+-----------------------+-----------------------+
| slow_start            | Table 4-198 object    | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       | After you enable slow |
|                       |                       | start, new backend    |
|                       |                       | servers added to the  |
|                       |                       | backend server group  |
|                       |                       | are warmed up, and    |
|                       |                       | the number of         |
|                       |                       | requests they can     |
|                       |                       | receive increases     |
|                       |                       | linearly during the   |
|                       |                       | configured slow start |
|                       |                       | duration.             |
|                       |                       |                       |
|                       |                       | This parameter can be |
|                       |                       | used when the         |
|                       |                       | protocol of the       |
|                       |                       | backend server group  |
|                       |                       | is HTTP or HTTPS. An  |
|                       |                       | error will be         |
|                       |                       | returned if the       |
|                       |                       | protocol is not HTTP  |
|                       |                       | or HTTPS.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. ListenerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | listener ID.          |
+-----------------------+-----------------------+-----------------------+

2. LoadBalancerRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the load    |
|                       |                       | balancer ID.          |
+-----------------------+-----------------------+-----------------------+

3. MemberRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+

4. SessionPersistence

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| cookie_name           | String                | Specifies the cookie  |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | This parameter will   |
|                       |                       | take effect only when |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-),          |
|                       |                       | underscores (_), and  |
|                       |                       | periods (.).          |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the sticky  |
|                       |                       | session type. The     |
|                       |                       | value can be          |
|                       |                       | **SOURCE_IP**,        |
|                       |                       | **HTTP_COOKIE**, or   |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, only          |
|                       |                       |    **SOURCE_IP**      |
|                       |                       |    takes effect.      |
|                       |                       |                       |
|                       |                       | -  For dedicated load |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can only be        |
|                       |                       |    **HTTP_COOKIE**.   |
|                       |                       |                       |
|                       |                       | -  For shared load    |
|                       |                       |    balancers, if the  |
|                       |                       |    protocol of the    |
|                       |                       |    backend server     |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    can be             |
|                       |                       |    **HTTP_COOKIE** or |
|                       |                       |    **APP_COOKIE**.    |
+-----------------------+-----------------------+-----------------------+
| persistence_timeout   | Integer               | Specifies the         |
|                       |                       | stickiness duration,  |
|                       |                       | in minutes. This      |
|                       |                       | parameter will not    |
|                       |                       | take effect when      |
|                       |                       | **type** is set to    |
|                       |                       | **APP_COOKIE**.       |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is TCP or    |
|                       |                       |    UDP, the value     |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **60**, and the |
|                       |                       |    default value is   |
|                       |                       |    **1**.             |
|                       |                       |                       |
|                       |                       | -  If the protocol of |
|                       |                       |    the backend server |
|                       |                       |    group is HTTP or   |
|                       |                       |    HTTPS, the value   |
|                       |                       |    ranges from **1**  |
|                       |                       |    to **1440**, and   |
|                       |                       |    the default value  |
|                       |                       |    is **1440**.       |
+-----------------------+-----------------------+-----------------------+

1. SlowStart

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| enable                | Boolean               | Specifies whether to  |
|                       |                       | enable slow start.    |
|                       |                       |                       |
|                       |                       | **true** indicates    |
|                       |                       | that this function is |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | this function is      |
|                       |                       | disabled.             |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| duration              | Integer               | Specifies the slow    |
|                       |                       | start duration, in    |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | The value ranges from |
|                       |                       | **30** to **1200**,   |
|                       |                       | and the default value |
|                       |                       | is **30**.            |
|                       |                       |                       |
|                       |                       | Minimum: **30**       |
|                       |                       |                       |
|                       |                       | Maximum: **1200**     |
|                       |                       |                       |
|                       |                       | Default: **30**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| PUT
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75
| {
| "pool" : {
| "name" : "My pool.",
| "description" : "My pool update",
| "lb_algorithm" : "LEAST_CONNECTIONS"
| }
| }

2. Example Responses

**Status code: 200**

Successful request.

| {
| "pool" : {
| "lb_algorithm" : "LEAST_CONNECTIONS",
| "protocol" : "TCP",
| "description" : "My pool update",
| "admin_state_up" : true,
| "loadbalancers" : [ {
| "id" : "098b2f68-af1c-41a9-8efd-69958722af62"
| } ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "listeners" : [ {
| "id" : "0b11747a-b139-492f-9692-2df0b1c87193"
| }, {
| "id" : "61942790-2367-482a-8b0e-93840ea2a1c6"
| }, {
| "id" : "fd8f954c-f0f8-4d39-bb1d-41637cd6b1be"
| } ],
| "members" : [ ],
| "id" : "36ce7086-a496-4666-9064-5ba0e6840c75",
| "name" : "My pool.",
| "ip_version" : "dualstack"
| },
| "request_id" : "8f40128b-c72b-4b64-986a-f7e2c633d75f"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _deleting-a-backend-server-group-1:

Deleting a Backend Server Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to delete a backend server group.

6. Constraints

A backend server group can be deleted only after all servers are removed
from the group, the health check configured for the group is deleted,
and the group has no forwarding policies associated.

7. URI

DELETE /v3/{project_id}/elb/pools/{pool_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

9. Response Parameters

None

10. Example Requests

| DELETE
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75

11. Example Responses

None

12. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

13. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _backend-server-1:

Backend Server
--------------

1. .. rubric:: Adding a Backend Server
      :name: adding-a-backend-server-1

   #. Function

This API is used to add a backend server.

2. Constraints

When you add backend servers, note the following:

-  Two backend servers in the same backend server group must have
   different IP addresses and ports.

-  If no subnets are specified during cloud server creation, cross-VPC
   backend servers can be added. In this case, **address** must be set
   to an IPv4 address, the protocol of the backend server group must be
   TCP, HTTP, or HTTPS, and cross-VPC backend must have been enabled for
   the load balancer.

-  If a subnet is specified during cloud server creation, the subnet
   must be in the same VPC as the subnet from which the virtual IP
   address bound to the load balancer is assigned.

-  If the backend server group supports IPv4/IPv6 dual stack,
   **address** can be an IPv4 or IPv6 address. The value of **address**
   depends on the IP address version of the backend server group.

   #. URI

POST /v3/{project_id}/elb/pools/{pool_id}/members

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| member          | Yes             | Table 4-204     | Specifies       |
|                 |                 | object          | request         |
|                 |                 |                 | parameters for  |
|                 |                 |                 | creating a      |
|                 |                 |                 | backend server. |
+-----------------+-----------------+-----------------+-----------------+

3. CreateMemberOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| address         | Yes             | String          | Specifies the   |
|                 |                 |                 | IP address of   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server.         |
|                 |                 |                 |                 |
|                 |                 |                 | -  The IP       |
|                 |                 |                 |    address must |
|                 |                 |                 |    be in the    |
|                 |                 |                 |    subnet       |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **su         |
|                 |                 |                 | bnet_cidr_id**, |
|                 |                 |                 |    for example, |
|                 |                 |                 |                 |
|                 |                 |                 |   192.168.3.11. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The IP       |
|                 |                 |                 |    address can  |
|                 |                 |                 |    only be the  |
|                 |                 |                 |    IP address   |
|                 |                 |                 |    of the       |
|                 |                 |                 |    primary NIC. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **s          |
|                 |                 |                 | ubnet_cidr_id** |
|                 |                 |                 |    is left      |
|                 |                 |                 |    blank,       |
|                 |                 |                 |    cross-VPC    |
|                 |                 |                 |    backend is   |
|                 |                 |                 |    enabled. In  |
|                 |                 |                 |    this case,   |
|                 |                 |                 |    these        |
|                 |                 |                 |    servers must |
|                 |                 |                 |    use IPv4     |
|                 |                 |                 |    addresses.   |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **64** |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Although this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be used in the  |
|                 |                 |                 | APIs for        |
|                 |                 |                 | creating and    |
|                 |                 |                 | updating        |
|                 |                 |                 | backend         |
|                 |                 |                 | servers, its    |
|                 |                 |                 | actual value    |
|                 |                 |                 | depends on      |
|                 |                 |                 | whether cloud   |
|                 |                 |                 | servers exist.  |
|                 |                 |                 | If cloud        |
|                 |                 |                 | servers exist,  |
|                 |                 |                 | the value is    |
|                 |                 |                 | **true**.       |
|                 |                 |                 | Otherwise, the  |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **32** |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | Yes             | Integer         | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server to       |
|                 |                 |                 | receive         |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **65535**       |
+-----------------+-----------------+-----------------+-----------------+
| subnet_cidr_id  | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server works.   |
|                 |                 |                 |                 |
|                 |                 |                 | This subnet     |
|                 |                 |                 | must be in the  |
|                 |                 |                 | same VPC as the |
|                 |                 |                 | subnet of the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | with which the  |
|                 |                 |                 | backend server  |
|                 |                 |                 | is associated.  |
|                 |                 |                 | Only IPv4       |
|                 |                 |                 | subnets are     |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be left     |
|                 |                 |                 | blank,          |
|                 |                 |                 | indicating that |
|                 |                 |                 | cross-VPC       |
|                 |                 |                 | backend servers |
|                 |                 |                 | can be added.   |
|                 |                 |                 | In this case,   |
|                 |                 |                 | IP addresses of |
|                 |                 |                 | these servers   |
|                 |                 |                 | must be IPv4    |
|                 |                 |                 | addresses, the  |
|                 |                 |                 | protocol of the |
|                 |                 |                 | backend server  |
|                 |                 |                 | group must be   |
|                 |                 |                 | TCP, HTTP, or   |
|                 |                 |                 | HTTPS, and      |
|                 |                 |                 | cross-VPC       |
|                 |                 |                 | backend must    |
|                 |                 |                 | have been       |
|                 |                 |                 | enabled for the |
|                 |                 |                 | load balancer.  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Integer         | Specifies the   |
|                 |                 |                 | weight of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Requests are    |
|                 |                 |                 | routed to       |
|                 |                 |                 | backend servers |
|                 |                 |                 | in the same     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group based on  |
|                 |                 |                 | their weights.  |
|                 |                 |                 |                 |
|                 |                 |                 | If the weight   |
|                 |                 |                 | is 0, the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | will not accept |
|                 |                 |                 | new requests.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is invalid when |
|                 |                 |                 | *               |
|                 |                 |                 | *lb_algorithm** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **SOURCE_IP**   |
|                 |                 |                 | for the backend |
|                 |                 |                 | server group    |
|                 |                 |                 | that contains   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **100**         |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **1**  |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| member                | Table 4-206 object    | Specifies the backend |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+

2. Member

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| address               | String                | Specifies the IP      |
|                       |                       | address of the        |
|                       |                       | backend server.       |
|                       |                       |                       |
|                       |                       | The IP address must   |
|                       |                       | be in the subnet      |
|                       |                       | specified by          |
|                       |                       | **subnet_cidr_id**,   |
|                       |                       | for example,          |
|                       |                       | 192.168.3.11. The IP  |
|                       |                       | address can only be   |
|                       |                       | the IP address of the |
|                       |                       | primary NIC.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Although this         |
|                       |                       | parameter can be used |
|                       |                       | in the APIs for       |
|                       |                       | creating and updating |
|                       |                       | backend servers, its  |
|                       |                       | actual value depends  |
|                       |                       | on whether cloud      |
|                       |                       | servers exist. If     |
|                       |                       | cloud servers exist,  |
|                       |                       | the value is          |
|                       |                       | **true**. Otherwise,  |
|                       |                       | the value is          |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the backend server.   |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group to which the |
|                       |                       |    backend server     |
|                       |                       |    belongs.           |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server to receive     |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| subnet_cidr_id        | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | This subnet must be   |
|                       |                       | in the VPC as the     |
|                       |                       | subnet of the load    |
|                       |                       | balancer associated   |
|                       |                       | with the backend      |
|                       |                       | server. Only IPv4     |
|                       |                       | subnets are           |
|                       |                       | supported. If the     |
|                       |                       | value is left blank,  |
|                       |                       | the backend server is |
|                       |                       | not in the load       |
|                       |                       | balancer's VPC.       |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the weight  |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Requests are routed   |
|                       |                       | to backend servers in |
|                       |                       | the same backend      |
|                       |                       | server group based on |
|                       |                       | their weights.        |
|                       |                       |                       |
|                       |                       | If the weight is 0,   |
|                       |                       | the backend server    |
|                       |                       | will not accept new   |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when          |
|                       |                       | **lb_algorithm** is   |
|                       |                       | set to **SOURCE_IP**  |
|                       |                       | for the backend       |
|                       |                       | server group that     |
|                       |                       | contains the backend  |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
|                       |                       |                       |
|                       |                       | Default: **1**        |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | This is a read-only   |
|                       |                       | attribute, which is   |
|                       |                       | automatically         |
|                       |                       | generated based on    |
|                       |                       | the **address**       |
|                       |                       | parameter. The value  |
|                       |                       | can be **v4** or      |
|                       |                       | **v6**.               |
|                       |                       |                       |
|                       |                       | Default: **v4**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| POST
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members
| {
| "member" : {
| "subnet_cidr_id" : "c09f620e-3492-4429-ac15-445d5dd9ca74",
| "protocol_port" : 89,
| "name" : "My member",
| "address" : "120.10.10.16"
| }
| }

2. Example Responses

**Status code: 201**

Successful request.

| {
| "member" : {
| "name" : "My member",
| "weight" : 1,
| "admin_state_up" : false,
| "subnet_cidr_id" : "c09f620e-3492-4429-ac15-445d5dd9ca74",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "address" : "120.10.10.16",
| "protocol_port" : 89,
| "id" : "1923923e-fe8a-484f-bdbc-e11559b1f48f",
| "operating_status" : "NO_MONITOR",
| "ip_version" : "v4"
| },
| "request_id" : "f354090d-41db-41e0-89c6-7a943ec50792"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-backend-servers-1:

Querying Backend Servers
~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to query all backend servers.

6. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

7. URI

GET /v3/{project_id}/elb/pools/{pool_id}/members

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The last page   |
|                 |                 |                 | in the list     |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Array           | Specifies the   |
|                 |                 |                 | weight of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Requests are    |
|                 |                 |                 | routed to       |
|                 |                 |                 | backend servers |
|                 |                 |                 | in the same     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group based on  |
|                 |                 |                 | their weights.  |
|                 |                 |                 | If the weight   |
|                 |                 |                 | is 0, the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | will not accept |
|                 |                 |                 | new requests.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will not take   |
|                 |                 |                 | effect when     |
|                 |                 |                 | *               |
|                 |                 |                 | *lb_algorithm** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **SOURCE_IP**   |
|                 |                 |                 | for the backend |
|                 |                 |                 | server group    |
|                 |                 |                 | that contains   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | weights can be  |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *weight=x       |
|                 |                 |                 | xx&weight=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Although this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be used in the  |
|                 |                 |                 | APIs for        |
|                 |                 |                 | creating and    |
|                 |                 |                 | updating        |
|                 |                 |                 | backend         |
|                 |                 |                 | servers, its    |
|                 |                 |                 | actual value    |
|                 |                 |                 | depends on      |
|                 |                 |                 | whether cloud   |
|                 |                 |                 | servers that    |
|                 |                 |                 | serve as the    |
|                 |                 |                 | backend servers |
|                 |                 |                 | exist. If cloud |
|                 |                 |                 | servers exist,  |
|                 |                 |                 | the value is    |
|                 |                 |                 | **true**.       |
|                 |                 |                 | Otherwise, the  |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
+-----------------+-----------------+-----------------+-----------------+
| subnet_cidr_id  | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | subnet where    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server works.   |
|                 |                 |                 |                 |
|                 |                 |                 | This subnet     |
|                 |                 |                 | must be in the  |
|                 |                 |                 | same VPC as the |
|                 |                 |                 | subnet of the   |
|                 |                 |                 | load balancer   |
|                 |                 |                 | with which the  |
|                 |                 |                 | backend server  |
|                 |                 |                 | is associated.  |
|                 |                 |                 | Only IPv4       |
|                 |                 |                 | subnets are     |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *subnet_ci      |
|                 |                 |                 | dr_id=xxx&subne |
|                 |                 |                 | t_cidr_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| address         | No              | Array           | Specifies the   |
|                 |                 |                 | IP address      |
|                 |                 |                 | bound to the    |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The IP       |
|                 |                 |                 |    address must |
|                 |                 |                 |    be in the    |
|                 |                 |                 |    subnet       |
|                 |                 |                 |    specified by |
|                 |                 |                 |    **su         |
|                 |                 |                 | bnet_cidr_id**, |
|                 |                 |                 |    for example, |
|                 |                 |                 |                 |
|                 |                 |                 |   192.168.3.11. |
|                 |                 |                 |                 |
|                 |                 |                 | -  The IP       |
|                 |                 |                 |    address can  |
|                 |                 |                 |    be used only |
|                 |                 |                 |    by the       |
|                 |                 |                 |    primary NIC. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IP     |
|                 |                 |                 | addresses can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *address=xx     |
|                 |                 |                 | x&address=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| protocol_port   | No              | Array           | Specifies the   |
|                 |                 |                 | port used by    |
|                 |                 |                 | the backend     |
|                 |                 |                 | server.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple ports  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *protoco        |
|                 |                 |                 | l_port=xxx&prot |
|                 |                 |                 | ocol_port=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| o               | No              | Array           | Specifies the   |
| perating_status |                 |                 | operating       |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **ONLINE**:  |
|                 |                 |                 |    The backend  |
|                 |                 |                 |    server is    |
|                 |                 |                 |    running      |
|                 |                 |                 |    normally.    |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 | **NO_MONITOR**: |
|                 |                 |                 |    No health    |
|                 |                 |                 |    check is     |
|                 |                 |                 |    configured   |
|                 |                 |                 |    for the      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server group |
|                 |                 |                 |    to which the |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server       |
|                 |                 |                 |    belongs.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **OFFLINE**: |
|                 |                 |                 |    The cloud    |
|                 |                 |                 |    server used  |
|                 |                 |                 |    as the       |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server is    |
|                 |                 |                 |    stopped or   |
|                 |                 |                 |    does not     |
|                 |                 |                 |    exist.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | operating       |
|                 |                 |                 | statuses can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *operating_sta  |
|                 |                 |                 | tus=xxx&operati |
|                 |                 |                 | ng_status=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | Array           | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    resources in |
|                 |                 |                 |    the default  |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project are  |
|                 |                 |                 |    queried, and |
|                 |                 |                 |                 |
|                 |                 |                 |  authentication |
|                 |                 |                 |    is performed |
|                 |                 |                 |    based on the |
|                 |                 |                 |    default      |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    passed, its  |
|                 |                 |                 |    value can be |
|                 |                 |                 |    the ID of an |
|                 |                 |                 |    existing     |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project or   |
|                 |                 |                 |    **all        |
|                 |                 |                 | _granted_eps**. |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | a specific ID,  |
|                 |                 |                 | resources in    |
|                 |                 |                 | the specific    |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project are     |
|                 |                 |                 | required. If    |
|                 |                 |                 | the value is    |
|                 |                 |                 | **all           |
|                 |                 |                 | _granted_eps**, |
|                 |                 |                 | resources in    |
|                 |                 |                 | all enterprise  |
|                 |                 |                 | projects are    |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *enterpri       |
|                 |                 |                 | se_project_id=x |
|                 |                 |                 | xx&enterprise_p |
|                 |                 |                 | roject_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| ip_version      | No              | String          | Specifies the   |
|                 |                 |                 | IP version. The |
|                 |                 |                 | value can be    |
|                 |                 |                 | **4** (IPv4) or |
|                 |                 |                 | **6** (IPv6).   |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-211 object    | Shows pagination      |
|                       |                       | information.          |
+-----------------------+-----------------------+-----------------------+
| members               | Array of Table 4-212  | Lists the backend     |
|                       | objects               | servers.              |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. Member

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| address               | String                | Specifies the IP      |
|                       |                       | address of the        |
|                       |                       | backend server.       |
|                       |                       |                       |
|                       |                       | The IP address must   |
|                       |                       | be in the subnet      |
|                       |                       | specified by          |
|                       |                       | **subnet_cidr_id**,   |
|                       |                       | for example,          |
|                       |                       | 192.168.3.11. The IP  |
|                       |                       | address can only be   |
|                       |                       | the IP address of the |
|                       |                       | primary NIC.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Although this         |
|                       |                       | parameter can be used |
|                       |                       | in the APIs for       |
|                       |                       | creating and updating |
|                       |                       | backend servers, its  |
|                       |                       | actual value depends  |
|                       |                       | on whether cloud      |
|                       |                       | servers exist. If     |
|                       |                       | cloud servers exist,  |
|                       |                       | the value is          |
|                       |                       | **true**. Otherwise,  |
|                       |                       | the value is          |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the backend server.   |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group to which the |
|                       |                       |    backend server     |
|                       |                       |    belongs.           |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server to receive     |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| subnet_cidr_id        | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | This subnet must be   |
|                       |                       | in the VPC as the     |
|                       |                       | subnet of the load    |
|                       |                       | balancer associated   |
|                       |                       | with the backend      |
|                       |                       | server. Only IPv4     |
|                       |                       | subnets are           |
|                       |                       | supported. If the     |
|                       |                       | value is left blank,  |
|                       |                       | the backend server is |
|                       |                       | not in the load       |
|                       |                       | balancer's VPC.       |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the weight  |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Requests are routed   |
|                       |                       | to backend servers in |
|                       |                       | the same backend      |
|                       |                       | server group based on |
|                       |                       | their weights.        |
|                       |                       |                       |
|                       |                       | If the weight is 0,   |
|                       |                       | the backend server    |
|                       |                       | will not accept new   |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when          |
|                       |                       | **lb_algorithm** is   |
|                       |                       | set to **SOURCE_IP**  |
|                       |                       | for the backend       |
|                       |                       | server group that     |
|                       |                       | contains the backend  |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
|                       |                       |                       |
|                       |                       | Default: **1**        |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | This is a read-only   |
|                       |                       | attribute, which is   |
|                       |                       | automatically         |
|                       |                       | generated based on    |
|                       |                       | the **address**       |
|                       |                       | parameter. The value  |
|                       |                       | can be **v4** or      |
|                       |                       | **v6**.               |
|                       |                       |                       |
|                       |                       | Default: **v4**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/{project_id}/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members

2. Example Responses

**Status code: 200**

Successful request.

| {
| "members" : [ {
| "name" : "quark-neutron",
| "weight" : 100,
| "admin_state_up" : false,
| "subnet_cidr_id" : "c09f620e-3492-4429-ac15-445d5dd9ca74",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "address" : "120.10.10.2",
| "protocol_port" : 2100,
| "id" : "0aa23a52-1ac2-4a2d-8dfa-1e11cb26079d",
| "operating_status" : "NO_MONITOR",
| "ip_version" : "v4"
| }, {
| "name" : "quark-neutron",
| "weight" : 100,
| "admin_state_up" : false,
| "subnet_cidr_id" : "c09f620e-3492-4429-ac15-445d5dd9ca74",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "address" : "120.10.10.2",
| "protocol_port" : 2101,
| "id" : "315b928b-39e4-4d5f-8e48-39e9108c1035",
| "operating_status" : "NO_MONITOR",
| "ip_version" : "v4"
| }, {
| "name" : "quark-neutron",
| "weight" : 100,
| "admin_state_up" : false,
| "subnet_cidr_id" : "27e4ab69-a5ed-46c6-921a-5212be19ce87",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "address" : "2001:db8:a583:6a::4",
| "protocol_port" : 2101,
| "id" : "53976f72-d2aa-47f5-baf4-4906ed6b42d6",
| "operating_status" : "NO_MONITOR",
| "ip_version" : "v6"
| } ],
| "page_info" : {
| "previous_marker" : "0aa23a52-1ac2-4a2d-8dfa-1e11cb26079d",
| "current_count" : 3
| },
| "request_id" : "87e29592-7ab8-401a-9bf4-66cf6747eab9"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Backend Server
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of a backend server.

6. URI

GET /v3/{project_id}/elb/pools/{pool_id}/members/{member_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| member_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| member                | Table 4-216 object    | Specifies the backend |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+

2. Member

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| address               | String                | Specifies the IP      |
|                       |                       | address of the        |
|                       |                       | backend server.       |
|                       |                       |                       |
|                       |                       | The IP address must   |
|                       |                       | be in the subnet      |
|                       |                       | specified by          |
|                       |                       | **subnet_cidr_id**,   |
|                       |                       | for example,          |
|                       |                       | 192.168.3.11. The IP  |
|                       |                       | address can only be   |
|                       |                       | the IP address of the |
|                       |                       | primary NIC.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Although this         |
|                       |                       | parameter can be used |
|                       |                       | in the APIs for       |
|                       |                       | creating and updating |
|                       |                       | backend servers, its  |
|                       |                       | actual value depends  |
|                       |                       | on whether cloud      |
|                       |                       | servers exist. If     |
|                       |                       | cloud servers exist,  |
|                       |                       | the value is          |
|                       |                       | **true**. Otherwise,  |
|                       |                       | the value is          |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the backend server.   |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group to which the |
|                       |                       |    backend server     |
|                       |                       |    belongs.           |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server to receive     |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| subnet_cidr_id        | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | This subnet must be   |
|                       |                       | in the VPC as the     |
|                       |                       | subnet of the load    |
|                       |                       | balancer associated   |
|                       |                       | with the backend      |
|                       |                       | server. Only IPv4     |
|                       |                       | subnets are           |
|                       |                       | supported. If the     |
|                       |                       | value is left blank,  |
|                       |                       | the backend server is |
|                       |                       | not in the load       |
|                       |                       | balancer's VPC.       |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the weight  |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Requests are routed   |
|                       |                       | to backend servers in |
|                       |                       | the same backend      |
|                       |                       | server group based on |
|                       |                       | their weights.        |
|                       |                       |                       |
|                       |                       | If the weight is 0,   |
|                       |                       | the backend server    |
|                       |                       | will not accept new   |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when          |
|                       |                       | **lb_algorithm** is   |
|                       |                       | set to **SOURCE_IP**  |
|                       |                       | for the backend       |
|                       |                       | server group that     |
|                       |                       | contains the backend  |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
|                       |                       |                       |
|                       |                       | Default: **1**        |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | This is a read-only   |
|                       |                       | attribute, which is   |
|                       |                       | automatically         |
|                       |                       | generated based on    |
|                       |                       | the **address**       |
|                       |                       | parameter. The value  |
|                       |                       | can be **v4** or      |
|                       |                       | **v6**.               |
|                       |                       |                       |
|                       |                       | Default: **v4**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members/1923923e-fe8a-484f-bdbc-e11559b1f48f

2. Example Responses

**Status code: 200**

Successful request.

| {
| "member" : {
| "name" : "My member",
| "weight" : 10,
| "admin_state_up" : false,
| "subnet_cidr_id" : "c09f620e-3492-4429-ac15-445d5dd9ca74",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "address" : "120.10.10.16",
| "protocol_port" : 89,
| "id" : "1923923e-fe8a-484f-bdbc-e11559b1f48f",
| "operating_status" : "NO_MONITOR",
| "ip_version" : "v4"
| },
| "request_id" : "45688823-45f1-40cd-9d24-e51a9574a45b"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-backend-server-1:

Updating a Backend Server
~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

The backend server can be updated only when the provisioning status of
the associated load balancer is **ACTIVE**.

6. URI

PUT /v3/{project_id}/elb/pools/{pool_id}/members/{member_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| member_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| member          | Yes             | Table 4-220     | Specifies       |
|                 |                 | object          | request         |
|                 |                 |                 | parameters for  |
|                 |                 |                 | updating a      |
|                 |                 |                 | backend server. |
+-----------------+-----------------+-----------------+-----------------+

3. UpdateMemberOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Although this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be used in the  |
|                 |                 |                 | APIs for        |
|                 |                 |                 | creating and    |
|                 |                 |                 | updating        |
|                 |                 |                 | backend         |
|                 |                 |                 | servers, its    |
|                 |                 |                 | actual value    |
|                 |                 |                 | depends on      |
|                 |                 |                 | whether cloud   |
|                 |                 |                 | servers exist.  |
|                 |                 |                 | If cloud        |
|                 |                 |                 | servers exist,  |
|                 |                 |                 | the value is    |
|                 |                 |                 | **true**.       |
|                 |                 |                 | Otherwise, the  |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| weight          | No              | Integer         | Specifies the   |
|                 |                 |                 | weight of the   |
|                 |                 |                 | backend server. |
|                 |                 |                 |                 |
|                 |                 |                 | Requests are    |
|                 |                 |                 | routed to       |
|                 |                 |                 | backend servers |
|                 |                 |                 | in the same     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group based on  |
|                 |                 |                 | their weights.  |
|                 |                 |                 | If the weight   |
|                 |                 |                 | is 0, the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | will not accept |
|                 |                 |                 | new requests.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is invalid when |
|                 |                 |                 | *               |
|                 |                 |                 | *lb_algorithm** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **SOURCE_IP**   |
|                 |                 |                 | for the backend |
|                 |                 |                 | server group    |
|                 |                 |                 | that contains   |
|                 |                 |                 | the backend     |
|                 |                 |                 | server.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **100**         |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **1**  |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| member                | Table 4-222 object    | Specifies the backend |
|                       |                       | server.               |
+-----------------------+-----------------------+-----------------------+

2. Member

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| address               | String                | Specifies the IP      |
|                       |                       | address of the        |
|                       |                       | backend server.       |
|                       |                       |                       |
|                       |                       | The IP address must   |
|                       |                       | be in the subnet      |
|                       |                       | specified by          |
|                       |                       | **subnet_cidr_id**,   |
|                       |                       | for example,          |
|                       |                       | 192.168.3.11. The IP  |
|                       |                       | address can only be   |
|                       |                       | the IP address of the |
|                       |                       | primary NIC.          |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Although this         |
|                       |                       | parameter can be used |
|                       |                       | in the APIs for       |
|                       |                       | creating and updating |
|                       |                       | backend servers, its  |
|                       |                       | actual value depends  |
|                       |                       | on whether cloud      |
|                       |                       | servers exist. If     |
|                       |                       | cloud servers exist,  |
|                       |                       | the value is          |
|                       |                       | **true**. Otherwise,  |
|                       |                       | the value is          |
|                       |                       | **false**.            |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the backend |
|                       |                       | server ID.            |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the backend |
|                       |                       | server name.          |
+-----------------------+-----------------------+-----------------------+
| operating_status      | String                | Specifies the         |
|                       |                       | operating status of   |
|                       |                       | the backend server.   |
|                       |                       | The value can be one  |
|                       |                       | of the following:     |
|                       |                       |                       |
|                       |                       | -  **ONLINE**: The    |
|                       |                       |    backend server is  |
|                       |                       |    running normally.  |
|                       |                       |                       |
|                       |                       | -  **NO_MONITOR**: No |
|                       |                       |    health check is    |
|                       |                       |    configured for the |
|                       |                       |    backend server     |
|                       |                       |    group to which the |
|                       |                       |    backend server     |
|                       |                       |    belongs.           |
|                       |                       |                       |
|                       |                       | -  **OFFLINE**: The   |
|                       |                       |    cloud server used  |
|                       |                       |    as the backend     |
|                       |                       |    server is stopped  |
|                       |                       |    or does not exist. |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| protocol_port         | Integer               | Specifies the port    |
|                       |                       | used by the backend   |
|                       |                       | server to receive     |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| subnet_cidr_id        | String                | Specifies the ID of   |
|                       |                       | the subnet where the  |
|                       |                       | backend server works. |
|                       |                       | This subnet must be   |
|                       |                       | in the VPC as the     |
|                       |                       | subnet of the load    |
|                       |                       | balancer associated   |
|                       |                       | with the backend      |
|                       |                       | server. Only IPv4     |
|                       |                       | subnets are           |
|                       |                       | supported. If the     |
|                       |                       | value is left blank,  |
|                       |                       | the backend server is |
|                       |                       | not in the load       |
|                       |                       | balancer's VPC.       |
+-----------------------+-----------------------+-----------------------+
| weight                | Integer               | Specifies the weight  |
|                       |                       | of the backend        |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Requests are routed   |
|                       |                       | to backend servers in |
|                       |                       | the same backend      |
|                       |                       | server group based on |
|                       |                       | their weights.        |
|                       |                       |                       |
|                       |                       | If the weight is 0,   |
|                       |                       | the backend server    |
|                       |                       | will not accept new   |
|                       |                       | requests.             |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | invalid when          |
|                       |                       | **lb_algorithm** is   |
|                       |                       | set to **SOURCE_IP**  |
|                       |                       | for the backend       |
|                       |                       | server group that     |
|                       |                       | contains the backend  |
|                       |                       | server.               |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
|                       |                       |                       |
|                       |                       | Default: **1**        |
+-----------------------+-----------------------+-----------------------+
| ip_version            | String                | This is a read-only   |
|                       |                       | attribute, which is   |
|                       |                       | automatically         |
|                       |                       | generated based on    |
|                       |                       | the **address**       |
|                       |                       | parameter. The value  |
|                       |                       | can be **v4** or      |
|                       |                       | **v6**.               |
|                       |                       |                       |
|                       |                       | Default: **v4**       |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| PUT
| https://{elb_endpoint}/v3/9a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members/1923923e-fe8a-484f-bdbc-e11559b1f48f
| {
| "member" : {
| "name" : "My member",
| "weight" : 10
| }
| }

2. Example Responses

**Status code: 200**

Successful request.

| {
| "member" : {
| "name" : "My member",
| "weight" : 10,
| "admin_state_up" : false,
| "subnet_cidr_id" : "c09f620e-3492-4429-ac15-445d5dd9ca74",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "address" : "120.10.10.16",
| "protocol_port" : 89,
| "id" : "1923923e-fe8a-484f-bdbc-e11559b1f48f",
| "operating_status" : "NO_MONITOR",
| "ip_version" : "v4"
| },
| "request_id" : "e7b569d4-15ad-494d-9dd9-8cd740eef8f6"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _removing-a-backend-server-1:

Removing a Backend Server
~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to remove a backend server.

6. Constraints

When you remove backend servers, note the following:

-  After you remove a backend server, new connections to this server
   will not be established. However, persistent connections that have
   been established will be maintained.

-  The last backend server cannot be removed. If it is removed, 403 will
   be returned.

   #. URI

DELETE /v3/{project_id}/elb/pools/{pool_id}/members/{member_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group.          |
+-----------------+-----------------+-----------------+-----------------+
| member_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | backend server  |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

2. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

3. Response Parameters

None

4. Example Requests

| DELETE
| https://{elb_endpoint}/v3/9a3fff0d03c428eac3678da6a7d0f24/elb/pools/36ce7086-a496-4666-9064-5ba0e6840c75/members/1923923e-fe8a-484f-bdbc-e11559b1f48f

5. Example Responses

None

6. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

7. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _health-check-2:

Health Check
------------

1. .. rubric:: Configuring a Health Check
      :name: configuring-a-health-check-2

   #. Function

This API is used to configure a health check.

2. Constraints

The security groups must have rules that allow access from
100.125.0.0/16. If you want to use UDP for health checks, ensure that
the protocol of the backend server group is UDP.

3. URI

POST /v3/{project_id}/elb/healthmonitors

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

4. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| healthmonitor   | Yes             | Table 4-228     | Specifies the   |
|                 |                 | object          | health check.   |
+-----------------+-----------------+-----------------+-----------------+

3. CreateHealthMonitorOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | health check.   |
|                 |                 |                 | Two value       |
|                 |                 |                 | options are     |
|                 |                 |                 | available.      |
|                 |                 |                 | **true**        |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the health      |
|                 |                 |                 | check is        |
|                 |                 |                 | enabled, and    |
|                 |                 |                 | **false**       |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the health      |
|                 |                 |                 | check is        |
|                 |                 |                 | disabled.       |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| delay           | Yes             | Integer         | Specifies the   |
|                 |                 |                 | interval        |
|                 |                 |                 | between health  |
|                 |                 |                 | checks, in      |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **50** |
+-----------------+-----------------+-----------------+-----------------+
| domain_name     | No              | String          | Specifies the   |
|                 |                 |                 | domain name     |
|                 |                 |                 | that HTTP       |
|                 |                 |                 | requests are    |
|                 |                 |                 | sent to during  |
|                 |                 |                 | the health      |
|                 |                 |                 | check.          |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only when       |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the virtual IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is used as the  |
|                 |                 |                 | destination     |
|                 |                 |                 | address of HTTP |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | digits,         |
|                 |                 |                 | letters,        |
|                 |                 |                 | hyphens (-),    |
|                 |                 |                 | and periods (.) |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a digit or |
|                 |                 |                 | letter.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **100**         |
+-----------------+-----------------+-----------------+-----------------+
| expected_codes  | No              | String          | Specifies the   |
|                 |                 |                 | expected HTTP   |
|                 |                 |                 | status code.    |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  A specific   |
|                 |                 |                 |    value, for   |
|                 |                 |                 |    example, 200 |
|                 |                 |                 |                 |
|                 |                 |                 | -  A list of    |
|                 |                 |                 |    values that  |
|                 |                 |                 |    are          |
|                 |                 |                 |    separated    |
|                 |                 |                 |    with commas  |
|                 |                 |                 |    (,), for     |
|                 |                 |                 |    example,     |
|                 |                 |                 |    200, 202     |
|                 |                 |                 |                 |
|                 |                 |                 | -  A value      |
|                 |                 |                 |    range, for   |
|                 |                 |                 |    example,     |
|                 |                 |                 |    200-204      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **200**         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **64** |
+-----------------+-----------------+-----------------+-----------------+
| http_method     | No              | String          | Specifies the   |
|                 |                 |                 | HTTP method.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **GET**,     |
|                 |                 |                 | **HEAD**,       |
|                 |                 |                 | **POST**,       |
|                 |                 |                 | **PUT**,        |
|                 |                 |                 | **DELETE**,     |
|                 |                 |                 | **TRACE**,      |
|                 |                 |                 | **OPTIONS**,    |
|                 |                 |                 | **CONNECT**, or |
|                 |                 |                 | **PATCH**.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **GET**         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+
| max_retries     | Yes             | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from            |
|                 |                 |                 | **OFFLINE** to  |
|                 |                 |                 | **ONLINE**. The |
|                 |                 |                 | value ranges    |
|                 |                 |                 | from **1** to   |
|                 |                 |                 | **10**.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **10** |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Integer         | Specifies the   |
| ax_retries_down |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from **ONLINE** |
|                 |                 |                 | to **OFFLINE**. |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **10** |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **3**  |
+-----------------+-----------------+-----------------+-----------------+
| monitor_port    | No              | Integer         | Specifies the   |
|                 |                 |                 | port used for   |
|                 |                 |                 | the health      |
|                 |                 |                 | check. If this  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank, the |
|                 |                 |                 | port of the     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group will be   |
|                 |                 |                 | used by         |
|                 |                 |                 | default.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **65535**       |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| pool_id         | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group for which |
|                 |                 |                 | the health      |
|                 |                 |                 | check is        |
|                 |                 |                 | configured.     |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **32** |
+-----------------+-----------------+-----------------+-----------------+
| timeout         | Yes             | Integer         | Specifies the   |
|                 |                 |                 | maximum time    |
|                 |                 |                 | required for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | response from   |
|                 |                 |                 | the health      |
|                 |                 |                 | check, in       |
|                 |                 |                 | seconds. It is  |
|                 |                 |                 | recommended     |
|                 |                 |                 | that you set    |
|                 |                 |                 | the value less  |
|                 |                 |                 | than that of    |
|                 |                 |                 | parameter       |
|                 |                 |                 | **delay**.      |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **50** |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | protocol.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **TCP**,     |
|                 |                 |                 | *               |
|                 |                 |                 | *UDP_CONNECT**, |
|                 |                 |                 | **HTTP**,       |
|                 |                 |                 | **HTTPS**, or   |
|                 |                 |                 | **PING**.       |
+-----------------+-----------------+-----------------+-----------------+
| url_path        | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | path for the    |
|                 |                 |                 | health check.   |
|                 |                 |                 | The value must  |
|                 |                 |                 | start with a    |
|                 |                 |                 | slash (/), and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is /.     |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only when       |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **/**  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| healthmonitor         | Table 4-230 object    | Specifies the health  |
|                       |                       | check.                |
+-----------------------+-----------------------+-----------------------+

2. HealthMonitor

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       | Two value options are |
|                       |                       | available. **true**   |
|                       |                       | indicates that the    |
|                       |                       | health check is       |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | that the health check |
|                       |                       | is disabled.          |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the         |
|                       |                       | interval between      |
|                       |                       | health checks, in     |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name that HTTP        |
|                       |                       | requests are sent to  |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | virtual IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter.               |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. This parameter  |
|                       |                       | will take effect only |
|                       |                       | when **type** is set  |
|                       |                       | to **HTTP**.          |
|                       |                       |                       |
|                       |                       | The value options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | -  A specific value,  |
|                       |                       |    for example, 200   |
|                       |                       |                       |
|                       |                       | -  A list of values   |
|                       |                       |    that are separated |
|                       |                       |    with commas (,),   |
|                       |                       |    for example, 200,  |
|                       |                       |    202                |
|                       |                       |                       |
|                       |                       | -  A value range, for |
|                       |                       |    example, 200-204   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **200**      |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | method. This          |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, or       |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **GET**      |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**. The value |
|                       |                       | ranges from **1** to  |
|                       |                       | **10**.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
|                       |                       |                       |
|                       |                       | Default: **3**        |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the port    |
|                       |                       | used for the health   |
|                       |                       | check. If this        |
|                       |                       | parameter is left     |
|                       |                       | blank, the port of    |
|                       |                       | the backend server    |
|                       |                       | group will be used by |
|                       |                       | default.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-231  | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | for which the health  |
|                       |                       | check is configured.  |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the maximum |
|                       |                       | time required for     |
|                       |                       | waiting for a         |
|                       |                       | response from the     |
|                       |                       | health check, in      |
|                       |                       | seconds. It is        |
|                       |                       | recommended that you  |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | value must start with |
|                       |                       | a slash (/), and the  |
|                       |                       | default value is /.   |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | Default: **/**        |
+-----------------------+-----------------------+-----------------------+

1. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| POST
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/healthmonitors
| {
| "healthmonitor" : {
| "name" : "My Healthmonitor",
| "max_retries" : 3,
| "pool_id" : "488acc50-6bcf-423d-8f0a-0f4184f5b8a0",
| "type" : "HTTP",
| "timeout" : 30,
| "delay" : 1
| }
| }

2. Example Responses

**Status code: 201**

Successful request.

| {
| "request_id" : "0e837340-f1bd-4037-8f61-9923d0f0b19e",
| "healthmonitor" : {
| "id" : "c2b210b2-60c4-449d-91e2-9e9ea1dd7441",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "My Healthmonitor",
| "delay" : 1,
| "max_retries" : 3,
| "pools" : [ {
| "id" : "488acc50-6bcf-423d-8f0a-0f4184f5b8a0"
| } ],
| "admin_state_up" : true,
| "timeout" : 30,
| "type" : "HTTP",
| "expected_codes" : "200",
| "url_path" : "/",
| "http_method" : "GET"
| }
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-health-checks-1:

Querying Health Checks
~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to query all health checks.

6. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

7. URI

GET /v3/{project_id}/elb/healthmonitors

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The last page   |
|                 |                 |                 | in the list     |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| monitor_port    | No              | Array           | Specifies the   |
|                 |                 |                 | port used for   |
|                 |                 |                 | the health      |
|                 |                 |                 | check.          |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple ports  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *monit          |
|                 |                 |                 | or_port=xxx&mon |
|                 |                 |                 | itor_port=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| domain_name     | No              | Array           | Specifies the   |
|                 |                 |                 | domain name to  |
|                 |                 |                 | which HTTP      |
|                 |                 |                 | requests are    |
|                 |                 |                 | sent during the |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the virtual IP  |
|                 |                 |                 | address bound   |
|                 |                 |                 | to the load     |
|                 |                 |                 | balancer is     |
|                 |                 |                 | used as the     |
|                 |                 |                 | destination of  |
|                 |                 |                 | HTTP requests.  |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | digits,         |
|                 |                 |                 | letters,        |
|                 |                 |                 | hyphens (-),    |
|                 |                 |                 | and periods (.) |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a digit or |
|                 |                 |                 | letter.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple domain |
|                 |                 |                 | names can be    |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *dom            |
|                 |                 |                 | ain_name=xxx&do |
|                 |                 |                 | main_name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| delay           | No              | Array           | Specifies the   |
|                 |                 |                 | interval        |
|                 |                 |                 | between health  |
|                 |                 |                 | checks, in      |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | intervals can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *delay=         |
|                 |                 |                 | xxx&delay=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| max_retries     | No              | Array           | Specifies the   |
|                 |                 |                 | maximum number  |
|                 |                 |                 | of retries.     |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple values |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *max            |
|                 |                 |                 | _retries=xxx&ma |
|                 |                 |                 | x_retries=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | health check.   |
|                 |                 |                 |                 |
|                 |                 |                 | Although this   |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be used in the  |
|                 |                 |                 | APIs for        |
|                 |                 |                 | creating and    |
|                 |                 |                 | updating health |
|                 |                 |                 | checks, its     |
|                 |                 |                 | actual value    |
|                 |                 |                 | depends on      |
|                 |                 |                 | whether cloud   |
|                 |                 |                 | servers that    |
|                 |                 |                 | serve as the    |
|                 |                 |                 | backend servers |
|                 |                 |                 | exist. If cloud |
|                 |                 |                 | servers exist,  |
|                 |                 |                 | the value is    |
|                 |                 |                 | **true**.       |
|                 |                 |                 | Otherwise, the  |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Array           | Specifies the   |
| ax_retries_down |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from **ONLINE** |
|                 |                 |                 | to **OFFLINE**. |
|                 |                 |                 | The value       |
|                 |                 |                 | ranges from     |
|                 |                 |                 | **1** to        |
|                 |                 |                 | **10**.         |
+-----------------+-----------------+-----------------+-----------------+
| timeout         | No              | Integer         | Specifies the   |
|                 |                 |                 | maximum time    |
|                 |                 |                 | required for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | response from   |
|                 |                 |                 | the health      |
|                 |                 |                 | check, in       |
|                 |                 |                 | seconds. It is  |
|                 |                 |                 | recommended     |
|                 |                 |                 | that you set    |
|                 |                 |                 | the value less  |
|                 |                 |                 | than that of    |
|                 |                 |                 | parameter       |
|                 |                 |                 | **delay**.      |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | Array           | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | protocol.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | protocols can   |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *type           |
|                 |                 |                 | =xxx&type=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| expected_codes  | No              | Array           | Specifies the   |
|                 |                 |                 | expected HTTP   |
|                 |                 |                 | status code.    |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  A specific   |
|                 |                 |                 |    value, for   |
|                 |                 |                 |    example, 200 |
|                 |                 |                 |                 |
|                 |                 |                 | -  A list of    |
|                 |                 |                 |    values that  |
|                 |                 |                 |    are          |
|                 |                 |                 |    separated    |
|                 |                 |                 |    with commas  |
|                 |                 |                 |    (,), for     |
|                 |                 |                 |    example,     |
|                 |                 |                 |    200, 202     |
|                 |                 |                 |                 |
|                 |                 |                 | -  A value      |
|                 |                 |                 |    range, for   |
|                 |                 |                 |    example,     |
|                 |                 |                 |    200-204      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple status |
|                 |                 |                 | codes can be    |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *expected_      |
|                 |                 |                 | codes=xxx&expec |
|                 |                 |                 | ted_codes=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| url_path        | No              | Array           | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | path for the    |
|                 |                 |                 | health check.   |
|                 |                 |                 | The value must  |
|                 |                 |                 | start with a    |
|                 |                 |                 | slash (/), and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is /.     |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only when       |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple paths  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *url_path=xxx   |
|                 |                 |                 | &url_path=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| http_method     | No              | Array           | Specifies the   |
|                 |                 |                 | HTTP method.    |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **GET**,     |
|                 |                 |                 | **HEAD**,       |
|                 |                 |                 | **POST**,       |
|                 |                 |                 | **PUT**,        |
|                 |                 |                 | **DELETE**,     |
|                 |                 |                 | **TRACE**,      |
|                 |                 |                 | **OPTIONS**,    |
|                 |                 |                 | **CONNECT**, or |
|                 |                 |                 | **PATCH**.      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | methods can be  |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *htt            |
|                 |                 |                 | p_method=xxx&ht |
|                 |                 |                 | tp_method=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | Array           | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    resources in |
|                 |                 |                 |    the default  |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project are  |
|                 |                 |                 |    queried, and |
|                 |                 |                 |                 |
|                 |                 |                 |  authentication |
|                 |                 |                 |    is performed |
|                 |                 |                 |    based on the |
|                 |                 |                 |    default      |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    passed, its  |
|                 |                 |                 |    value can be |
|                 |                 |                 |    the ID of an |
|                 |                 |                 |    existing     |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project or   |
|                 |                 |                 |    **all        |
|                 |                 |                 | _granted_eps**. |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | a specific ID,  |
|                 |                 |                 | resources in    |
|                 |                 |                 | the specific    |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project are     |
|                 |                 |                 | required. If    |
|                 |                 |                 | the value is    |
|                 |                 |                 | **all           |
|                 |                 |                 | _granted_eps**, |
|                 |                 |                 | resources in    |
|                 |                 |                 | all enterprise  |
|                 |                 |                 | projects are    |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *enterpri       |
|                 |                 |                 | se_project_id=x |
|                 |                 |                 | xx&enterprise_p |
|                 |                 |                 | roject_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-236 object    | Shows pagination      |
|                       |                       | information.          |
+-----------------------+-----------------------+-----------------------+
| healthmonitors        | Array of Table 4-237  | Specifies the health  |
|                       | objects               | check.                |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. HealthMonitor

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       | Two value options are |
|                       |                       | available. **true**   |
|                       |                       | indicates that the    |
|                       |                       | health check is       |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | that the health check |
|                       |                       | is disabled.          |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the         |
|                       |                       | interval between      |
|                       |                       | health checks, in     |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name that HTTP        |
|                       |                       | requests are sent to  |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | virtual IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter.               |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. This parameter  |
|                       |                       | will take effect only |
|                       |                       | when **type** is set  |
|                       |                       | to **HTTP**.          |
|                       |                       |                       |
|                       |                       | The value options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | -  A specific value,  |
|                       |                       |    for example, 200   |
|                       |                       |                       |
|                       |                       | -  A list of values   |
|                       |                       |    that are separated |
|                       |                       |    with commas (,),   |
|                       |                       |    for example, 200,  |
|                       |                       |    202                |
|                       |                       |                       |
|                       |                       | -  A value range, for |
|                       |                       |    example, 200-204   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **200**      |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | method. This          |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, or       |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **GET**      |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**. The value |
|                       |                       | ranges from **1** to  |
|                       |                       | **10**.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
|                       |                       |                       |
|                       |                       | Default: **3**        |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the port    |
|                       |                       | used for the health   |
|                       |                       | check. If this        |
|                       |                       | parameter is left     |
|                       |                       | blank, the port of    |
|                       |                       | the backend server    |
|                       |                       | group will be used by |
|                       |                       | default.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-238  | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | for which the health  |
|                       |                       | check is configured.  |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the maximum |
|                       |                       | time required for     |
|                       |                       | waiting for a         |
|                       |                       | response from the     |
|                       |                       | health check, in      |
|                       |                       | seconds. It is        |
|                       |                       | recommended that you  |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | value must start with |
|                       |                       | a slash (/), and the  |
|                       |                       | default value is /.   |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | Default: **/**        |
+-----------------------+-----------------------+-----------------------+

1. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/healthmonitors

2. Example Responses

**Status code: 200**

Successful request.

| {
| "healthmonitors" : [ {
| "id" : "c2b210b2-60c4-449d-91e2-9e9ea1dd7441",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "My Healthmonitor update",
| "delay" : 10,
| "max_retries" : 10,
| "pools" : [ {
| "id" : "488acc50-6bcf-423d-8f0a-0f4184f5b8a0"
| } ],
| "admin_state_up" : true,
| "timeout" : 30,
| "type" : "HTTP",
| "expected_codes" : "200",
| "url_path" : "/",
| "http_method" : "GET"
| }, {
| "id" : "cda1af03-0660-4fd2-8edf-e38c79846e08",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "domain_name" : "akik..un.com",
| "name" : "lijunqiu",
| "delay" : 50,
| "max_retries" : 1,
| "pools" : [ {
| "id" : "ae6e45ba-be84-4074-8ac6-bc4a56484809"
| } ],
| "admin_state_up" : false,
| "timeout" : 3,
| "type" : "UDP_CONNECT",
| "url_path" : "/world"
| } ],
| "page_info" : {
| "next_marker" : "cda1af03-0660-4fd2-8edf-e38c79846e08",
| "previous_marker" : "c2b210b2-60c4-449d-91e2-9e9ea1dd7441",
| "current_count" : 2
| },
| "request_id" : "814bc40e-8b0a-4ced-b8e5-f136c3e1df6a"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Health Check
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of a health check.

6. URI

GET /v3/{project_id}/elb/healthmonitors/{healthmonitor_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| h               | Yes             | String          | Specifies the   |
| ealthmonitor_id |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| healthmonitor         | Table 4-242 object    | Specifies the health  |
|                       |                       | check.                |
+-----------------------+-----------------------+-----------------------+

2. HealthMonitor

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       | Two value options are |
|                       |                       | available. **true**   |
|                       |                       | indicates that the    |
|                       |                       | health check is       |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | that the health check |
|                       |                       | is disabled.          |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the         |
|                       |                       | interval between      |
|                       |                       | health checks, in     |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name that HTTP        |
|                       |                       | requests are sent to  |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | virtual IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter.               |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. This parameter  |
|                       |                       | will take effect only |
|                       |                       | when **type** is set  |
|                       |                       | to **HTTP**.          |
|                       |                       |                       |
|                       |                       | The value options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | -  A specific value,  |
|                       |                       |    for example, 200   |
|                       |                       |                       |
|                       |                       | -  A list of values   |
|                       |                       |    that are separated |
|                       |                       |    with commas (,),   |
|                       |                       |    for example, 200,  |
|                       |                       |    202                |
|                       |                       |                       |
|                       |                       | -  A value range, for |
|                       |                       |    example, 200-204   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **200**      |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | method. This          |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, or       |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **GET**      |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**. The value |
|                       |                       | ranges from **1** to  |
|                       |                       | **10**.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
|                       |                       |                       |
|                       |                       | Default: **3**        |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the port    |
|                       |                       | used for the health   |
|                       |                       | check. If this        |
|                       |                       | parameter is left     |
|                       |                       | blank, the port of    |
|                       |                       | the backend server    |
|                       |                       | group will be used by |
|                       |                       | default.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-243  | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | for which the health  |
|                       |                       | check is configured.  |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the maximum |
|                       |                       | time required for     |
|                       |                       | waiting for a         |
|                       |                       | response from the     |
|                       |                       | health check, in      |
|                       |                       | seconds. It is        |
|                       |                       | recommended that you  |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | value must start with |
|                       |                       | a slash (/), and the  |
|                       |                       | default value is /.   |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | Default: **/**        |
+-----------------------+-----------------------+-----------------------+

1. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/healthmonitors/c2b210b2-60c4-449d-91e2-9e9ea1dd7441

2. Example Responses

**Status code: 200**

Successful request.

| {
| "healthmonitor" : {
| "id" : "c2b210b2-60c4-449d-91e2-9e9ea1dd7441",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "My Healthmonitor update",
| "delay" : 10,
| "max_retries" : 10,
| "pools" : [ {
| "id" : "488acc50-6bcf-423d-8f0a-0f4184f5b8a0"
| } ],
| "admin_state_up" : true,
| "timeout" : 30,
| "type" : "HTTP",
| "expected_codes" : "200",
| "url_path" : "/",
| "http_method" : "GET"
| },
| "request_id" : "3702e8f0-f5f0-4d35-9097-fc7160005fae"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-health-check-1:

Updating a Health Check
~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to update a health check.

6. Constraints

The health check can be updated only when the provisioning status of the
associated load balancer is **ACTIVE**.

7. URI

PUT /v3/{project_id}/elb/healthmonitors/{healthmonitor_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| h               | Yes             | String          | Specifies the   |
| ealthmonitor_id |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| healthmonitor   | Yes             | Table 4-247     | Specifies the   |
|                 |                 | object          | health check.   |
+-----------------+-----------------+-----------------+-----------------+

3. UpdateHealthMonitorOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | health check.   |
|                 |                 |                 | Two value       |
|                 |                 |                 | options are     |
|                 |                 |                 | available.      |
|                 |                 |                 | **true**        |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the health      |
|                 |                 |                 | check is        |
|                 |                 |                 | enabled, and    |
|                 |                 |                 | **false**       |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the health      |
|                 |                 |                 | check is        |
|                 |                 |                 | disabled.       |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| delay           | No              | Integer         | Specifies the   |
|                 |                 |                 | interval        |
|                 |                 |                 | between health  |
|                 |                 |                 | checks, in      |
|                 |                 |                 | seconds.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **50** |
+-----------------+-----------------+-----------------+-----------------+
| domain_name     | No              | String          | Specifies the   |
|                 |                 |                 | domain name     |
|                 |                 |                 | that HTTP       |
|                 |                 |                 | requests are    |
|                 |                 |                 | sent to during  |
|                 |                 |                 | the health      |
|                 |                 |                 | check.          |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only when       |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | left blank by   |
|                 |                 |                 | default,        |
|                 |                 |                 | indicating that |
|                 |                 |                 | the virtual IP  |
|                 |                 |                 | address of the  |
|                 |                 |                 | load balancer   |
|                 |                 |                 | is used as the  |
|                 |                 |                 | destination     |
|                 |                 |                 | address of HTTP |
|                 |                 |                 | requests.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | digits,         |
|                 |                 |                 | letters,        |
|                 |                 |                 | hyphens (-),    |
|                 |                 |                 | and periods (.) |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a digit or |
|                 |                 |                 | letter.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **100**         |
+-----------------+-----------------+-----------------+-----------------+
| expected_codes  | No              | String          | Specifies the   |
|                 |                 |                 | expected HTTP   |
|                 |                 |                 | status code.    |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when **type**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **HTTP**.       |
|                 |                 |                 |                 |
|                 |                 |                 | The value       |
|                 |                 |                 | options are as  |
|                 |                 |                 | follows:        |
|                 |                 |                 |                 |
|                 |                 |                 | -  A specific   |
|                 |                 |                 |    value, for   |
|                 |                 |                 |    example, 200 |
|                 |                 |                 |                 |
|                 |                 |                 | -  A list of    |
|                 |                 |                 |    values that  |
|                 |                 |                 |    are          |
|                 |                 |                 |    separated    |
|                 |                 |                 |    with commas  |
|                 |                 |                 |    (,), for     |
|                 |                 |                 |    example,     |
|                 |                 |                 |    200, 202     |
|                 |                 |                 |                 |
|                 |                 |                 | -  A value      |
|                 |                 |                 |    range, for   |
|                 |                 |                 |    example,     |
|                 |                 |                 |    200-204      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **200**         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **64** |
+-----------------+-----------------+-----------------+-----------------+
| http_method     | No              | String          | Specifies the   |
|                 |                 |                 | HTTP method.    |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **GET**,     |
|                 |                 |                 | **HEAD**,       |
|                 |                 |                 | **POST**,       |
|                 |                 |                 | **PUT**,        |
|                 |                 |                 | **DELETE**,     |
|                 |                 |                 | **TRACE**,      |
|                 |                 |                 | **OPTIONS**,    |
|                 |                 |                 | **CONNECT**, or |
|                 |                 |                 | **PATCH**. This |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect     |
|                 |                 |                 | only when       |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **GET**         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+
| max_retries     | No              | Integer         | Specifies the   |
|                 |                 |                 | maximum health  |
|                 |                 |                 | check retries.  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **10** |
+-----------------+-----------------+-----------------+-----------------+
| m               | No              | Integer         | Specifies the   |
| ax_retries_down |                 |                 | number of       |
|                 |                 |                 | consecutive     |
|                 |                 |                 | health checks   |
|                 |                 |                 | when the health |
|                 |                 |                 | check result of |
|                 |                 |                 | a backend       |
|                 |                 |                 | server changes  |
|                 |                 |                 | from **ONLINE** |
|                 |                 |                 | to **OFFLINE**. |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **10** |
+-----------------+-----------------+-----------------+-----------------+
| monitor_port    | No              | Integer         | Specifies the   |
|                 |                 |                 | port used for   |
|                 |                 |                 | the health      |
|                 |                 |                 | check. If this  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank, the |
|                 |                 |                 | port of the     |
|                 |                 |                 | backend server  |
|                 |                 |                 | group will be   |
|                 |                 |                 | used by         |
|                 |                 |                 | default.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **65535**       |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | health check    |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| timeout         | No              | Integer         | Specifies the   |
|                 |                 |                 | maximum time    |
|                 |                 |                 | required for    |
|                 |                 |                 | waiting for a   |
|                 |                 |                 | response from   |
|                 |                 |                 | the health      |
|                 |                 |                 | check, in       |
|                 |                 |                 | seconds. It is  |
|                 |                 |                 | recommended     |
|                 |                 |                 | that you set    |
|                 |                 |                 | the value less  |
|                 |                 |                 | than that of    |
|                 |                 |                 | parameter       |
|                 |                 |                 | **delay**.      |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **50** |
+-----------------+-----------------+-----------------+-----------------+
| url_path        | No              | String          | Specifies the   |
|                 |                 |                 | HTTP request    |
|                 |                 |                 | path for the    |
|                 |                 |                 | health check.   |
|                 |                 |                 | The value must  |
|                 |                 |                 | start with a    |
|                 |                 |                 | slash (/), and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is /.     |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is available    |
|                 |                 |                 | only when       |
|                 |                 |                 | **type** is set |
|                 |                 |                 | to **HTTP**.    |
|                 |                 |                 |                 |
|                 |                 |                 | Default: **/**  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | String          | Specifies the   |
|                 |                 |                 | protocol used   |
|                 |                 |                 | for the health  |
|                 |                 |                 | check.          |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **TCP**,     |
|                 |                 |                 | *               |
|                 |                 |                 | *UDP_CONNECT**, |
|                 |                 |                 | **HTTP**,       |
|                 |                 |                 | **HTTPS**, or   |
|                 |                 |                 | **PING**.       |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| healthmonitor         | Table 4-249 object    | Specifies the health  |
|                       |                       | check.                |
+-----------------------+-----------------------+-----------------------+

2. HealthMonitor

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the health check.  |
|                       |                       | Two value options are |
|                       |                       | available. **true**   |
|                       |                       | indicates that the    |
|                       |                       | health check is       |
|                       |                       | enabled, and          |
|                       |                       | **false** indicates   |
|                       |                       | that the health check |
|                       |                       | is disabled.          |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| delay                 | Integer               | Specifies the         |
|                       |                       | interval between      |
|                       |                       | health checks, in     |
|                       |                       | seconds.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| domain_name           | String                | Specifies the domain  |
|                       |                       | name that HTTP        |
|                       |                       | requests are sent to  |
|                       |                       | during the health     |
|                       |                       | check.                |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value is left     |
|                       |                       | blank by default,     |
|                       |                       | indicating that the   |
|                       |                       | virtual IP address of |
|                       |                       | the load balancer is  |
|                       |                       | used as the           |
|                       |                       | destination address   |
|                       |                       | of HTTP requests.     |
|                       |                       |                       |
|                       |                       | The value can contain |
|                       |                       | only digits, letters, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a digit or |
|                       |                       | letter.               |
+-----------------------+-----------------------+-----------------------+
| expected_codes        | String                | Specifies the         |
|                       |                       | expected HTTP status  |
|                       |                       | code. This parameter  |
|                       |                       | will take effect only |
|                       |                       | when **type** is set  |
|                       |                       | to **HTTP**.          |
|                       |                       |                       |
|                       |                       | The value options are |
|                       |                       | as follows:           |
|                       |                       |                       |
|                       |                       | -  A specific value,  |
|                       |                       |    for example, 200   |
|                       |                       |                       |
|                       |                       | -  A list of values   |
|                       |                       |    that are separated |
|                       |                       |    with commas (,),   |
|                       |                       |    for example, 200,  |
|                       |                       |    202                |
|                       |                       |                       |
|                       |                       | -  A value range, for |
|                       |                       |    example, 200-204   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **200**      |
+-----------------------+-----------------------+-----------------------+
| http_method           | String                | Specifies the HTTP    |
|                       |                       | method. This          |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | The value can be      |
|                       |                       | **GET**, **HEAD**,    |
|                       |                       | **POST**, **PUT**,    |
|                       |                       | **DELETE**,           |
|                       |                       | **TRACE**,            |
|                       |                       | **OPTIONS**,          |
|                       |                       | **CONNECT**, or       |
|                       |                       | **PATCH**.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **GET**      |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the health  |
|                       |                       | check ID.             |
+-----------------------+-----------------------+-----------------------+
| max_retries           | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **OFFLINE** to        |
|                       |                       | **ONLINE**. The value |
|                       |                       | ranges from **1** to  |
|                       |                       | **10**.               |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
+-----------------------+-----------------------+-----------------------+
| max_retries_down      | Integer               | Specifies the number  |
|                       |                       | of consecutive health |
|                       |                       | checks when the       |
|                       |                       | health check result   |
|                       |                       | of a backend server   |
|                       |                       | changes from          |
|                       |                       | **ONLINE** to         |
|                       |                       | **OFFLINE**.          |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **10**       |
|                       |                       |                       |
|                       |                       | Default: **3**        |
+-----------------------+-----------------------+-----------------------+
| monitor_port          | Integer               | Specifies the port    |
|                       |                       | used for the health   |
|                       |                       | check. If this        |
|                       |                       | parameter is left     |
|                       |                       | blank, the port of    |
|                       |                       | the backend server    |
|                       |                       | group will be used by |
|                       |                       | default.              |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **65535**    |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the health  |
|                       |                       | check name.           |
+-----------------------+-----------------------+-----------------------+
| pools                 | Array of Table 4-250  | Lists the IDs of      |
|                       | objects               | backend server groups |
|                       |                       | for which the health  |
|                       |                       | check is configured.  |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| timeout               | Integer               | Specifies the maximum |
|                       |                       | time required for     |
|                       |                       | waiting for a         |
|                       |                       | response from the     |
|                       |                       | health check, in      |
|                       |                       | seconds. It is        |
|                       |                       | recommended that you  |
|                       |                       | set the value less    |
|                       |                       | than that of          |
|                       |                       | parameter **delay**.  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **50**       |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the health  |
|                       |                       | check protocol.       |
+-----------------------+-----------------------+-----------------------+
| url_path              | String                | Specifies the HTTP    |
|                       |                       | request path for the  |
|                       |                       | health check. The     |
|                       |                       | value must start with |
|                       |                       | a slash (/), and the  |
|                       |                       | default value is /.   |
|                       |                       | This parameter is     |
|                       |                       | available only when   |
|                       |                       | **type** is set to    |
|                       |                       | **HTTP**.             |
|                       |                       |                       |
|                       |                       | Default: **/**        |
+-----------------------+-----------------------+-----------------------+

1. PoolRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group.                |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| PUT
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/healthmonitors/c2b210b2-60c4-449d-91e2-9e9ea1dd7441
| {
| "healthmonitor" : {
| "name" : "My Healthmonitor update",
| "max_retries" : 10,
| "delay" : 10
| }
| }

2. Example Responses

**Status code: 200**

Successful request.

| {
| "request_id" : "08d6ffea-d092-4cfa-860a-e364f3bef1be",
| "healthmonitor" : {
| "id" : "c2b210b2-60c4-449d-91e2-9e9ea1dd7441",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "name" : "My Healthmonitor update",
| "delay" : 10,
| "max_retries" : 10,
| "pools" : [ {
| "id" : "488acc50-6bcf-423d-8f0a-0f4184f5b8a0"
| } ],
| "admin_state_up" : true,
| "timeout" : 30,
| "type" : "HTTP",
| "expected_codes" : "200",
| "url_path" : "/",
| "http_method" : "GET"
| }
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _deleting-a-health-check-2:

Deleting a Health Check
~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to delete a health check.

6. Constraints

The health check can be deleted only when the provisioning status of the
associated load balancer is **ACTIVE**.

7. URI

DELETE /v3/{project_id}/elb/healthmonitors/{healthmonitor_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| h               | Yes             | String          | Specifies the   |
| ealthmonitor_id |                 |                 | health check    |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

8. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

9. Response Parameters

None

10. Example Requests

| DELETE
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/healthmonitors/c2b210b2-60c4-449d-91e2-9e9ea1dd7441

11. Example Responses

None

12. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

13. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _forwarding-policy-1:

Forwarding Policy
-----------------

1. .. rubric:: Adding a Forwarding Policy
      :name: adding-a-forwarding-policy-1

   #. Function

This API is used to add a forwarding policy.

2. Constraints

The protocol of the listener to which requests are redirected can only
be HTTPS.

The listener associated with the forwarding policy cannot be any
listener added to other load balancers.

3. URI

POST /v3/{project_id}/elb/l7policies

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

4. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy        | Yes             | Table 4-256     | Specifies the   |
|                 |                 | object          | forwarding      |
|                 |                 |                 | policy.         |
+-----------------+-----------------+-----------------+-----------------+

3. CreateL7PolicyOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| action          | Yes             | String          | Specifies where |
|                 |                 |                 | requests will   |
|                 |                 |                 | be forwarded.   |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REDI       |
|                 |                 |                 | RECT_TO_POOL**: |
|                 |                 |                 |    Requests     |
|                 |                 |                 |    will be      |
|                 |                 |                 |    forwarded to |
|                 |                 |                 |    another      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server       |
|                 |                 |                 |    group.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REDIRECT   |
|                 |                 |                 | _TO_LISTENER**: |
|                 |                 |                 |    Requests     |
|                 |                 |                 |    will be      |
|                 |                 |                 |    redirected   |
|                 |                 |                 |    to an HTTPS  |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | **REDIREC       |
|                 |                 |                 | T_TO_LISTENER** |
|                 |                 |                 | has the highest |
|                 |                 |                 | priority. If    |
|                 |                 |                 | requests are to |
|                 |                 |                 | be redirected   |
|                 |                 |                 | to an HTTPS     |
|                 |                 |                 | listener, other |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policies of the |
|                 |                 |                 | listener will   |
|                 |                 |                 | become invalid. |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. The     |
|                 |                 |                 | default value   |
|                 |                 |                 | is **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy is       |
|                 |                 |                 | added.          |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **action**   |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **REDI       |
|                 |                 |                 | RECT_TO_POOL**, |
|                 |                 |                 |    the          |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policy can   |
|                 |                 |                 |    be added to  |
|                 |                 |                 |    an HTTP or   |
|                 |                 |                 |    HTTPS        |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **action**   |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **REDIRECT   |
|                 |                 |                 | _TO_LISTENER**, |
|                 |                 |                 |    the          |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policy can   |
|                 |                 |                 |    be added to  |
|                 |                 |                 |    an HTTP      |
|                 |                 |                 |    listener.    |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy name.    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| position        | No              | Integer         | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy          |
|                 |                 |                 | priority. The   |
|                 |                 |                 | value cannot be |
|                 |                 |                 | updated.        |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **100**         |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | project where   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | policy is used. |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **32** |
+-----------------+-----------------+-----------------+-----------------+
| redir           | No              | String          | Specifies the   |
| ect_listener_id |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which requests  |
|                 |                 |                 | are redirected. |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
|                 |                 |                 |                 |
|                 |                 |                 | For shared load |
|                 |                 |                 | balancers, this |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not supported.  |
|                 |                 |                 | If it is        |
|                 |                 |                 | passed, an      |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
+-----------------+-----------------+-----------------+-----------------+
| r               | No              | String          | Specifies the   |
| edirect_pool_id |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group that      |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded to.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid and    |
|                 |                 |                 | mandatory only  |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDI          |
|                 |                 |                 | RECT_TO_POOL**. |
|                 |                 |                 | The specified   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group cannot be |
|                 |                 |                 | the default one |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener,   |
|                 |                 |                 | or any backend  |
|                 |                 |                 | server group    |
|                 |                 |                 | associated with |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | policies of     |
|                 |                 |                 | other           |
|                 |                 |                 | listeners.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | cannot be       |
|                 |                 |                 | specified when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
+-----------------+-----------------+-----------------+-----------------+
| redirect_url    | No              | String          | Specifies the   |
|                 |                 |                 | URL to which    |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded.      |
|                 |                 |                 |                 |
|                 |                 |                 | Format:         |
|                 |                 |                 | *pr             |
|                 |                 |                 | otocol://host:p |
|                 |                 |                 | ort/path?query* |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| rules           | No              | Array of Table  | Lists the       |
|                 |                 | 4-257 objects   | forwarding      |
|                 |                 |                 | rules in the    |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | The list can    |
|                 |                 |                 | contain a       |
|                 |                 |                 | maximum of 10   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rules (if       |
|                 |                 |                 | **conditions**  |
|                 |                 |                 | is specified, a |
|                 |                 |                 | condition is    |
|                 |                 |                 | considered as a |
|                 |                 |                 | rule).          |
|                 |                 |                 |                 |
|                 |                 |                 | If **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | **PATH**,       |
|                 |                 |                 | **METHOD**, or  |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | only one        |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | can be created  |
|                 |                 |                 | for each type.  |
|                 |                 |                 |                 |
|                 |                 |                 | The entire list |
|                 |                 |                 | will be         |
|                 |                 |                 | replaced if you |
|                 |                 |                 | update it.      |
+-----------------+-----------------+-----------------+-----------------+
| priority        | No              | Integer         | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy          |
|                 |                 |                 | priority. This  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | for dedicated   |
|                 |                 |                 | load balancers  |
|                 |                 |                 | and will take   |
|                 |                 |                 | effect when     |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**. If    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is passed and   |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **false**, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned. For   |
|                 |                 |                 | shared load     |
|                 |                 |                 | balancers, this |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not supported.  |
|                 |                 |                 | If it is        |
|                 |                 |                 | passed, an      |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | A smaller value |
|                 |                 |                 | indicates a     |
|                 |                 |                 | higher          |
|                 |                 |                 | priority. The   |
|                 |                 |                 | value must be   |
|                 |                 |                 | unique for each |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy of the   |
|                 |                 |                 | same listener.  |
|                 |                 |                 |                 |
|                 |                 |                 | If **action**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**, |
|                 |                 |                 | the value can   |
|                 |                 |                 | only be **0**,  |
|                 |                 |                 | indicating that |
|                 |                 |                 | **REDIREC       |
|                 |                 |                 | T_TO_LISTENER** |
|                 |                 |                 | has the highest |
|                 |                 |                 | priority.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **enhance_l7 |
|                 |                 |                 | policy_enable** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **false**,   |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies are |
|                 |                 |                 |                 |
|                 |                 |                 |   automatically |
|                 |                 |                 |    prioritized  |
|                 |                 |                 |    based on the |
|                 |                 |                 |    original     |
|                 |                 |                 |    sorting      |
|                 |                 |                 |    logic.       |
|                 |                 |                 |    Forwarding   |
|                 |                 |                 |    policy       |
|                 |                 |                 |    priorities   |
|                 |                 |                 |    are          |
|                 |                 |                 |    independent  |
|                 |                 |                 |    of each      |
|                 |                 |                 |    other        |
|                 |                 |                 |    regardless   |
|                 |                 |                 |    of domain    |
|                 |                 |                 |    names. If    |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies use |
|                 |                 |                 |    the same     |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    their        |
|                 |                 |                 |    priorities   |
|                 |                 |                 |    follow the   |
|                 |                 |                 |    order of     |
|                 |                 |                 |    exact match  |
|                 |                 |                 |                 |
|                 |                 |                 | (**EQUAL_TO**), |
|                 |                 |                 |    prefix match |
|                 |                 |                 |    (**          |
|                 |                 |                 | STARTS_WITH**), |
|                 |                 |                 |    and regular  |
|                 |                 |                 |    expression   |
|                 |                 |                 |    match        |
|                 |                 |                 |    (**REGEX**). |
|                 |                 |                 |    If prefix    |
|                 |                 |                 |    match is     |
|                 |                 |                 |    used for     |
|                 |                 |                 |    matching,    |
|                 |                 |                 |    the longer   |
|                 |                 |                 |    the path,    |
|                 |                 |                 |    the higher   |
|                 |                 |                 |    the          |
|                 |                 |                 |    priority. If |
|                 |                 |                 |    a forwarding |
|                 |                 |                 |    policy       |
|                 |                 |                 |    contains     |
|                 |                 |                 |    only a       |
|                 |                 |                 |    domain name  |
|                 |                 |                 |    without a    |
|                 |                 |                 |    path         |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the path is  |
|                 |                 |                 |    **/**, and   |
|                 |                 |                 |    prefix match |
|                 |                 |                 |    is used by   |
|                 |                 |                 |    default.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **enhance_l7 |
|                 |                 |                 | policy_enable** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **true** and |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    the priority |
|                 |                 |                 |    will set to  |
|                 |                 |                 |    a sum of 1   |
|                 |                 |                 |    and the      |
|                 |                 |                 |    highest      |
|                 |                 |                 |    priority of  |
|                 |                 |                 |    existing     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policy in    |
|                 |                 |                 |    the same     |
|                 |                 |                 |    listener by  |
|                 |                 |                 |    default.     |
|                 |                 |                 |    There will   |
|                 |                 |                 |    be two       |
|                 |                 |                 |    cases: a) If |
|                 |                 |                 |    the highest  |
|                 |                 |                 |    priority of  |
|                 |                 |                 |    existing     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies is  |
|                 |                 |                 |    the maximum  |
|                 |                 |                 |    (10,000),    |
|                 |                 |                 |    the          |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policy will  |
|                 |                 |                 |    fail to      |
|                 |                 |                 |    create       |
|                 |                 |                 |    because the  |
|                 |                 |                 |    final        |
|                 |                 |                 |    priority for |
|                 |                 |                 |    creating the |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policy is    |
|                 |                 |                 |    the sum of 1 |
|                 |                 |                 |    and 10,000,  |
|                 |                 |                 |    which        |
|                 |                 |                 |    exceeds the  |
|                 |                 |                 |    maximum. In  |
|                 |                 |                 |    this case,   |
|                 |                 |                 |    please       |
|                 |                 |                 |    specify a    |
|                 |                 |                 |    value or     |
|                 |                 |                 |    adjust the   |
|                 |                 |                 |    priorities   |
|                 |                 |                 |    of existing  |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies. b) |
|                 |                 |                 |    If no        |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies     |
|                 |                 |                 |    exist, the   |
|                 |                 |                 |    highest      |
|                 |                 |                 |    priority of  |
|                 |                 |                 |    existing     |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policies     |
|                 |                 |                 |    will set to  |
|                 |                 |                 |    1 by         |
|                 |                 |                 |    default.     |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **10000**       |
+-----------------+-----------------+-----------------+-----------------+
| redi            | No              | Table 4-259     | Specifies the   |
| rect_url_config |                 | object          | URL to which    |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded.      |
|                 |                 |                 |                 |
|                 |                 |                 | For shared load |
|                 |                 |                 | balancers, this |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not supported.  |
|                 |                 |                 | If it is        |
|                 |                 |                 | passed, an      |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | For dedicated   |
|                 |                 |                 | load balancers, |
|                 |                 |                 | this parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when advanced   |
|                 |                 |                 | forwarding is   |
|                 |                 |                 | enabled         |
|                 |                 |                 | (**enhance_l7   |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**). If   |
|                 |                 |                 | it is passed    |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **false**, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | Format:         |
|                 |                 |                 | *pr             |
|                 |                 |                 | otocol://host:p |
|                 |                 |                 | ort/path?query* |
|                 |                 |                 |                 |
|                 |                 |                 | At least one of |
|                 |                 |                 | the four        |
|                 |                 |                 | parameters      |
|                 |                 |                 | (**protocol**,  |
|                 |                 |                 | **host**,       |
|                 |                 |                 | **port**, and   |
|                 |                 |                 | **path**) must  |
|                 |                 |                 | be passed, or   |
|                 |                 |                 | their values    |
|                 |                 |                 | cannot be set   |
|                 |                 |                 | to **${xxx}**   |
|                 |                 |                 | at the same     |
|                 |                 |                 | time.           |
|                 |                 |                 | (**${xxx}**     |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the value in    |
|                 |                 |                 | the request     |
|                 |                 |                 | will be         |
|                 |                 |                 | inherited. For  |
|                 |                 |                 | example,        |
|                 |                 |                 | **${host}**     |
|                 |                 |                 | indicates the   |
|                 |                 |                 | host in the URL |
|                 |                 |                 | to be           |
|                 |                 |                 | redirected.)    |
|                 |                 |                 |                 |
|                 |                 |                 | The values of   |
|                 |                 |                 | **protocol**    |
|                 |                 |                 | and **port**    |
|                 |                 |                 | cannot be the   |
|                 |                 |                 | same as those   |
|                 |                 |                 | of the          |
|                 |                 |                 | associated      |
|                 |                 |                 | listener, and   |
|                 |                 |                 | either **host** |
|                 |                 |                 | or **path**     |
|                 |                 |                 | must be passed  |
|                 |                 |                 | or their values |
|                 |                 |                 | cannot be       |
|                 |                 |                 | **${xxx}** at   |
|                 |                 |                 | the same time.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| fixed_          | No              | Table 4-260     | Specifies the   |
| response_config |                 | object          | configuration   |
|                 |                 |                 | of the page     |
|                 |                 |                 | that will be    |
|                 |                 |                 | returned. This  |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect     |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**. If    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is passed and   |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **false**, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned. For   |
|                 |                 |                 | shared load     |
|                 |                 |                 | balancers, this |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not supported.  |
|                 |                 |                 | If it is        |
|                 |                 |                 | passed, an      |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. CreateL7PolicyRuleOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. The value |
|                 |                 |                 | can be **true** |
|                 |                 |                 | or **false**,   |
|                 |                 |                 | and the default |
|                 |                 |                 | value is        |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | match content.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **HOST_NAME**: |
|                 |                 |                 |    A domain     |
|                 |                 |                 |    name will be |
|                 |                 |                 |    used for     |
|                 |                 |                 |    matching.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **PATH**: A  |
|                 |                 |                 |    URL will be  |
|                 |                 |                 |    used for     |
|                 |                 |                 |    matching.    |
|                 |                 |                 |                 |
|                 |                 |                 | If **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | **PATH**,       |
|                 |                 |                 | **METHOD**, or  |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | only one        |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | can be created  |
|                 |                 |                 | for each type.  |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | Yes             | String          | Specifies how   |
|                 |                 |                 | requests are    |
|                 |                 |                 | matched with    |
|                 |                 |                 | the domain name |
|                 |                 |                 | or URL.         |
|                 |                 |                 |                 |
|                 |                 |                 | If **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | this parameter  |
|                 |                 |                 | can only be set |
|                 |                 |                 | to **EQUAL_TO** |
|                 |                 |                 | (exact match).  |
|                 |                 |                 |                 |
|                 |                 |                 | If **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **PATH**, this  |
|                 |                 |                 | parameter can   |
|                 |                 |                 | be set to       |
|                 |                 |                 | **REGEX**       |
|                 |                 |                 | (regular        |
|                 |                 |                 | expression      |
|                 |                 |                 | match),         |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 | (prefix match), |
|                 |                 |                 | or **EQUAL_TO** |
|                 |                 |                 | (exact match).  |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported. The  |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if an  |
|                 |                 |                 | HTTP header is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **key** is the  |
|                 |                 |                 | name of the     |
|                 |                 |                 | HTTP header     |
|                 |                 |                 | parameter.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if a   |
|                 |                 |                 | domain name is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **value** is    |
|                 |                 |                 | the domain      |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.) and must |
|                 |                 |                 |    start with a |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit. If    |
|                 |                 |                 |    you want to  |
|                 |                 |                 |    use a        |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH** and |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    to           |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| conditions      | No              | Array of Table  | Specifies the   |
|                 |                 | 4-258 objects   | conditions      |
|                 |                 |                 | contained in a  |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. This      |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect     |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | If              |
|                 |                 |                 | **conditions**  |
|                 |                 |                 | is specified,   |
|                 |                 |                 | **key** and     |
|                 |                 |                 | **value** will  |
|                 |                 |                 | not take        |
|                 |                 |                 | effect, and the |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter will  |
|                 |                 |                 | contain all     |
|                 |                 |                 | conditions      |
|                 |                 |                 | configured for  |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. The keys  |
|                 |                 |                 | in the list     |
|                 |                 |                 | must be the     |
|                 |                 |                 | same, whereas   |
|                 |                 |                 | each value must |
|                 |                 |                 | be unique.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. CreateRuleCondition

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of match    |
|                 |                 |                 | item. This      |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the domain   |
|                 |                 |                 |    name, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    periods (.), |
|                 |                 |                 |    and          |
|                 |                 |                 |    asterisks    |
|                 |                 |                 |    (*), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter,      |
|                 |                 |                 |    digit, or    |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*). If you  |
|                 |                 |                 |    want to use  |
|                 |                 |                 |    a wildcard   |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the request  |
|                 |                 |                 |    path, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    If           |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |    **EQUAL_TO** |
|                 |                 |                 |    for the      |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    rule, the    |
|                 |                 |                 |    value must   |
|                 |                 |                 |    start with a |
|                 |                 |                 |    slash (/)    |
|                 |                 |                 |    and can      |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
+-----------------+-----------------+-----------------+-----------------+

1. CreateRedirectUrlConfig

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| protocol        | No              | String          | Specifies the   |
|                 |                 |                 | protocol for    |
|                 |                 |                 | redirection.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | *               |
|                 |                 |                 | *${protocol}**, |
|                 |                 |                 | indicating that |
|                 |                 |                 | the protocol of |
|                 |                 |                 | the request     |
|                 |                 |                 | will be used.   |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **HTTP**     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **HTTPS**    |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 | **${protocol}** |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${protocol}** |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| host            | No              | String          | Specifies the   |
|                 |                 |                 | host name that  |
|                 |                 |                 | requests are    |
|                 |                 |                 | redirected to.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | letters,        |
|                 |                 |                 | digits, hyphens |
|                 |                 |                 | (-), and        |
|                 |                 |                 | periods (.) and |
|                 |                 |                 | must start with |
|                 |                 |                 | a letter or     |
|                 |                 |                 | digit. The      |
|                 |                 |                 | default value   |
|                 |                 |                 | is **${host}**, |
|                 |                 |                 | indicating that |
|                 |                 |                 | the host of the |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${host}**     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| port            | No              | String          | Specifies the   |
|                 |                 |                 | port that       |
|                 |                 |                 | requests are    |
|                 |                 |                 | redirected to.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **${port}**,    |
|                 |                 |                 | indicating that |
|                 |                 |                 | the port of the |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${port}**     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+
| path            | No              | String          | Specifies the   |
|                 |                 |                 | path that       |
|                 |                 |                 | requests are    |
|                 |                 |                 | redirected to.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **${path}**,    |
|                 |                 |                 | indicating that |
|                 |                 |                 | the path of the |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | letters,        |
|                 |                 |                 | digits, and     |
|                 |                 |                 | special         |
|                 |                 |                 | characters      |
|                 |                 |                 | \_-';@^-        |
|                 |                 |                 | %#&$.           |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a slash    |
|                 |                 |                 | (/).            |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${path}**     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| query           | No              | String          | Specifies the   |
|                 |                 |                 | query string    |
|                 |                 |                 | set in the URL  |
|                 |                 |                 | for             |
|                 |                 |                 | redirection.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **${query}**,   |
|                 |                 |                 | indicating that |
|                 |                 |                 | the query       |
|                 |                 |                 | string of the   |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | For example, in |
|                 |                 |                 | the URL         |
|                 |                 |                 | **http          |
|                 |                 |                 | s://www.xxx.com |
|                 |                 |                 | :8080/elb?type= |
|                 |                 |                 | loadbalancer**, |
|                 |                 |                 | **${query}**    |
|                 |                 |                 | indicates       |
|                 |                 |                 | **type=         |
|                 |                 |                 | loadbalancer**. |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | set to          |
|                 |                 |                 | **${query}&     |
|                 |                 |                 | name=my_name**, |
|                 |                 |                 | the URL will be |
|                 |                 |                 | redirected to   |
|                 |                 |                 | **ht            |
|                 |                 |                 | tps://www.xxx.c |
|                 |                 |                 | om:8080/elb?typ |
|                 |                 |                 | e=loadbalancer& |
|                 |                 |                 | name=my_name**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | case-sensitive  |
|                 |                 |                 | and can contain |
|                 |                 |                 | only letters,   |
|                 |                 |                 | digits, and     |
|                 |                 |                 | special         |
|                 |                 |                 | characters      |
|                 |                 |                 | !$&'()          |
|                 |                 |                 | *+,-./:;=?@^_\` |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${query}**    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| status_code     | Yes             | String          | Specifies the   |
|                 |                 |                 | status code     |
|                 |                 |                 | returned after  |
|                 |                 |                 | the requests    |
|                 |                 |                 | are redirected. |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **301**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **302**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **303**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **307**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **308**      |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+

1. CreateFixtedResponseConfig

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| status_code     | Yes             | String          | Specifies the   |
|                 |                 |                 | fixed HTTP      |
|                 |                 |                 | status code     |
|                 |                 |                 | configured in   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. The value |
|                 |                 |                 | can be any      |
|                 |                 |                 | integer in the  |
|                 |                 |                 | range of        |
|                 |                 |                 | 200–299,        |
|                 |                 |                 | 400–499, or     |
|                 |                 |                 | 500–599.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+
| content_type    | No              | String          | Specifies the   |
|                 |                 |                 | format of the   |
|                 |                 |                 | response body.  |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **text/plain** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **text/css** |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **text/html** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **applicati  |
|                 |                 |                 | on/javascript** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **app        |
|                 |                 |                 | lication/json** |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **32** |
+-----------------+-----------------+-----------------+-----------------+
| message_body    | No              | String          | Specifies the   |
|                 |                 |                 | content of the  |
|                 |                 |                 | response body.  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| l7policy              | Table 4-262 object    | Specifies the         |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+

2. L7Policy

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| action                | String                | Specifies where       |
|                       |                       | requests will be      |
|                       |                       | forwarded. The value  |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests will be   |
|                       |                       |    forwarded to       |
|                       |                       |    another backend    |
|                       |                       |    server group.      |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests will be   |
|                       |                       |    redirected to an   |
|                       |                       |    HTTPS listener.    |
|                       |                       |                       |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority. If requests |
|                       |                       | are to be redirected  |
|                       |                       | to an HTTPS listener, |
|                       |                       | other forwarding      |
|                       |                       | policies of the       |
|                       |                       | listener will become  |
|                       |                       | invalid.              |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy. The default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |                       |
|                       |                       | **REDIRECT_TO_POOL**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    or HTTPS listener. |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |    **RE               |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    listener.          |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter cannot be   |
|                       |                       | updated.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the forwarding  |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | Default: **ACTIVE**   |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener that     |
|                       |                       | requests are          |
|                       |                       | redirected to.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
|                       |                       |                       |
|                       |                       | Only HTTPS listeners  |
|                       |                       | are supported, and    |
|                       |                       | the listener cannot   |
|                       |                       | be any listener added |
|                       |                       | to other load         |
|                       |                       | balancers.            |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group that requests   |
|                       |                       | are forwarded to.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **REDIRECT_TO_POOL**. |
|                       |                       |                       |
|                       |                       | The specified backend |
|                       |                       | server group cannot   |
|                       |                       | be the default one    |
|                       |                       | associated with the   |
|                       |                       | listener, or any      |
|                       |                       | backend server group  |
|                       |                       | associated with the   |
|                       |                       | forwarding policies   |
|                       |                       | of other listeners.   |
|                       |                       |                       |
|                       |                       | This parameter cannot |
|                       |                       | be specified when     |
|                       |                       | **action** is set to  |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array of Table 4-263  | Lists the forwarding  |
|                       | objects               | rules in the          |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| redirect_url_config   | Table 4-264 object    | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | For shared load       |
|                       |                       | balancers, this       |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | For dedicated load    |
|                       |                       | balancers, this       |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled            |
|                       |                       | (**enha               |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**).  |
|                       |                       | If it is passed when  |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | At least one of the   |
|                       |                       | four parameters       |
|                       |                       | (**protocol**,        |
|                       |                       | **host**, **port**,   |
|                       |                       | and **path**) must be |
|                       |                       | passed, or their      |
|                       |                       | values cannot be set  |
|                       |                       | to **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       | (**${xxx}** indicates |
|                       |                       | that the value in the |
|                       |                       | request will be       |
|                       |                       | inherited. For        |
|                       |                       | example, **${host}**  |
|                       |                       | indicates the host in |
|                       |                       | the URL to be         |
|                       |                       | redirected.)          |
|                       |                       |                       |
|                       |                       | The values of         |
|                       |                       | **protocol** and      |
|                       |                       | **port** cannot be    |
|                       |                       | the same as those of  |
|                       |                       | the associated        |
|                       |                       | listener, and either  |
|                       |                       | **host** or **path**  |
|                       |                       | must be passed or     |
|                       |                       | their values cannot   |
|                       |                       | be **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| fixed_response_config | Table 4-265 object    | Specifies the         |
|                       |                       | configuration of the  |
|                       |                       | page that will be     |
|                       |                       | returned. This        |
|                       |                       | parameter will take   |
|                       |                       | effect when           |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       | If this parameter is  |
|                       |                       | passed and            |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned. For shared  |
|                       |                       | load balancers, this  |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| priority              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | dedicated load        |
|                       |                       | balancers and will    |
|                       |                       | take effect when      |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       |                       |
|                       |                       | A smaller value       |
|                       |                       | indicates a higher    |
|                       |                       | priority. The value   |
|                       |                       | must be unique for    |
|                       |                       | each forwarding       |
|                       |                       | policy of the same    |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | If **action** is set  |
|                       |                       | to                    |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       | the value can only be |
|                       |                       | **0**, indicating     |
|                       |                       | that                  |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority.             |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to          |
|                       |                       |    **false**,         |
|                       |                       |    forwarding         |
|                       |                       |    policies are       |
|                       |                       |    automatically      |
|                       |                       |    prioritized based  |
|                       |                       |    on the original    |
|                       |                       |    sorting logic.     |
|                       |                       |    Forwarding policy  |
|                       |                       |    priorities are     |
|                       |                       |    independent of     |
|                       |                       |    each other         |
|                       |                       |    regardless of      |
|                       |                       |    domain names. If   |
|                       |                       |    forwarding         |
|                       |                       |    policies use the   |
|                       |                       |    same domain name,  |
|                       |                       |    their priorities   |
|                       |                       |    follow the order   |
|                       |                       |    of exact match     |
|                       |                       |    (**EQUAL_TO**),    |
|                       |                       |    prefix match       |
|                       |                       |    (**STARTS_WITH**), |
|                       |                       |    and regular        |
|                       |                       |    expression match   |
|                       |                       |    (**REGEX**). If    |
|                       |                       |    prefix match is    |
|                       |                       |    used for matching, |
|                       |                       |    the longer the     |
|                       |                       |    path, the higher   |
|                       |                       |    the priority. If a |
|                       |                       |    forwarding policy  |
|                       |                       |    contains only a    |
|                       |                       |    domain name        |
|                       |                       |    without a path     |
|                       |                       |    specified, the     |
|                       |                       |    path is **/**, and |
|                       |                       |    prefix match is    |
|                       |                       |    used by default.   |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to **true** |
|                       |                       |    and this parameter |
|                       |                       |    is not passed, the |
|                       |                       |    priority will set  |
|                       |                       |    to a sum of 1 and  |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding policy  |
|                       |                       |    in the same        |
|                       |                       |    listener by        |
|                       |                       |    default. There     |
|                       |                       |    will be two cases: |
|                       |                       |    a) If the highest  |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies is the    |
|                       |                       |    maximum (10,000),  |
|                       |                       |    the forwarding     |
|                       |                       |    policy will fail   |
|                       |                       |    to create because  |
|                       |                       |    the final priority |
|                       |                       |    for creating the   |
|                       |                       |    forwarding policy  |
|                       |                       |    is the sum of 1    |
|                       |                       |    and 10,000, which  |
|                       |                       |    exceeds the        |
|                       |                       |    maximum. In this   |
|                       |                       |    case, please       |
|                       |                       |    specify a value or |
|                       |                       |    adjust the         |
|                       |                       |    priorities of      |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies. b) If no |
|                       |                       |    forwarding         |
|                       |                       |    policies exist,    |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies will set  |
|                       |                       |    to 1 by default.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **10000**    |
+-----------------------+-----------------------+-----------------------+

1. RuleRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+

2. RedirectUrlConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| protocol              | String                | Specifies the         |
|                       |                       | protocol for          |
|                       |                       | redirection. The      |
|                       |                       | default value is      |
|                       |                       | **${protocol}**,      |
|                       |                       | indicating that the   |
|                       |                       | protocol of the       |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **HTTP**           |
|                       |                       |                       |
|                       |                       | -  **HTTPS**          |
|                       |                       |                       |
|                       |                       | -  **${protocol}**    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| host                  | String                | Specifies the host    |
|                       |                       | name that requests    |
|                       |                       | are redirected to.    |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a letter   |
|                       |                       | or digit. The default |
|                       |                       | value is **${host}**, |
|                       |                       | indicating that the   |
|                       |                       | host of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${host}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| port                  | String                | Specifies the port    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${port}**,          |
|                       |                       | indicating that the   |
|                       |                       | port of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${port}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| path                  | String                | Specifies the path    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${path}**,          |
|                       |                       | indicating that the   |
|                       |                       | path of the request   |
|                       |                       | will be used. The     |
|                       |                       | value can contain     |
|                       |                       | only letters, digits, |
|                       |                       | and special           |
|                       |                       | characters \_-';@^-   |
|                       |                       | %#&$.*+?,=!:|/()[]{}  |
|                       |                       | and must start with a |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | Default: **${path}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| query                 | String                | Specifies the query   |
|                       |                       | string set in the URL |
|                       |                       | for redirection. The  |
|                       |                       | default value is      |
|                       |                       | **${query}**,         |
|                       |                       | indicating that the   |
|                       |                       | query string of the   |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | For example, in the   |
|                       |                       | URL                   |
|                       |                       | **https:/             |
|                       |                       | /www.xxx.com:8080/elb |
|                       |                       | ?type=loadbalancer**, |
|                       |                       | **${query}**          |
|                       |                       | indicates             |
|                       |                       | *                     |
|                       |                       | *type=loadbalancer**. |
|                       |                       | If this parameter is  |
|                       |                       | set to                |
|                       |                       | **${q                 |
|                       |                       | uery}&name=my_name**, |
|                       |                       | the URL will be       |
|                       |                       | redirected to         |
|                       |                       | *                     |
|                       |                       | *https://www.xxx.com: |
|                       |                       | 8080/elb?type=loadbal |
|                       |                       | ancer&name=my_name**. |
|                       |                       |                       |
|                       |                       | The value is          |
|                       |                       | case-sensitive and    |
|                       |                       | can contain only      |
|                       |                       | letters, digits, and  |
|                       |                       | special characters    |
|                       |                       | !$&'()*+,-./:;=?@^_\` |
|                       |                       |                       |
|                       |                       | Default: **${query}** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| status_code           | String                | Specifies the status  |
|                       |                       | code returned after   |
|                       |                       | the requests are      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **301**            |
|                       |                       |                       |
|                       |                       | -  **302**            |
|                       |                       |                       |
|                       |                       | -  **303**            |
|                       |                       |                       |
|                       |                       | -  **307**            |
|                       |                       |                       |
|                       |                       | -  **308**            |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+

1. FixtedResponseConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| status_code           | String                | Specifies the HTTP    |
|                       |                       | status code           |
|                       |                       | configured in the     |
|                       |                       | forwarding policy.    |
|                       |                       | The value can be any  |
|                       |                       | integer in the range  |
|                       |                       | of 200–299, 400–499,  |
|                       |                       | or 500–599.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| content_type          | String                | Specifies the format  |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **text/plain**     |
|                       |                       |                       |
|                       |                       | -  **text/css**       |
|                       |                       |                       |
|                       |                       | -  **text/html**      |
|                       |                       |                       |
|                       |                       | -  **app              |
|                       |                       | lication/javascript** |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       |  **application/json** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| message_body          | String                | Specifies the content |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

Creating a redirection for a listener

| POST
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies
| {
| "l7policy" : {
| "action" : "REDIRECT_TO_LISTENER",
| "listener_id" : "e2220d2a-3faf-44f3-8cd6-0c42952bd0ab",
| "redirect_listener_id" : "48a97732-449e-4aab-b561-828d29e45050"
| }
| }

2. Example Responses

**Status code: 201**

Successful request.

| {
| "request_id" : "b60d1d9a-5263-45b0-b1d6-2810ac7c52a1",
| "l7policy" : {
| "description" : "",
| "admin_state_up" : true,
| "rules" : [ ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "listener_id" : "e2220d2a-3faf-44f3-8cd6-0c42952bd0ab",
| "redirect_listener_id" : "48a97732-449e-4aab-b561-828d29e45050",
| "action" : "REDIRECT_TO_LISTENER",
| "position" : 100,
| "provisioning_status" : "ACTIVE",
| "id" : "cf4360fd-8631-41ff-a6f5-b72c35da74be",
| "name" : ""
| }
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-forwarding-policies-1:

Querying Forwarding Policies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to query all forwarding policies.

6. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

7. URI

GET /v3/{project_id}/elb/l7policies

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The last page   |
|                 |                 |                 | in the list     |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | Array           | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    resources in |
|                 |                 |                 |    the default  |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project are  |
|                 |                 |                 |    queried, and |
|                 |                 |                 |                 |
|                 |                 |                 |  authentication |
|                 |                 |                 |    is performed |
|                 |                 |                 |    based on the |
|                 |                 |                 |    default      |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    passed, its  |
|                 |                 |                 |    value can be |
|                 |                 |                 |    the ID of an |
|                 |                 |                 |    existing     |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project or   |
|                 |                 |                 |    **all        |
|                 |                 |                 | _granted_eps**. |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | a specific ID,  |
|                 |                 |                 | resources in    |
|                 |                 |                 | the specific    |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project are     |
|                 |                 |                 | required. If    |
|                 |                 |                 | the value is    |
|                 |                 |                 | **all           |
|                 |                 |                 | _granted_eps**, |
|                 |                 |                 | resources in    |
|                 |                 |                 | all enterprise  |
|                 |                 |                 | projects are    |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *enterpri       |
|                 |                 |                 | se_project_id=x |
|                 |                 |                 | xx&enterprise_p |
|                 |                 |                 | roject_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | Array           | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy name.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple names  |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *name           |
|                 |                 |                 | =xxx&name=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | Array           | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | descriptions    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *des            |
|                 |                 |                 | cription=xxx&de |
|                 |                 |                 | scription=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. The     |
|                 |                 |                 | default value   |
|                 |                 |                 | is **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| listener_id     | No              | Array           | Specifies the   |
|                 |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy is       |
|                 |                 |                 | added.          |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **action**   |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **REDI       |
|                 |                 |                 | RECT_TO_POOL**, |
|                 |                 |                 |    the          |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policy can   |
|                 |                 |                 |    be added to  |
|                 |                 |                 |    an HTTP or   |
|                 |                 |                 |    HTTPS        |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  If           |
|                 |                 |                 |    **action**   |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **REDIRECT   |
|                 |                 |                 | _TO_LISTENER**, |
|                 |                 |                 |    the          |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    policy can   |
|                 |                 |                 |    be added to  |
|                 |                 |                 |    an HTTP      |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *lis            |
|                 |                 |                 | tener_id=xxx&li |
|                 |                 |                 | stener_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| position        | No              | Array           | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy          |
|                 |                 |                 | priority.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | priorities can  |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *position=xxx   |
|                 |                 |                 | &position=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| action          | No              | Array           | Specifies where |
|                 |                 |                 | requests will   |
|                 |                 |                 | be forwarded.   |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REDI       |
|                 |                 |                 | RECT_TO_POOL**: |
|                 |                 |                 |    Requests     |
|                 |                 |                 |    will be      |
|                 |                 |                 |    forwarded to |
|                 |                 |                 |    another      |
|                 |                 |                 |    backend      |
|                 |                 |                 |    server       |
|                 |                 |                 |    group.       |
|                 |                 |                 |                 |
|                 |                 |                 | -  **REDIRECT   |
|                 |                 |                 | _TO_LISTENER**: |
|                 |                 |                 |    Requests     |
|                 |                 |                 |    will be      |
|                 |                 |                 |    redirected   |
|                 |                 |                 |    to an HTTPS  |
|                 |                 |                 |    listener.    |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple values |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *action=x       |
|                 |                 |                 | xx&action=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| redirect_url    | No              | Array           | Specifies the   |
|                 |                 |                 | URL to which    |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded.      |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple URLs   |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *redir          |
|                 |                 |                 | ect_url=xxx&red |
|                 |                 |                 | irect_url=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| r               | No              | Array           | Specifies the   |
| edirect_pool_id |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group to which  |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded. This |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect and |
|                 |                 |                 | is mandatory    |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDI          |
|                 |                 |                 | RECT_TO_POOL**. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *redirect_pool  |
|                 |                 |                 | _id=xxx&redirec |
|                 |                 |                 | t_pool_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| redir           | No              | Array           | Specifies the   |
| ect_listener_id |                 |                 | ID of the       |
|                 |                 |                 | listener to     |
|                 |                 |                 | which requests  |
|                 |                 |                 | are redirected. |
|                 |                 |                 | This parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect and is   |
|                 |                 |                 | mandatory when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *redire         |
|                 |                 |                 | ct_listener_id= |
|                 |                 |                 | xxx&redirect_li |
|                 |                 |                 | stener_id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| prov            | No              | Array           | Specifies the   |
| isioning_status |                 |                 | provisioning    |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. The     |
|                 |                 |                 | value can only  |
|                 |                 |                 | be **ACTIVE**,  |
|                 |                 |                 | indicating that |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | policy is       |
|                 |                 |                 | provisioned     |
|                 |                 |                 | successfully.   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | provisioning    |
|                 |                 |                 | statuses can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *prov           |
|                 |                 |                 | isioning_status |
|                 |                 |                 | =xxx&provisioni |
|                 |                 |                 | ng_status=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| di              | No              | Boolean         | Specifies       |
| splay_all_rules |                 |                 | whether to      |
|                 |                 |                 | display all     |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | in the          |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. The     |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **true**     |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    all          |
|                 |                 |                 |    information  |
|                 |                 |                 |    about the    |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    rule is      |
|                 |                 |                 |    displayed.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  **false**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    that only    |
|                 |                 |                 |    the rule ID  |
|                 |                 |                 |    is           |
|                 |                 |                 |    displayed.   |
+-----------------+-----------------+-----------------+-----------------+
| priority        | No              | Array           | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy          |
|                 |                 |                 | priority. A     |
|                 |                 |                 | smaller value   |
|                 |                 |                 | indicates a     |
|                 |                 |                 | higher          |
|                 |                 |                 | priority.       |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | priorities can  |
|                 |                 |                 | be queried in   |
|                 |                 |                 | the format of   |
|                 |                 |                 | *position=xxx   |
|                 |                 |                 | &position=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-270 object    | Shows pagination      |
|                       |                       | information.          |
+-----------------------+-----------------------+-----------------------+
| l7policies            | Array of Table 4-271  | Lists the forwarding  |
|                       | objects               | policies.             |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. L7Policy

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| action                | String                | Specifies where       |
|                       |                       | requests will be      |
|                       |                       | forwarded. The value  |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests will be   |
|                       |                       |    forwarded to       |
|                       |                       |    another backend    |
|                       |                       |    server group.      |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests will be   |
|                       |                       |    redirected to an   |
|                       |                       |    HTTPS listener.    |
|                       |                       |                       |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority. If requests |
|                       |                       | are to be redirected  |
|                       |                       | to an HTTPS listener, |
|                       |                       | other forwarding      |
|                       |                       | policies of the       |
|                       |                       | listener will become  |
|                       |                       | invalid.              |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy. The default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |                       |
|                       |                       | **REDIRECT_TO_POOL**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    or HTTPS listener. |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |    **RE               |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    listener.          |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter cannot be   |
|                       |                       | updated.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the forwarding  |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | Default: **ACTIVE**   |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener that     |
|                       |                       | requests are          |
|                       |                       | redirected to.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
|                       |                       |                       |
|                       |                       | Only HTTPS listeners  |
|                       |                       | are supported, and    |
|                       |                       | the listener cannot   |
|                       |                       | be any listener added |
|                       |                       | to other load         |
|                       |                       | balancers.            |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group that requests   |
|                       |                       | are forwarded to.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **REDIRECT_TO_POOL**. |
|                       |                       |                       |
|                       |                       | The specified backend |
|                       |                       | server group cannot   |
|                       |                       | be the default one    |
|                       |                       | associated with the   |
|                       |                       | listener, or any      |
|                       |                       | backend server group  |
|                       |                       | associated with the   |
|                       |                       | forwarding policies   |
|                       |                       | of other listeners.   |
|                       |                       |                       |
|                       |                       | This parameter cannot |
|                       |                       | be specified when     |
|                       |                       | **action** is set to  |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array of Table 4-272  | Lists the forwarding  |
|                       | objects               | rules in the          |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| redirect_url_config   | Table 4-273 object    | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | For shared load       |
|                       |                       | balancers, this       |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | For dedicated load    |
|                       |                       | balancers, this       |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled            |
|                       |                       | (**enha               |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**).  |
|                       |                       | If it is passed when  |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | At least one of the   |
|                       |                       | four parameters       |
|                       |                       | (**protocol**,        |
|                       |                       | **host**, **port**,   |
|                       |                       | and **path**) must be |
|                       |                       | passed, or their      |
|                       |                       | values cannot be set  |
|                       |                       | to **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       | (**${xxx}** indicates |
|                       |                       | that the value in the |
|                       |                       | request will be       |
|                       |                       | inherited. For        |
|                       |                       | example, **${host}**  |
|                       |                       | indicates the host in |
|                       |                       | the URL to be         |
|                       |                       | redirected.)          |
|                       |                       |                       |
|                       |                       | The values of         |
|                       |                       | **protocol** and      |
|                       |                       | **port** cannot be    |
|                       |                       | the same as those of  |
|                       |                       | the associated        |
|                       |                       | listener, and either  |
|                       |                       | **host** or **path**  |
|                       |                       | must be passed or     |
|                       |                       | their values cannot   |
|                       |                       | be **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| fixed_response_config | Table 4-274 object    | Specifies the         |
|                       |                       | configuration of the  |
|                       |                       | page that will be     |
|                       |                       | returned. This        |
|                       |                       | parameter will take   |
|                       |                       | effect when           |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       | If this parameter is  |
|                       |                       | passed and            |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned. For shared  |
|                       |                       | load balancers, this  |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| priority              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | dedicated load        |
|                       |                       | balancers and will    |
|                       |                       | take effect when      |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       |                       |
|                       |                       | A smaller value       |
|                       |                       | indicates a higher    |
|                       |                       | priority. The value   |
|                       |                       | must be unique for    |
|                       |                       | each forwarding       |
|                       |                       | policy of the same    |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | If **action** is set  |
|                       |                       | to                    |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       | the value can only be |
|                       |                       | **0**, indicating     |
|                       |                       | that                  |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority.             |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to          |
|                       |                       |    **false**,         |
|                       |                       |    forwarding         |
|                       |                       |    policies are       |
|                       |                       |    automatically      |
|                       |                       |    prioritized based  |
|                       |                       |    on the original    |
|                       |                       |    sorting logic.     |
|                       |                       |    Forwarding policy  |
|                       |                       |    priorities are     |
|                       |                       |    independent of     |
|                       |                       |    each other         |
|                       |                       |    regardless of      |
|                       |                       |    domain names. If   |
|                       |                       |    forwarding         |
|                       |                       |    policies use the   |
|                       |                       |    same domain name,  |
|                       |                       |    their priorities   |
|                       |                       |    follow the order   |
|                       |                       |    of exact match     |
|                       |                       |    (**EQUAL_TO**),    |
|                       |                       |    prefix match       |
|                       |                       |    (**STARTS_WITH**), |
|                       |                       |    and regular        |
|                       |                       |    expression match   |
|                       |                       |    (**REGEX**). If    |
|                       |                       |    prefix match is    |
|                       |                       |    used for matching, |
|                       |                       |    the longer the     |
|                       |                       |    path, the higher   |
|                       |                       |    the priority. If a |
|                       |                       |    forwarding policy  |
|                       |                       |    contains only a    |
|                       |                       |    domain name        |
|                       |                       |    without a path     |
|                       |                       |    specified, the     |
|                       |                       |    path is **/**, and |
|                       |                       |    prefix match is    |
|                       |                       |    used by default.   |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to **true** |
|                       |                       |    and this parameter |
|                       |                       |    is not passed, the |
|                       |                       |    priority will set  |
|                       |                       |    to a sum of 1 and  |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding policy  |
|                       |                       |    in the same        |
|                       |                       |    listener by        |
|                       |                       |    default. There     |
|                       |                       |    will be two cases: |
|                       |                       |    a) If the highest  |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies is the    |
|                       |                       |    maximum (10,000),  |
|                       |                       |    the forwarding     |
|                       |                       |    policy will fail   |
|                       |                       |    to create because  |
|                       |                       |    the final priority |
|                       |                       |    for creating the   |
|                       |                       |    forwarding policy  |
|                       |                       |    is the sum of 1    |
|                       |                       |    and 10,000, which  |
|                       |                       |    exceeds the        |
|                       |                       |    maximum. In this   |
|                       |                       |    case, please       |
|                       |                       |    specify a value or |
|                       |                       |    adjust the         |
|                       |                       |    priorities of      |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies. b) If no |
|                       |                       |    forwarding         |
|                       |                       |    policies exist,    |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies will set  |
|                       |                       |    to 1 by default.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **10000**    |
+-----------------------+-----------------------+-----------------------+

1. RuleRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+

2. RedirectUrlConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| protocol              | String                | Specifies the         |
|                       |                       | protocol for          |
|                       |                       | redirection. The      |
|                       |                       | default value is      |
|                       |                       | **${protocol}**,      |
|                       |                       | indicating that the   |
|                       |                       | protocol of the       |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **HTTP**           |
|                       |                       |                       |
|                       |                       | -  **HTTPS**          |
|                       |                       |                       |
|                       |                       | -  **${protocol}**    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| host                  | String                | Specifies the host    |
|                       |                       | name that requests    |
|                       |                       | are redirected to.    |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a letter   |
|                       |                       | or digit. The default |
|                       |                       | value is **${host}**, |
|                       |                       | indicating that the   |
|                       |                       | host of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${host}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| port                  | String                | Specifies the port    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${port}**,          |
|                       |                       | indicating that the   |
|                       |                       | port of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${port}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| path                  | String                | Specifies the path    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${path}**,          |
|                       |                       | indicating that the   |
|                       |                       | path of the request   |
|                       |                       | will be used. The     |
|                       |                       | value can contain     |
|                       |                       | only letters, digits, |
|                       |                       | and special           |
|                       |                       | characters \_-';@^-   |
|                       |                       | %#&$.*+?,=!:|/()[]{}  |
|                       |                       | and must start with a |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | Default: **${path}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| query                 | String                | Specifies the query   |
|                       |                       | string set in the URL |
|                       |                       | for redirection. The  |
|                       |                       | default value is      |
|                       |                       | **${query}**,         |
|                       |                       | indicating that the   |
|                       |                       | query string of the   |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | For example, in the   |
|                       |                       | URL                   |
|                       |                       | **https:/             |
|                       |                       | /www.xxx.com:8080/elb |
|                       |                       | ?type=loadbalancer**, |
|                       |                       | **${query}**          |
|                       |                       | indicates             |
|                       |                       | *                     |
|                       |                       | *type=loadbalancer**. |
|                       |                       | If this parameter is  |
|                       |                       | set to                |
|                       |                       | **${q                 |
|                       |                       | uery}&name=my_name**, |
|                       |                       | the URL will be       |
|                       |                       | redirected to         |
|                       |                       | *                     |
|                       |                       | *https://www.xxx.com: |
|                       |                       | 8080/elb?type=loadbal |
|                       |                       | ancer&name=my_name**. |
|                       |                       |                       |
|                       |                       | The value is          |
|                       |                       | case-sensitive and    |
|                       |                       | can contain only      |
|                       |                       | letters, digits, and  |
|                       |                       | special characters    |
|                       |                       | !$&'()*+,-./:;=?@^_\` |
|                       |                       |                       |
|                       |                       | Default: **${query}** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| status_code           | String                | Specifies the status  |
|                       |                       | code returned after   |
|                       |                       | the requests are      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **301**            |
|                       |                       |                       |
|                       |                       | -  **302**            |
|                       |                       |                       |
|                       |                       | -  **303**            |
|                       |                       |                       |
|                       |                       | -  **307**            |
|                       |                       |                       |
|                       |                       | -  **308**            |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+

1. FixtedResponseConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| status_code           | String                | Specifies the HTTP    |
|                       |                       | status code           |
|                       |                       | configured in the     |
|                       |                       | forwarding policy.    |
|                       |                       | The value can be any  |
|                       |                       | integer in the range  |
|                       |                       | of 200–299, 400–499,  |
|                       |                       | or 500–599.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| content_type          | String                | Specifies the format  |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **text/plain**     |
|                       |                       |                       |
|                       |                       | -  **text/css**       |
|                       |                       |                       |
|                       |                       | -  **text/html**      |
|                       |                       |                       |
|                       |                       | -  **app              |
|                       |                       | lication/javascript** |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       |  **application/json** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| message_body          | String                | Specifies the content |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies?display_all_rules=true

2. Example Responses

**Status code: 200**

Successful request.

| {
| "request_id" : "d3c67339-be91-4813-bb24-85728a5d326a",
| "l7policies" : [ {
| "redirect_pool_id" : "3b34340d-59e8-4c70-9ef5-b41b12023dc9",
| "description" : "",
| "admin_state_up" : true,
| "rules" : [ {
| "id" : "1e5f17df-feec-427e-a162-8e4e05e91085"
| } ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "listener_id" : "e2220d2a-3faf-44f3-8cd6-0c42952bd0ab",
| "action" : "REDIRECT_TO_POOL",
| "position" : 100,
| "provisioning_status" : "ACTIVE",
| "id" : "0d7bf316-2e03-411f-bf29-c403c04e52bf",
| "name" : "elbv3"
| }, {
| "redirect_pool_id" : "3b34340d-59e8-4c70-9ef5-b41b12023dc9",
| "description" : "",
| "admin_state_up" : true,
| "rules" : [ {
| "id" : "0f5e8c34-09d1-4588-8459-f9b9add0be05"
| } ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "listener_id" : "e2220d2a-3faf-44f3-8cd6-0c42952bd0ab",
| "action" : "REDIRECT_TO_POOL",
| "position" : 100,
| "provisioning_status" : "ERROR",
| "id" : "2587d8b1-9e8d-459c-9081-7bccaa075d2b",
| "name" : "elbv3"
| } ],
| "page_info" : {
| "next_marker" : "2587d8b1-9e8d-459c-9081-7bccaa075d2b",
| "previous_marker" : "0d7bf316-2e03-411f-bf29-c403c04e52bf",
| "current_count" : 2
| }
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Forwarding Policy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of a forwarding policy.

6. URI

GET /v3/{project_id}/elb/l7policies/{l7policy_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| l7policy              | Table 4-278 object    | Specifies the         |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+

2. L7Policy

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| action                | String                | Specifies where       |
|                       |                       | requests will be      |
|                       |                       | forwarded. The value  |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests will be   |
|                       |                       |    forwarded to       |
|                       |                       |    another backend    |
|                       |                       |    server group.      |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests will be   |
|                       |                       |    redirected to an   |
|                       |                       |    HTTPS listener.    |
|                       |                       |                       |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority. If requests |
|                       |                       | are to be redirected  |
|                       |                       | to an HTTPS listener, |
|                       |                       | other forwarding      |
|                       |                       | policies of the       |
|                       |                       | listener will become  |
|                       |                       | invalid.              |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy. The default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |                       |
|                       |                       | **REDIRECT_TO_POOL**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    or HTTPS listener. |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |    **RE               |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    listener.          |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter cannot be   |
|                       |                       | updated.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the forwarding  |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | Default: **ACTIVE**   |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener that     |
|                       |                       | requests are          |
|                       |                       | redirected to.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
|                       |                       |                       |
|                       |                       | Only HTTPS listeners  |
|                       |                       | are supported, and    |
|                       |                       | the listener cannot   |
|                       |                       | be any listener added |
|                       |                       | to other load         |
|                       |                       | balancers.            |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group that requests   |
|                       |                       | are forwarded to.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **REDIRECT_TO_POOL**. |
|                       |                       |                       |
|                       |                       | The specified backend |
|                       |                       | server group cannot   |
|                       |                       | be the default one    |
|                       |                       | associated with the   |
|                       |                       | listener, or any      |
|                       |                       | backend server group  |
|                       |                       | associated with the   |
|                       |                       | forwarding policies   |
|                       |                       | of other listeners.   |
|                       |                       |                       |
|                       |                       | This parameter cannot |
|                       |                       | be specified when     |
|                       |                       | **action** is set to  |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array of Table 4-279  | Lists the forwarding  |
|                       | objects               | rules in the          |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| redirect_url_config   | Table 4-280 object    | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | For shared load       |
|                       |                       | balancers, this       |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | For dedicated load    |
|                       |                       | balancers, this       |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled            |
|                       |                       | (**enha               |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**).  |
|                       |                       | If it is passed when  |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | At least one of the   |
|                       |                       | four parameters       |
|                       |                       | (**protocol**,        |
|                       |                       | **host**, **port**,   |
|                       |                       | and **path**) must be |
|                       |                       | passed, or their      |
|                       |                       | values cannot be set  |
|                       |                       | to **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       | (**${xxx}** indicates |
|                       |                       | that the value in the |
|                       |                       | request will be       |
|                       |                       | inherited. For        |
|                       |                       | example, **${host}**  |
|                       |                       | indicates the host in |
|                       |                       | the URL to be         |
|                       |                       | redirected.)          |
|                       |                       |                       |
|                       |                       | The values of         |
|                       |                       | **protocol** and      |
|                       |                       | **port** cannot be    |
|                       |                       | the same as those of  |
|                       |                       | the associated        |
|                       |                       | listener, and either  |
|                       |                       | **host** or **path**  |
|                       |                       | must be passed or     |
|                       |                       | their values cannot   |
|                       |                       | be **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| fixed_response_config | Table 4-281 object    | Specifies the         |
|                       |                       | configuration of the  |
|                       |                       | page that will be     |
|                       |                       | returned. This        |
|                       |                       | parameter will take   |
|                       |                       | effect when           |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       | If this parameter is  |
|                       |                       | passed and            |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned. For shared  |
|                       |                       | load balancers, this  |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| priority              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | dedicated load        |
|                       |                       | balancers and will    |
|                       |                       | take effect when      |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       |                       |
|                       |                       | A smaller value       |
|                       |                       | indicates a higher    |
|                       |                       | priority. The value   |
|                       |                       | must be unique for    |
|                       |                       | each forwarding       |
|                       |                       | policy of the same    |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | If **action** is set  |
|                       |                       | to                    |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       | the value can only be |
|                       |                       | **0**, indicating     |
|                       |                       | that                  |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority.             |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to          |
|                       |                       |    **false**,         |
|                       |                       |    forwarding         |
|                       |                       |    policies are       |
|                       |                       |    automatically      |
|                       |                       |    prioritized based  |
|                       |                       |    on the original    |
|                       |                       |    sorting logic.     |
|                       |                       |    Forwarding policy  |
|                       |                       |    priorities are     |
|                       |                       |    independent of     |
|                       |                       |    each other         |
|                       |                       |    regardless of      |
|                       |                       |    domain names. If   |
|                       |                       |    forwarding         |
|                       |                       |    policies use the   |
|                       |                       |    same domain name,  |
|                       |                       |    their priorities   |
|                       |                       |    follow the order   |
|                       |                       |    of exact match     |
|                       |                       |    (**EQUAL_TO**),    |
|                       |                       |    prefix match       |
|                       |                       |    (**STARTS_WITH**), |
|                       |                       |    and regular        |
|                       |                       |    expression match   |
|                       |                       |    (**REGEX**). If    |
|                       |                       |    prefix match is    |
|                       |                       |    used for matching, |
|                       |                       |    the longer the     |
|                       |                       |    path, the higher   |
|                       |                       |    the priority. If a |
|                       |                       |    forwarding policy  |
|                       |                       |    contains only a    |
|                       |                       |    domain name        |
|                       |                       |    without a path     |
|                       |                       |    specified, the     |
|                       |                       |    path is **/**, and |
|                       |                       |    prefix match is    |
|                       |                       |    used by default.   |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to **true** |
|                       |                       |    and this parameter |
|                       |                       |    is not passed, the |
|                       |                       |    priority will set  |
|                       |                       |    to a sum of 1 and  |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding policy  |
|                       |                       |    in the same        |
|                       |                       |    listener by        |
|                       |                       |    default. There     |
|                       |                       |    will be two cases: |
|                       |                       |    a) If the highest  |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies is the    |
|                       |                       |    maximum (10,000),  |
|                       |                       |    the forwarding     |
|                       |                       |    policy will fail   |
|                       |                       |    to create because  |
|                       |                       |    the final priority |
|                       |                       |    for creating the   |
|                       |                       |    forwarding policy  |
|                       |                       |    is the sum of 1    |
|                       |                       |    and 10,000, which  |
|                       |                       |    exceeds the        |
|                       |                       |    maximum. In this   |
|                       |                       |    case, please       |
|                       |                       |    specify a value or |
|                       |                       |    adjust the         |
|                       |                       |    priorities of      |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies. b) If no |
|                       |                       |    forwarding         |
|                       |                       |    policies exist,    |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies will set  |
|                       |                       |    to 1 by default.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **10000**    |
+-----------------------+-----------------------+-----------------------+

1. RuleRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+

2. RedirectUrlConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| protocol              | String                | Specifies the         |
|                       |                       | protocol for          |
|                       |                       | redirection. The      |
|                       |                       | default value is      |
|                       |                       | **${protocol}**,      |
|                       |                       | indicating that the   |
|                       |                       | protocol of the       |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **HTTP**           |
|                       |                       |                       |
|                       |                       | -  **HTTPS**          |
|                       |                       |                       |
|                       |                       | -  **${protocol}**    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| host                  | String                | Specifies the host    |
|                       |                       | name that requests    |
|                       |                       | are redirected to.    |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a letter   |
|                       |                       | or digit. The default |
|                       |                       | value is **${host}**, |
|                       |                       | indicating that the   |
|                       |                       | host of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${host}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| port                  | String                | Specifies the port    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${port}**,          |
|                       |                       | indicating that the   |
|                       |                       | port of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${port}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| path                  | String                | Specifies the path    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${path}**,          |
|                       |                       | indicating that the   |
|                       |                       | path of the request   |
|                       |                       | will be used. The     |
|                       |                       | value can contain     |
|                       |                       | only letters, digits, |
|                       |                       | and special           |
|                       |                       | characters \_-';@^-   |
|                       |                       | %#&$.*+?,=!:|/()[]{}  |
|                       |                       | and must start with a |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | Default: **${path}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| query                 | String                | Specifies the query   |
|                       |                       | string set in the URL |
|                       |                       | for redirection. The  |
|                       |                       | default value is      |
|                       |                       | **${query}**,         |
|                       |                       | indicating that the   |
|                       |                       | query string of the   |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | For example, in the   |
|                       |                       | URL                   |
|                       |                       | **https:/             |
|                       |                       | /www.xxx.com:8080/elb |
|                       |                       | ?type=loadbalancer**, |
|                       |                       | **${query}**          |
|                       |                       | indicates             |
|                       |                       | *                     |
|                       |                       | *type=loadbalancer**. |
|                       |                       | If this parameter is  |
|                       |                       | set to                |
|                       |                       | **${q                 |
|                       |                       | uery}&name=my_name**, |
|                       |                       | the URL will be       |
|                       |                       | redirected to         |
|                       |                       | *                     |
|                       |                       | *https://www.xxx.com: |
|                       |                       | 8080/elb?type=loadbal |
|                       |                       | ancer&name=my_name**. |
|                       |                       |                       |
|                       |                       | The value is          |
|                       |                       | case-sensitive and    |
|                       |                       | can contain only      |
|                       |                       | letters, digits, and  |
|                       |                       | special characters    |
|                       |                       | !$&'()*+,-./:;=?@^_\` |
|                       |                       |                       |
|                       |                       | Default: **${query}** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| status_code           | String                | Specifies the status  |
|                       |                       | code returned after   |
|                       |                       | the requests are      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **301**            |
|                       |                       |                       |
|                       |                       | -  **302**            |
|                       |                       |                       |
|                       |                       | -  **303**            |
|                       |                       |                       |
|                       |                       | -  **307**            |
|                       |                       |                       |
|                       |                       | -  **308**            |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+

1. FixtedResponseConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| status_code           | String                | Specifies the HTTP    |
|                       |                       | status code           |
|                       |                       | configured in the     |
|                       |                       | forwarding policy.    |
|                       |                       | The value can be any  |
|                       |                       | integer in the range  |
|                       |                       | of 200–299, 400–499,  |
|                       |                       | or 500–599.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| content_type          | String                | Specifies the format  |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **text/plain**     |
|                       |                       |                       |
|                       |                       | -  **text/css**       |
|                       |                       |                       |
|                       |                       | -  **text/html**      |
|                       |                       |                       |
|                       |                       | -  **app              |
|                       |                       | lication/javascript** |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       |  **application/json** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| message_body          | String                | Specifies the content |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be

2. Example Responses

**Status code: 200**

Successful request.

| {
| "l7policy" : {
| "description" : "",
| "admin_state_up" : true,
| "rules" : [ ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "listener_id" : "e2220d2a-3faf-44f3-8cd6-0c42952bd0ab",
| "redirect_listener_id" : "48a97732-449e-4aab-b561-828d29e45050",
| "action" : "REDIRECT_TO_LISTENER",
| "position" : 100,
| "provisioning_status" : "ACTIVE",
| "id" : "cf4360fd-8631-41ff-a6f5-b72c35da74be",
| "name" : ""
| },
| "request_id" : "6be83ec4-623e-4840-a417-2fcdf8ad5dfa"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-forwarding-policy-1:

Updating a Forwarding Policy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to update a forwarding policy.

6. URI

PUT /v3/{project_id}/elb/l7policies/{l7policy_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy        | Yes             | Table 4-285     | Specifies       |
|                 |                 | object          | request         |
|                 |                 |                 | parameters for  |
|                 |                 |                 | updating a      |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
+-----------------+-----------------+-----------------+-----------------+

3. UpdateL7PolicyOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy. The     |
|                 |                 |                 | default value   |
|                 |                 |                 | is **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| description     | No              | String          | Provides        |
|                 |                 |                 | supplementary   |
|                 |                 |                 | information     |
|                 |                 |                 | about the       |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| name            | No              | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy name.    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| redir           | No              | String          | Specifies the   |
| ect_listener_id |                 |                 | ID of the       |
|                 |                 |                 | listener that   |
|                 |                 |                 | requests are    |
|                 |                 |                 | redirected to.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid and    |
|                 |                 |                 | mandatory only  |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
|                 |                 |                 |                 |
|                 |                 |                 | Only HTTPS      |
|                 |                 |                 | listeners are   |
|                 |                 |                 | supported, and  |
|                 |                 |                 | the listener    |
|                 |                 |                 | cannot be any   |
|                 |                 |                 | listener added  |
|                 |                 |                 | to other load   |
|                 |                 |                 | balancers.      |
+-----------------+-----------------+-----------------+-----------------+
| r               | No              | String          | Specifies the   |
| edirect_pool_id |                 |                 | ID of the       |
|                 |                 |                 | backend server  |
|                 |                 |                 | group that      |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded to.   |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is valid and    |
|                 |                 |                 | mandatory only  |
|                 |                 |                 | when **action** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDI          |
|                 |                 |                 | RECT_TO_POOL**. |
|                 |                 |                 |                 |
|                 |                 |                 | The specified   |
|                 |                 |                 | backend server  |
|                 |                 |                 | group cannot be |
|                 |                 |                 | the default one |
|                 |                 |                 | associated with |
|                 |                 |                 | the listener,   |
|                 |                 |                 | or any backend  |
|                 |                 |                 | server group    |
|                 |                 |                 | associated with |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | policies of     |
|                 |                 |                 | other           |
|                 |                 |                 | listeners.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | cannot be       |
|                 |                 |                 | specified when  |
|                 |                 |                 | **action** is   |
|                 |                 |                 | set to          |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**. |
+-----------------+-----------------+-----------------+-----------------+
| redi            | No              | Table 4-286     | Specifies the   |
| rect_url_config |                 | object          | URL to which    |
|                 |                 |                 | requests are    |
|                 |                 |                 | forwarded.      |
|                 |                 |                 |                 |
|                 |                 |                 | For shared load |
|                 |                 |                 | balancers, this |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not supported.  |
|                 |                 |                 | If it is        |
|                 |                 |                 | passed, an      |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | For dedicated   |
|                 |                 |                 | load balancers, |
|                 |                 |                 | this parameter  |
|                 |                 |                 | will take       |
|                 |                 |                 | effect only     |
|                 |                 |                 | when advanced   |
|                 |                 |                 | forwarding is   |
|                 |                 |                 | enabled         |
|                 |                 |                 | (**enhance_l7   |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**). If   |
|                 |                 |                 | it is passed    |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **false**, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | Format:         |
|                 |                 |                 | *pr             |
|                 |                 |                 | otocol://host:p |
|                 |                 |                 | ort/path?query* |
|                 |                 |                 |                 |
|                 |                 |                 | At least one of |
|                 |                 |                 | the four        |
|                 |                 |                 | parameters      |
|                 |                 |                 | (**protocol**,  |
|                 |                 |                 | **host**,       |
|                 |                 |                 | **port**, and   |
|                 |                 |                 | **path**) must  |
|                 |                 |                 | be passed, or   |
|                 |                 |                 | their values    |
|                 |                 |                 | cannot be set   |
|                 |                 |                 | to **${xxx}**   |
|                 |                 |                 | at the same     |
|                 |                 |                 | time.           |
|                 |                 |                 | (**${xxx}**     |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the value in    |
|                 |                 |                 | the request     |
|                 |                 |                 | will be         |
|                 |                 |                 | inherited. For  |
|                 |                 |                 | example,        |
|                 |                 |                 | **${host}**     |
|                 |                 |                 | indicates the   |
|                 |                 |                 | host in the URL |
|                 |                 |                 | to be           |
|                 |                 |                 | redirected.)    |
|                 |                 |                 |                 |
|                 |                 |                 | The values of   |
|                 |                 |                 | **protocol**    |
|                 |                 |                 | and **port**    |
|                 |                 |                 | cannot be the   |
|                 |                 |                 | same as those   |
|                 |                 |                 | of the          |
|                 |                 |                 | associated      |
|                 |                 |                 | listener, and   |
|                 |                 |                 | either **host** |
|                 |                 |                 | or **path**     |
|                 |                 |                 | must be passed  |
|                 |                 |                 | or their values |
|                 |                 |                 | cannot be       |
|                 |                 |                 | **${xxx}** at   |
|                 |                 |                 | the same time.  |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| fixed_          | No              | Table 4-287     | Specifies the   |
| response_config |                 | object          | configuration   |
|                 |                 |                 | of the page     |
|                 |                 |                 | that will be    |
|                 |                 |                 | returned. This  |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect     |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**. If    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is passed and   |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **false**, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned. For   |
|                 |                 |                 | shared load     |
|                 |                 |                 | balancers, this |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not supported.  |
|                 |                 |                 | If it is        |
|                 |                 |                 | passed, an      |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| rules           | No              | Array of Table  | Lists the       |
|                 |                 | 4-288 objects   | forwarding      |
|                 |                 |                 | rules in the    |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | The list can    |
|                 |                 |                 | contain a       |
|                 |                 |                 | maximum of 10   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rules (if       |
|                 |                 |                 | **conditions**  |
|                 |                 |                 | is specified, a |
|                 |                 |                 | condition is    |
|                 |                 |                 | considered as a |
|                 |                 |                 | rule).          |
|                 |                 |                 |                 |
|                 |                 |                 | If **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | **PATH**,       |
|                 |                 |                 | **METHOD**, or  |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | only one        |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | can be created  |
|                 |                 |                 | for each type.  |
+-----------------+-----------------+-----------------+-----------------+
| priority        | No              | Integer         | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy          |
|                 |                 |                 | priority. This  |
|                 |                 |                 | parameter is    |
|                 |                 |                 | available only  |
|                 |                 |                 | for dedicated   |
|                 |                 |                 | load balancers  |
|                 |                 |                 | and will take   |
|                 |                 |                 | effect when     |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**. If    |
|                 |                 |                 | this parameter  |
|                 |                 |                 | is passed and   |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **false**, an   |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned. For   |
|                 |                 |                 | shared load     |
|                 |                 |                 | balancers, this |
|                 |                 |                 | parameter is    |
|                 |                 |                 | not supported.  |
|                 |                 |                 | If it is        |
|                 |                 |                 | passed, an      |
|                 |                 |                 | error will be   |
|                 |                 |                 | returned.       |
|                 |                 |                 |                 |
|                 |                 |                 | A smaller value |
|                 |                 |                 | indicates a     |
|                 |                 |                 | higher          |
|                 |                 |                 | priority. The   |
|                 |                 |                 | value must be   |
|                 |                 |                 | unique for      |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policies of the |
|                 |                 |                 | same listener.  |
|                 |                 |                 |                 |
|                 |                 |                 | If **action**   |
|                 |                 |                 | is set to       |
|                 |                 |                 | **REDIRECT      |
|                 |                 |                 | _TO_LISTENER**, |
|                 |                 |                 | the value can   |
|                 |                 |                 | only be **0**,  |
|                 |                 |                 | indicating that |
|                 |                 |                 | **REDIREC       |
|                 |                 |                 | T_TO_LISTENER** |
|                 |                 |                 | has the highest |
|                 |                 |                 | priority.       |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **10000**       |
+-----------------+-----------------+-----------------+-----------------+

4. UpdateRedirectUrlConfig

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| protocol        | No              | String          | Specifies the   |
|                 |                 |                 | protocol for    |
|                 |                 |                 | redirection.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | *               |
|                 |                 |                 | *${protocol}**, |
|                 |                 |                 | indicating that |
|                 |                 |                 | the protocol of |
|                 |                 |                 | the request     |
|                 |                 |                 | will be used.   |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **HTTP**     |
|                 |                 |                 |                 |
|                 |                 |                 | -  **HTTPS**    |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 | **${protocol}** |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **36** |
+-----------------+-----------------+-----------------+-----------------+
| host            | No              | String          | Specifies the   |
|                 |                 |                 | host name that  |
|                 |                 |                 | requests are    |
|                 |                 |                 | redirected to.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | letters,        |
|                 |                 |                 | digits, hyphens |
|                 |                 |                 | (-), and        |
|                 |                 |                 | periods (.) and |
|                 |                 |                 | must start with |
|                 |                 |                 | a letter or     |
|                 |                 |                 | digit. The      |
|                 |                 |                 | default value   |
|                 |                 |                 | is **${host}**, |
|                 |                 |                 | indicating that |
|                 |                 |                 | the host of the |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${host}**     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| port            | No              | String          | Specifies the   |
|                 |                 |                 | port that       |
|                 |                 |                 | requests are    |
|                 |                 |                 | redirected to.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **${port}**,    |
|                 |                 |                 | indicating that |
|                 |                 |                 | the port of the |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${port}**     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+
| path            | No              | String          | Specifies the   |
|                 |                 |                 | path that       |
|                 |                 |                 | requests are    |
|                 |                 |                 | redirected to.  |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **${path}**,    |
|                 |                 |                 | indicating that |
|                 |                 |                 | the path of the |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | contain only    |
|                 |                 |                 | letters,        |
|                 |                 |                 | digits, and     |
|                 |                 |                 | special         |
|                 |                 |                 | characters      |
|                 |                 |                 | \_-';@^-        |
|                 |                 |                 | %#&$.           |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 | and must start  |
|                 |                 |                 | with a slash    |
|                 |                 |                 | (/).            |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${path}**     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| query           | No              | String          | Specifies the   |
|                 |                 |                 | query string    |
|                 |                 |                 | set in the URL  |
|                 |                 |                 | for             |
|                 |                 |                 | redirection.    |
|                 |                 |                 | The default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **${query}**,   |
|                 |                 |                 | indicating that |
|                 |                 |                 | the query       |
|                 |                 |                 | string of the   |
|                 |                 |                 | request will be |
|                 |                 |                 | used.           |
|                 |                 |                 |                 |
|                 |                 |                 | For example, in |
|                 |                 |                 | the URL         |
|                 |                 |                 | **http          |
|                 |                 |                 | s://www.xxx.com |
|                 |                 |                 | :8080/elb?type= |
|                 |                 |                 | loadbalancer**, |
|                 |                 |                 | **${query}**    |
|                 |                 |                 | indicates       |
|                 |                 |                 | **type=         |
|                 |                 |                 | loadbalancer**. |
|                 |                 |                 | If this         |
|                 |                 |                 | parameter is    |
|                 |                 |                 | set to          |
|                 |                 |                 | **${query}&     |
|                 |                 |                 | name=my_name**, |
|                 |                 |                 | the URL will be |
|                 |                 |                 | redirected to   |
|                 |                 |                 | **ht            |
|                 |                 |                 | tps://www.xxx.c |
|                 |                 |                 | om:8080/elb?typ |
|                 |                 |                 | e=loadbalancer& |
|                 |                 |                 | name=my_name**. |
|                 |                 |                 |                 |
|                 |                 |                 | The value is    |
|                 |                 |                 | case-sensitive  |
|                 |                 |                 | and can contain |
|                 |                 |                 | only letters,   |
|                 |                 |                 | digits, and     |
|                 |                 |                 | special         |
|                 |                 |                 | characters      |
|                 |                 |                 | !$&'()          |
|                 |                 |                 | *+,-./:;=?@^_\` |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **${query}**    |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| status_code     | No              | String          | Specifies the   |
|                 |                 |                 | status code     |
|                 |                 |                 | returned after  |
|                 |                 |                 | the requests    |
|                 |                 |                 | are redirected. |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -  **301**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **302**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **303**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **307**      |
|                 |                 |                 |                 |
|                 |                 |                 | -  **308**      |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+

1. UpdateFixtedResponseConfig

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| status_code     | No              | String          | Specifies the   |
|                 |                 |                 | HTTP status     |
|                 |                 |                 | code configured |
|                 |                 |                 | in the          |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. The value |
|                 |                 |                 | can be any      |
|                 |                 |                 | integer in the  |
|                 |                 |                 | range of        |
|                 |                 |                 | 200–299,        |
|                 |                 |                 | 400–499, or     |
|                 |                 |                 | 500–599.        |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **16** |
+-----------------+-----------------+-----------------+-----------------+
| content_type    | No              | String          | Specifies the   |
|                 |                 |                 | format of the   |
|                 |                 |                 | response body.  |
|                 |                 |                 |                 |
|                 |                 |                 | Value options:  |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **text/plain** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **text/css** |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |   **text/html** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **applicati  |
|                 |                 |                 | on/javascript** |
|                 |                 |                 |                 |
|                 |                 |                 | -  **app        |
|                 |                 |                 | lication/json** |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum: **64** |
+-----------------+-----------------+-----------------+-----------------+
| message_body    | No              | String          | Specifies the   |
|                 |                 |                 | content of the  |
|                 |                 |                 | response body.  |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **1024**        |
+-----------------+-----------------+-----------------+-----------------+

1. UpdateL7RuleOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. The       |
|                 |                 |                 | default value   |
|                 |                 |                 | is **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | No              | String          | Specifies how   |
|                 |                 |                 | requests are    |
|                 |                 |                 | matched with    |
|                 |                 |                 | the domain name |
|                 |                 |                 | or URL.         |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can only be  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can be set   |
|                 |                 |                 |    to           |
|                 |                 |                 |    **REGEX**,   |
|                 |                 |                 |    *            |
|                 |                 |                 | *STARTS_WITH**, |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported. The  |
|                 |                 |                 | value is fixed  |
|                 |                 |                 | at **false**.   |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be updated  |
|                 |                 |                 | but remains     |
|                 |                 |                 | invalid.        |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if an  |
|                 |                 |                 | HTTP header is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **key** is the  |
|                 |                 |                 | name of the     |
|                 |                 |                 | HTTP header     |
|                 |                 |                 | parameter.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if a   |
|                 |                 |                 | domain name is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **value** is    |
|                 |                 |                 | the domain      |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.) and must |
|                 |                 |                 |    start with a |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit. If    |
|                 |                 |                 |    you want to  |
|                 |                 |                 |    use a        |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH** and |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    to           |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| conditions      | No              | Array of Table  | Specifies the   |
|                 |                 | 4-289 objects   | matching        |
|                 |                 |                 | conditions of   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. This      |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect     |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | If              |
|                 |                 |                 | **conditions**  |
|                 |                 |                 | is specified,   |
|                 |                 |                 | the values of   |
|                 |                 |                 | **key** and     |
|                 |                 |                 | **value** are   |
|                 |                 |                 | invalid, and    |
|                 |                 |                 | its value       |
|                 |                 |                 | contains all    |
|                 |                 |                 | conditions      |
|                 |                 |                 | configured for  |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. The keys  |
|                 |                 |                 | in the list     |
|                 |                 |                 | must be the     |
|                 |                 |                 | same, whereas   |
|                 |                 |                 | each value must |
|                 |                 |                 | be unique. Only |
|                 |                 |                 | full update is  |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. UpdateRuleCondition

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of match    |
|                 |                 |                 | item. This      |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the domain   |
|                 |                 |                 |    name, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    periods (.), |
|                 |                 |                 |    and          |
|                 |                 |                 |    asterisks    |
|                 |                 |                 |    (*), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter,      |
|                 |                 |                 |    digit, or    |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*). If you  |
|                 |                 |                 |    want to use  |
|                 |                 |                 |    a wildcard   |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the request  |
|                 |                 |                 |    path, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    If           |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |    **EQUAL_TO** |
|                 |                 |                 |    for the      |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    rule, the    |
|                 |                 |                 |    value must   |
|                 |                 |                 |    start with a |
|                 |                 |                 |    slash (/)    |
|                 |                 |                 |    and can      |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| l7policy              | Table 4-291 object    | Specifies the         |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+

2. L7Policy

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| action                | String                | Specifies where       |
|                       |                       | requests will be      |
|                       |                       | forwarded. The value  |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       | **REDIRECT_TO_POOL**: |
|                       |                       |    Requests will be   |
|                       |                       |    forwarded to       |
|                       |                       |    another backend    |
|                       |                       |    server group.      |
|                       |                       |                       |
|                       |                       | -  **RE               |
|                       |                       | DIRECT_TO_LISTENER**: |
|                       |                       |    Requests will be   |
|                       |                       |    redirected to an   |
|                       |                       |    HTTPS listener.    |
|                       |                       |                       |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority. If requests |
|                       |                       | are to be redirected  |
|                       |                       | to an HTTPS listener, |
|                       |                       | other forwarding      |
|                       |                       | policies of the       |
|                       |                       | listener will become  |
|                       |                       | invalid.              |
+-----------------------+-----------------------+-----------------------+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | policy. The default   |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Default: **true**     |
+-----------------------+-----------------------+-----------------------+
| description           | String                | Provides              |
|                       |                       | supplementary         |
|                       |                       | information about the |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| listener_id           | String                | Specifies the ID of   |
|                       |                       | the listener to which |
|                       |                       | the forwarding policy |
|                       |                       | is added.             |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |                       |
|                       |                       | **REDIRECT_TO_POOL**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    or HTTPS listener. |
|                       |                       |                       |
|                       |                       | -  If **action** is   |
|                       |                       |    set to             |
|                       |                       |    **RE               |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       |    the forwarding     |
|                       |                       |    policy can be      |
|                       |                       |    added to an HTTP   |
|                       |                       |    listener.          |
+-----------------------+-----------------------+-----------------------+
| name                  | String                | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | name.                 |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| position              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter cannot be   |
|                       |                       | updated.              |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **100**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID of the forwarding  |
|                       |                       | policy.               |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | policy.               |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
|                       |                       |                       |
|                       |                       | Default: **ACTIVE**   |
+-----------------------+-----------------------+-----------------------+
| redirect_listener_id  | String                | Specifies the ID of   |
|                       |                       | the listener that     |
|                       |                       | requests are          |
|                       |                       | redirected to.        |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
|                       |                       |                       |
|                       |                       | Only HTTPS listeners  |
|                       |                       | are supported, and    |
|                       |                       | the listener cannot   |
|                       |                       | be any listener added |
|                       |                       | to other load         |
|                       |                       | balancers.            |
+-----------------------+-----------------------+-----------------------+
| redirect_pool_id      | String                | Specifies the ID of   |
|                       |                       | the backend server    |
|                       |                       | group that requests   |
|                       |                       | are forwarded to.     |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | valid and mandatory   |
|                       |                       | only when **action**  |
|                       |                       | is set to             |
|                       |                       | **REDIRECT_TO_POOL**. |
|                       |                       |                       |
|                       |                       | The specified backend |
|                       |                       | server group cannot   |
|                       |                       | be the default one    |
|                       |                       | associated with the   |
|                       |                       | listener, or any      |
|                       |                       | backend server group  |
|                       |                       | associated with the   |
|                       |                       | forwarding policies   |
|                       |                       | of other listeners.   |
|                       |                       |                       |
|                       |                       | This parameter cannot |
|                       |                       | be specified when     |
|                       |                       | **action** is set to  |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**. |
+-----------------------+-----------------------+-----------------------+
| redirect_url          | String                | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array of Table 4-292  | Lists the forwarding  |
|                       | objects               | rules in the          |
|                       |                       | forwarding policy.    |
+-----------------------+-----------------------+-----------------------+
| redirect_url_config   | Table 4-293 object    | Specifies the URL to  |
|                       |                       | which requests are    |
|                       |                       | forwarded.            |
|                       |                       |                       |
|                       |                       | For shared load       |
|                       |                       | balancers, this       |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | For dedicated load    |
|                       |                       | balancers, this       |
|                       |                       | parameter will take   |
|                       |                       | effect only when      |
|                       |                       | advanced forwarding   |
|                       |                       | is enabled            |
|                       |                       | (**enha               |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**).  |
|                       |                       | If it is passed when  |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned.             |
|                       |                       |                       |
|                       |                       | Format:               |
|                       |                       | *protocol://          |
|                       |                       | host:port/path?query* |
|                       |                       |                       |
|                       |                       | At least one of the   |
|                       |                       | four parameters       |
|                       |                       | (**protocol**,        |
|                       |                       | **host**, **port**,   |
|                       |                       | and **path**) must be |
|                       |                       | passed, or their      |
|                       |                       | values cannot be set  |
|                       |                       | to **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       | (**${xxx}** indicates |
|                       |                       | that the value in the |
|                       |                       | request will be       |
|                       |                       | inherited. For        |
|                       |                       | example, **${host}**  |
|                       |                       | indicates the host in |
|                       |                       | the URL to be         |
|                       |                       | redirected.)          |
|                       |                       |                       |
|                       |                       | The values of         |
|                       |                       | **protocol** and      |
|                       |                       | **port** cannot be    |
|                       |                       | the same as those of  |
|                       |                       | the associated        |
|                       |                       | listener, and either  |
|                       |                       | **host** or **path**  |
|                       |                       | must be passed or     |
|                       |                       | their values cannot   |
|                       |                       | be **${xxx}** at the  |
|                       |                       | same time.            |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| fixed_response_config | Table 4-294 object    | Specifies the         |
|                       |                       | configuration of the  |
|                       |                       | page that will be     |
|                       |                       | returned. This        |
|                       |                       | parameter will take   |
|                       |                       | effect when           |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       | If this parameter is  |
|                       |                       | passed and            |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **false**,  |
|                       |                       | an error will be      |
|                       |                       | returned. For shared  |
|                       |                       | load balancers, this  |
|                       |                       | parameter is not      |
|                       |                       | supported. If it is   |
|                       |                       | passed, an error will |
|                       |                       | be returned.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| priority              | Integer               | Specifies the         |
|                       |                       | forwarding policy     |
|                       |                       | priority. This        |
|                       |                       | parameter is          |
|                       |                       | available only for    |
|                       |                       | dedicated load        |
|                       |                       | balancers and will    |
|                       |                       | take effect when      |
|                       |                       | **enha                |
|                       |                       | nce_l7policy_enable** |
|                       |                       | is set to **true**.   |
|                       |                       |                       |
|                       |                       | A smaller value       |
|                       |                       | indicates a higher    |
|                       |                       | priority. The value   |
|                       |                       | must be unique for    |
|                       |                       | each forwarding       |
|                       |                       | policy of the same    |
|                       |                       | listener.             |
|                       |                       |                       |
|                       |                       | If **action** is set  |
|                       |                       | to                    |
|                       |                       | **RE                  |
|                       |                       | DIRECT_TO_LISTENER**, |
|                       |                       | the value can only be |
|                       |                       | **0**, indicating     |
|                       |                       | that                  |
|                       |                       | **R                   |
|                       |                       | EDIRECT_TO_LISTENER** |
|                       |                       | has the highest       |
|                       |                       | priority.             |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to          |
|                       |                       |    **false**,         |
|                       |                       |    forwarding         |
|                       |                       |    policies are       |
|                       |                       |    automatically      |
|                       |                       |    prioritized based  |
|                       |                       |    on the original    |
|                       |                       |    sorting logic.     |
|                       |                       |    Forwarding policy  |
|                       |                       |    priorities are     |
|                       |                       |    independent of     |
|                       |                       |    each other         |
|                       |                       |    regardless of      |
|                       |                       |    domain names. If   |
|                       |                       |    forwarding         |
|                       |                       |    policies use the   |
|                       |                       |    same domain name,  |
|                       |                       |    their priorities   |
|                       |                       |    follow the order   |
|                       |                       |    of exact match     |
|                       |                       |    (**EQUAL_TO**),    |
|                       |                       |    prefix match       |
|                       |                       |    (**STARTS_WITH**), |
|                       |                       |    and regular        |
|                       |                       |    expression match   |
|                       |                       |    (**REGEX**). If    |
|                       |                       |    prefix match is    |
|                       |                       |    used for matching, |
|                       |                       |    the longer the     |
|                       |                       |    path, the higher   |
|                       |                       |    the priority. If a |
|                       |                       |    forwarding policy  |
|                       |                       |    contains only a    |
|                       |                       |    domain name        |
|                       |                       |    without a path     |
|                       |                       |    specified, the     |
|                       |                       |    path is **/**, and |
|                       |                       |    prefix match is    |
|                       |                       |    used by default.   |
|                       |                       |                       |
|                       |                       | -  If                 |
|                       |                       |    **enha             |
|                       |                       | nce_l7policy_enable** |
|                       |                       |    is set to **true** |
|                       |                       |    and this parameter |
|                       |                       |    is not passed, the |
|                       |                       |    priority will set  |
|                       |                       |    to a sum of 1 and  |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding policy  |
|                       |                       |    in the same        |
|                       |                       |    listener by        |
|                       |                       |    default. There     |
|                       |                       |    will be two cases: |
|                       |                       |    a) If the highest  |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies is the    |
|                       |                       |    maximum (10,000),  |
|                       |                       |    the forwarding     |
|                       |                       |    policy will fail   |
|                       |                       |    to create because  |
|                       |                       |    the final priority |
|                       |                       |    for creating the   |
|                       |                       |    forwarding policy  |
|                       |                       |    is the sum of 1    |
|                       |                       |    and 10,000, which  |
|                       |                       |    exceeds the        |
|                       |                       |    maximum. In this   |
|                       |                       |    case, please       |
|                       |                       |    specify a value or |
|                       |                       |    adjust the         |
|                       |                       |    priorities of      |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies. b) If no |
|                       |                       |    forwarding         |
|                       |                       |    policies exist,    |
|                       |                       |    the highest        |
|                       |                       |    priority of        |
|                       |                       |    existing           |
|                       |                       |    forwarding         |
|                       |                       |    policies will set  |
|                       |                       |    to 1 by default.   |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **10000**    |
+-----------------------+-----------------------+-----------------------+

1. RuleRef

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| id                    | String                | Specifies the         |
|                       |                       | forwarding rule ID.   |
+-----------------------+-----------------------+-----------------------+

2. RedirectUrlConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| protocol              | String                | Specifies the         |
|                       |                       | protocol for          |
|                       |                       | redirection. The      |
|                       |                       | default value is      |
|                       |                       | **${protocol}**,      |
|                       |                       | indicating that the   |
|                       |                       | protocol of the       |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **HTTP**           |
|                       |                       |                       |
|                       |                       | -  **HTTPS**          |
|                       |                       |                       |
|                       |                       | -  **${protocol}**    |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **36**       |
+-----------------------+-----------------------+-----------------------+
| host                  | String                | Specifies the host    |
|                       |                       | name that requests    |
|                       |                       | are redirected to.    |
|                       |                       | The value can contain |
|                       |                       | only letters, digits, |
|                       |                       | hyphens (-), and      |
|                       |                       | periods (.) and must  |
|                       |                       | start with a letter   |
|                       |                       | or digit. The default |
|                       |                       | value is **${host}**, |
|                       |                       | indicating that the   |
|                       |                       | host of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${host}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| port                  | String                | Specifies the port    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${port}**,          |
|                       |                       | indicating that the   |
|                       |                       | port of the request   |
|                       |                       | will be used.         |
|                       |                       |                       |
|                       |                       | Default: **${port}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| path                  | String                | Specifies the path    |
|                       |                       | that requests are     |
|                       |                       | redirected to. The    |
|                       |                       | default value is      |
|                       |                       | **${path}**,          |
|                       |                       | indicating that the   |
|                       |                       | path of the request   |
|                       |                       | will be used. The     |
|                       |                       | value can contain     |
|                       |                       | only letters, digits, |
|                       |                       | and special           |
|                       |                       | characters \_-';@^-   |
|                       |                       | %#&$.*+?,=!:|/()[]{}  |
|                       |                       | and must start with a |
|                       |                       | slash (/).            |
|                       |                       |                       |
|                       |                       | Default: **${path}**  |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| query                 | String                | Specifies the query   |
|                       |                       | string set in the URL |
|                       |                       | for redirection. The  |
|                       |                       | default value is      |
|                       |                       | **${query}**,         |
|                       |                       | indicating that the   |
|                       |                       | query string of the   |
|                       |                       | request will be used. |
|                       |                       |                       |
|                       |                       | For example, in the   |
|                       |                       | URL                   |
|                       |                       | **https:/             |
|                       |                       | /www.xxx.com:8080/elb |
|                       |                       | ?type=loadbalancer**, |
|                       |                       | **${query}**          |
|                       |                       | indicates             |
|                       |                       | *                     |
|                       |                       | *type=loadbalancer**. |
|                       |                       | If this parameter is  |
|                       |                       | set to                |
|                       |                       | **${q                 |
|                       |                       | uery}&name=my_name**, |
|                       |                       | the URL will be       |
|                       |                       | redirected to         |
|                       |                       | *                     |
|                       |                       | *https://www.xxx.com: |
|                       |                       | 8080/elb?type=loadbal |
|                       |                       | ancer&name=my_name**. |
|                       |                       |                       |
|                       |                       | The value is          |
|                       |                       | case-sensitive and    |
|                       |                       | can contain only      |
|                       |                       | letters, digits, and  |
|                       |                       | special characters    |
|                       |                       | !$&'()*+,-./:;=?@^_\` |
|                       |                       |                       |
|                       |                       | Default: **${query}** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| status_code           | String                | Specifies the status  |
|                       |                       | code returned after   |
|                       |                       | the requests are      |
|                       |                       | redirected.           |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **301**            |
|                       |                       |                       |
|                       |                       | -  **302**            |
|                       |                       |                       |
|                       |                       | -  **303**            |
|                       |                       |                       |
|                       |                       | -  **307**            |
|                       |                       |                       |
|                       |                       | -  **308**            |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+

1. FixtedResponseConfig

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| status_code           | String                | Specifies the HTTP    |
|                       |                       | status code           |
|                       |                       | configured in the     |
|                       |                       | forwarding policy.    |
|                       |                       | The value can be any  |
|                       |                       | integer in the range  |
|                       |                       | of 200–299, 400–499,  |
|                       |                       | or 500–599.           |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **16**       |
+-----------------------+-----------------------+-----------------------+
| content_type          | String                | Specifies the format  |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Value options:        |
|                       |                       |                       |
|                       |                       | -  **text/plain**     |
|                       |                       |                       |
|                       |                       | -  **text/css**       |
|                       |                       |                       |
|                       |                       | -  **text/html**      |
|                       |                       |                       |
|                       |                       | -  **app              |
|                       |                       | lication/javascript** |
|                       |                       |                       |
|                       |                       | -                     |
|                       |                       |  **application/json** |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **32**       |
+-----------------------+-----------------------+-----------------------+
| message_body          | String                | Specifies the content |
|                       |                       | of the response body. |
|                       |                       |                       |
|                       |                       | Minimum: **0**        |
|                       |                       |                       |
|                       |                       | Maximum: **1024**     |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| PUT
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be
| {
| "l7policy" : {
| "name" : "My policy.",
| "description" : "Update policy.",
| "redirect_listener_id" : "48a97732-449e-4aab-b561-828d29e45050"
| }
| }

2. Example Responses

**Status code: 200**

Successful request.

| {
| "request_id" : "e5c07525-1470-47b6-9b0c-567527a036aa",
| "l7policy" : {
| "description" : "Update policy.",
| "admin_state_up" : true,
| "rules" : [ ],
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "listener_id" : "e2220d2a-3faf-44f3-8cd6-0c42952bd0ab",
| "redirect_listener_id" : "48a97732-449e-4aab-b561-828d29e45050",
| "action" : "REDIRECT_TO_LISTENER",
| "position" : 100,
| "provisioning_status" : "ACTIVE",
| "id" : "cf4360fd-8631-41ff-a6f5-b72c35da74be",
| "name" : "My policy."
| }
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _deleting-a-forwarding-policy-1:

Deleting a Forwarding Policy
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to delete a forwarding policy.

6. URI

DELETE /v3/{project_id}/elb/l7policies/{l7policy_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

None

9. Example Requests

| DELETE
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be

10. Example Responses

None

11. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

12. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _forwarding-rule-1:

Forwarding Rule
---------------

1. .. rubric:: Adding a Forwarding Rule
      :name: adding-a-forwarding-rule-1

   #. Function

This API is used to add a forwarding rule.

2. URI

POST /v3/{project_id}/elb/l7policies/{l7policy_id}/rules

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

3. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| rule            | Yes             | Table 4-300     | Specifies the   |
|                 |                 | object          | forwarding      |
|                 |                 |                 | rule.           |
+-----------------+-----------------+-----------------+-----------------+

3. CreateL7RuleOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. The       |
|                 |                 |                 | default value   |
|                 |                 |                 | is **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **true**        |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | Yes             | String          | Specifies how   |
|                 |                 |                 | requests are    |
|                 |                 |                 | matched and     |
|                 |                 |                 | forwarded.      |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can only be  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
|                 |                 |                 |    Asterisks    |
|                 |                 |                 |    (*) can be   |
|                 |                 |                 |    used as      |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    characters.  |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can be set   |
|                 |                 |                 |    to           |
|                 |                 |                 |    **REGEX**,   |
|                 |                 |                 |    *            |
|                 |                 |                 | *STARTS_WITH**, |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if an  |
|                 |                 |                 | HTTP header is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **key** is the  |
|                 |                 |                 | name of the     |
|                 |                 |                 | HTTP header     |
|                 |                 |                 | parameter.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if a   |
|                 |                 |                 | domain name is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **value** is    |
|                 |                 |                 | the domain      |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.) and must |
|                 |                 |                 |    start with a |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit. If    |
|                 |                 |                 |    you want to  |
|                 |                 |                 |    use a        |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH** and |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    to           |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | No              | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| type            | Yes             | String          | Specifies the   |
|                 |                 |                 | match content.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | be one of the   |
|                 |                 |                 | following:      |
|                 |                 |                 |                 |
|                 |                 |                 | -               |
|                 |                 |                 |  **HOST_NAME**: |
|                 |                 |                 |    A domain     |
|                 |                 |                 |    name will be |
|                 |                 |                 |    used for     |
|                 |                 |                 |    matching.    |
|                 |                 |                 |                 |
|                 |                 |                 | -  **PATH**: A  |
|                 |                 |                 |    URL will be  |
|                 |                 |                 |    used for     |
|                 |                 |                 |    matching.    |
|                 |                 |                 |                 |
|                 |                 |                 | If **type** is  |
|                 |                 |                 | set to          |
|                 |                 |                 | **HOST_NAME**,  |
|                 |                 |                 | **PATH**,       |
|                 |                 |                 | **METHOD**, or  |
|                 |                 |                 | **SOURCE_IP**,  |
|                 |                 |                 | only one        |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | can be created  |
|                 |                 |                 | for each type.  |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported. The  |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Default:        |
|                 |                 |                 | **false**       |
+-----------------+-----------------+-----------------+-----------------+
| conditions      | No              | Array of Table  | Specifies the   |
|                 |                 | 4-301 objects   | matching        |
|                 |                 |                 | conditions of   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. This      |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect     |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | If              |
|                 |                 |                 | **conditions**  |
|                 |                 |                 | is specified,   |
|                 |                 |                 | **key** and     |
|                 |                 |                 | **value** will  |
|                 |                 |                 | not take        |
|                 |                 |                 | effect, and the |
|                 |                 |                 | value of this   |
|                 |                 |                 | parameter will  |
|                 |                 |                 | contain all     |
|                 |                 |                 | conditions      |
|                 |                 |                 | configured for  |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. The keys  |
|                 |                 |                 | in the list     |
|                 |                 |                 | must be the     |
|                 |                 |                 | same, whereas   |
|                 |                 |                 | each value must |
|                 |                 |                 | be unique.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. CreateRuleCondition

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of match    |
|                 |                 |                 | item. This      |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | Yes             | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the domain   |
|                 |                 |                 |    name, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    periods (.), |
|                 |                 |                 |    and          |
|                 |                 |                 |    asterisks    |
|                 |                 |                 |    (*), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter,      |
|                 |                 |                 |    digit, or    |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*). If you  |
|                 |                 |                 |    want to use  |
|                 |                 |                 |    a wildcard   |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the request  |
|                 |                 |                 |    path, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    If           |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |    **EQUAL_TO** |
|                 |                 |                 |    for the      |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    rule, the    |
|                 |                 |                 |    value must   |
|                 |                 |                 |    start with a |
|                 |                 |                 |    slash (/)    |
|                 |                 |                 |    and can      |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 201**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| rule                  | Table 4-303 object    | Specifies the         |
|                       |                       | forwarding rule.      |
+-----------------------+-----------------------+-----------------------+

2. L7Rule

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule. The default     |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies how         |
|                       |                       | requests are matched  |
|                       |                       | with the domain name  |
|                       |                       | or URL.               |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    this parameter can |
|                       |                       |    only be set to     |
|                       |                       |    **EQUAL_TO**.      |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**, this  |
|                       |                       |    parameter can be   |
|                       |                       |    set to **REGEX**,  |
|                       |                       |    **STARTS_WITH**,   |
|                       |                       |    or **EQUAL_TO**.   |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | This parameter will   |
|                       |                       | not take effect when  |
|                       |                       | **type** is set to    |
|                       |                       | **HOST_NAME** or      |
|                       |                       | **PATH**. It can be   |
|                       |                       | updated but will not  |
|                       |                       | take effect.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | content. The value    |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**: A   |
|                       |                       |    domain name will   |
|                       |                       |    be used for        |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | -  **PATH**: A URL    |
|                       |                       |    will be used for   |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | If **type** is set to |
|                       |                       | **HOST_NAME**,        |
|                       |                       | **PATH**, **METHOD**, |
|                       |                       | or **SOURCE_IP**,     |
|                       |                       | only one forwarding   |
|                       |                       | rule can be created   |
|                       |                       | for each type.        |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       | For example, if a     |
|                       |                       | domain name is used   |
|                       |                       | for matching,         |
|                       |                       | **value** is the      |
|                       |                       | domain name.          |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    the value can      |
|                       |                       |    contain letters,   |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), and periods   |
|                       |                       |    (.) and must start |
|                       |                       |    with a letter or   |
|                       |                       |    digit. If you want |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH** and    |
|                       |                       |    **compare_type**   |
|                       |                       |    to **STARTS_WITH** |
|                       |                       |    or **EQUAL_TO**,   |
|                       |                       |    the value must     |
|                       |                       |    start with a slash |
|                       |                       |    (/) and can        |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported. The value  |
|                       |                       | is fixed at           |
|                       |                       | **false**. This       |
|                       |                       | parameter can be      |
|                       |                       | updated but remains   |
|                       |                       | invalid.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| conditions            | Array of Table 4-304  | Specifies the         |
|                       | objects               | matching conditions   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is specified,      |
|                       |                       |    **key** and        |
|                       |                       |    **value** will not |
|                       |                       |    take effect, and   |
|                       |                       |    the value of this  |
|                       |                       |    parameter will     |
|                       |                       |    contain all        |
|                       |                       |    conditions         |
|                       |                       |    configured for the |
|                       |                       |    forwarding rule.   |
|                       |                       |    The keys in the    |
|                       |                       |    list must be the   |
|                       |                       |    same, whereas each |
|                       |                       |    value must be      |
|                       |                       |    unique.            |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is not specified,  |
|                       |                       |    the values of      |
|                       |                       |    **key** and        |
|                       |                       |    **value** are      |
|                       |                       |    displayed.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. RuleCondition

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the key of  |
|                       |                       | match item. This      |
|                       |                       | parameter is left     |
|                       |                       | blank.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    domain name, which |
|                       |                       |    can contain 1 to   |
|                       |                       |    128 characters,    |
|                       |                       |    including letters, |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), periods (.),  |
|                       |                       |    and asterisks (*), |
|                       |                       |    and must start     |
|                       |                       |    with a letter,     |
|                       |                       |    digit, or asterisk |
|                       |                       |    (*). If you want   |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**,       |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    request path,      |
|                       |                       |    which can contain  |
|                       |                       |    1 to 128           |
|                       |                       |    characters. If     |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO** for   |
|                       |                       |    the forwarding     |
|                       |                       |    rule, the value    |
|                       |                       |    must start with a  |
|                       |                       |    slash (/) and can  |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| POST
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be/rules
| {
| "rule" : {
| "compare_type" : "EQUAL_TO",
| "type" : "PATH",
| "value" : "/bbb.html"
| }
| }

2. Example Responses

**Status code: 201**

Successful request.

| {
| "rule" : {
| "compare_type" : "EQUAL_TO",
| "provisioning_status" : "ACTIVE",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "invert" : false,
| "admin_state_up" : true,
| "value" : "/bbb.html",
| "type" : "PATH",
| "id" : "84f4fcae-9c15-4e19-a99f-72c0b08fd3d7"
| },
| "request_id" : "3639f1b7-f04b-496e-9218-ec5a9e493f69"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 201                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _querying-forwarding-rules-1:

Querying Forwarding Rules
~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to query all forwarding rules.

6. Constraints

Parameters **marker**, **limit**, and **page_reverse** are used for
pagination query.

Parameters **marker** and **page_reverse** take effect only when they
are used together with parameter **limit**.

7. URI

GET /v3/{project_id}/elb/l7policies/{l7policy_id}/rules

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+

2. Query parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| limit           | No              | Integer         | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **0**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **2000**        |
+-----------------+-----------------+-----------------+-----------------+
| marker          | No              | String          | Specifies the   |
|                 |                 |                 | ID of the last  |
|                 |                 |                 | record on the   |
|                 |                 |                 | previous page.  |
|                 |                 |                 |                 |
|                 |                 |                 | Note:           |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    must be used |
|                 |                 |                 |    together     |
|                 |                 |                 |    with         |
|                 |                 |                 |    **limit**.   |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not          |
|                 |                 |                 |    specified,   |
|                 |                 |                 |    the first    |
|                 |                 |                 |    page will be |
|                 |                 |                 |    queried.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  This         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    cannot be    |
|                 |                 |                 |    left blank   |
|                 |                 |                 |    or set to an |
|                 |                 |                 |    invalid ID.  |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | No              | Boolean         | Specifies the   |
|                 |                 |                 | page direction. |
|                 |                 |                 |                 |
|                 |                 |                 | The value can   |
|                 |                 |                 | be **true** or  |
|                 |                 |                 | **false**, and  |
|                 |                 |                 | the default     |
|                 |                 |                 | value is        |
|                 |                 |                 | **false**.      |
|                 |                 |                 |                 |
|                 |                 |                 | The last page   |
|                 |                 |                 | in the list     |
|                 |                 |                 | requested with  |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to          |
|                 |                 |                 | **false** will  |
|                 |                 |                 | not contain the |
|                 |                 |                 | "next" link,    |
|                 |                 |                 | and the last    |
|                 |                 |                 | page in the     |
|                 |                 |                 | list requested  |
|                 |                 |                 | with            |
|                 |                 |                 | *               |
|                 |                 |                 | *page_reverse** |
|                 |                 |                 | set to **true** |
|                 |                 |                 | will not        |
|                 |                 |                 | contain the     |
|                 |                 |                 | "previous"      |
|                 |                 |                 | link.           |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | must be used    |
|                 |                 |                 | together with   |
|                 |                 |                 | **limit**.      |
+-----------------+-----------------+-----------------+-----------------+
| id              | No              | Array           | Specifies the   |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | ID.             |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *               |
|                 |                 |                 | id=xxx&id=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | No              | Array           | Specifies how   |
|                 |                 |                 | requests are    |
|                 |                 |                 | matched with    |
|                 |                 |                 | the domain name |
|                 |                 |                 | or URL.         |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can only be  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can be set   |
|                 |                 |                 |    to           |
|                 |                 |                 |    **REGEX**,   |
|                 |                 |                 |    *            |
|                 |                 |                 | *STARTS_WITH**, |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple values |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *compa          |
|                 |                 |                 | re_type=xxx&com |
|                 |                 |                 | pare_type=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| prov            | No              | Array           | Specifies the   |
| isioning_status |                 |                 | provisioning    |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. The value |
|                 |                 |                 | can only be     |
|                 |                 |                 | **ACTIVE**,     |
|                 |                 |                 | indicating that |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule is         |
|                 |                 |                 | provisioned     |
|                 |                 |                 | successfully.   |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple        |
|                 |                 |                 | provisioning    |
|                 |                 |                 | statuses can be |
|                 |                 |                 | queried in the  |
|                 |                 |                 | format of       |
|                 |                 |                 | *prov           |
|                 |                 |                 | isioning_status |
|                 |                 |                 | =xxx&provisioni |
|                 |                 |                 | ng_status=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported. The  |
|                 |                 |                 | value is fixed  |
|                 |                 |                 | at **false**.   |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be updated  |
|                 |                 |                 | but remains     |
|                 |                 |                 | invalid.        |
+-----------------+-----------------+-----------------+-----------------+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. The       |
|                 |                 |                 | default value   |
|                 |                 |                 | is **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | Array           | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match content.  |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple values |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *value=         |
|                 |                 |                 | xxx&value=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | Array           | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match content   |
|                 |                 |                 | that is used to |
|                 |                 |                 | identify the    |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple keys   |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *ke             |
|                 |                 |                 | y=xxx&key=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| type            | No              | Array           | Specifies the   |
|                 |                 |                 | match content.  |
|                 |                 |                 | The value can   |
|                 |                 |                 | be              |
|                 |                 |                 | **HOST_NAME**   |
|                 |                 |                 | or **PATH**.    |
|                 |                 |                 |                 |
|                 |                 |                 | **HOST_NAME**   |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the domain name |
|                 |                 |                 | will be used    |
|                 |                 |                 | for matching,   |
|                 |                 |                 | and **PATH**    |
|                 |                 |                 | indicates that  |
|                 |                 |                 | the URL will be |
|                 |                 |                 | used for        |
|                 |                 |                 | matching.       |
|                 |                 |                 |                 |
|                 |                 |                 | The **type**    |
|                 |                 |                 | value must be   |
|                 |                 |                 | unique for each |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | in a forwarding |
|                 |                 |                 | policy.         |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple values |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *type           |
|                 |                 |                 | =xxx&type=xxx*. |
+-----------------+-----------------+-----------------+-----------------+
| enterp          | No              | Array           | Specifies the   |
| rise_project_id |                 |                 | enterprise      |
|                 |                 |                 | project ID.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    not passed,  |
|                 |                 |                 |    resources in |
|                 |                 |                 |    the default  |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project are  |
|                 |                 |                 |    queried, and |
|                 |                 |                 |                 |
|                 |                 |                 |  authentication |
|                 |                 |                 |    is performed |
|                 |                 |                 |    based on the |
|                 |                 |                 |    default      |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If this      |
|                 |                 |                 |    parameter is |
|                 |                 |                 |    passed, its  |
|                 |                 |                 |    value can be |
|                 |                 |                 |    the ID of an |
|                 |                 |                 |    existing     |
|                 |                 |                 |    enterprise   |
|                 |                 |                 |    project or   |
|                 |                 |                 |    **all        |
|                 |                 |                 | _granted_eps**. |
|                 |                 |                 |                 |
|                 |                 |                 | If the value is |
|                 |                 |                 | a specific ID,  |
|                 |                 |                 | resources in    |
|                 |                 |                 | the specific    |
|                 |                 |                 | enterprise      |
|                 |                 |                 | project are     |
|                 |                 |                 | required. If    |
|                 |                 |                 | the value is    |
|                 |                 |                 | **all           |
|                 |                 |                 | _granted_eps**, |
|                 |                 |                 | resources in    |
|                 |                 |                 | all enterprise  |
|                 |                 |                 | projects are    |
|                 |                 |                 | queried.        |
|                 |                 |                 |                 |
|                 |                 |                 | Multiple IDs    |
|                 |                 |                 | can be queried  |
|                 |                 |                 | in the format   |
|                 |                 |                 | of              |
|                 |                 |                 | *enterpri       |
|                 |                 |                 | se_project_id=x |
|                 |                 |                 | xx&enterprise_p |
|                 |                 |                 | roject_id=xxx*. |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

#. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| page_info             | Table 4-309 object    | Shows pagination      |
|                       |                       | information.          |
+-----------------------+-----------------------+-----------------------+
| rules                 | Array of Table 4-310  | Lists the forwarding  |
|                       | objects               | rules.                |
+-----------------------+-----------------------+-----------------------+

2. PageInfo

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| previous_marker       | String                | Specifies the ID of   |
|                       |                       | the first record in   |
|                       |                       | the pagination query  |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if no query  |
|                       |                       | result is returned.   |
+-----------------------+-----------------------+-----------------------+
| next_marker           | String                | Marks the start       |
|                       |                       | record on the next    |
|                       |                       | page in the           |
|                       |                       | pagination query      |
|                       |                       | result. This          |
|                       |                       | parameter will not be |
|                       |                       | returned if there is  |
|                       |                       | no next page.         |
+-----------------------+-----------------------+-----------------------+
| current_count         | Integer               | Specifies the number  |
|                       |                       | of records.           |
+-----------------------+-----------------------+-----------------------+

3. L7Rule

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule. The default     |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies how         |
|                       |                       | requests are matched  |
|                       |                       | with the domain name  |
|                       |                       | or URL.               |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    this parameter can |
|                       |                       |    only be set to     |
|                       |                       |    **EQUAL_TO**.      |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**, this  |
|                       |                       |    parameter can be   |
|                       |                       |    set to **REGEX**,  |
|                       |                       |    **STARTS_WITH**,   |
|                       |                       |    or **EQUAL_TO**.   |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | This parameter will   |
|                       |                       | not take effect when  |
|                       |                       | **type** is set to    |
|                       |                       | **HOST_NAME** or      |
|                       |                       | **PATH**. It can be   |
|                       |                       | updated but will not  |
|                       |                       | take effect.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | content. The value    |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**: A   |
|                       |                       |    domain name will   |
|                       |                       |    be used for        |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | -  **PATH**: A URL    |
|                       |                       |    will be used for   |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | If **type** is set to |
|                       |                       | **HOST_NAME**,        |
|                       |                       | **PATH**, **METHOD**, |
|                       |                       | or **SOURCE_IP**,     |
|                       |                       | only one forwarding   |
|                       |                       | rule can be created   |
|                       |                       | for each type.        |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       | For example, if a     |
|                       |                       | domain name is used   |
|                       |                       | for matching,         |
|                       |                       | **value** is the      |
|                       |                       | domain name.          |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    the value can      |
|                       |                       |    contain letters,   |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), and periods   |
|                       |                       |    (.) and must start |
|                       |                       |    with a letter or   |
|                       |                       |    digit. If you want |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH** and    |
|                       |                       |    **compare_type**   |
|                       |                       |    to **STARTS_WITH** |
|                       |                       |    or **EQUAL_TO**,   |
|                       |                       |    the value must     |
|                       |                       |    start with a slash |
|                       |                       |    (/) and can        |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported. The value  |
|                       |                       | is fixed at           |
|                       |                       | **false**. This       |
|                       |                       | parameter can be      |
|                       |                       | updated but remains   |
|                       |                       | invalid.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| conditions            | Array of Table 4-311  | Specifies the         |
|                       | objects               | matching conditions   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is specified,      |
|                       |                       |    **key** and        |
|                       |                       |    **value** will not |
|                       |                       |    take effect, and   |
|                       |                       |    the value of this  |
|                       |                       |    parameter will     |
|                       |                       |    contain all        |
|                       |                       |    conditions         |
|                       |                       |    configured for the |
|                       |                       |    forwarding rule.   |
|                       |                       |    The keys in the    |
|                       |                       |    list must be the   |
|                       |                       |    same, whereas each |
|                       |                       |    value must be      |
|                       |                       |    unique.            |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is not specified,  |
|                       |                       |    the values of      |
|                       |                       |    **key** and        |
|                       |                       |    **value** are      |
|                       |                       |    displayed.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. RuleCondition

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the key of  |
|                       |                       | match item. This      |
|                       |                       | parameter is left     |
|                       |                       | blank.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    domain name, which |
|                       |                       |    can contain 1 to   |
|                       |                       |    128 characters,    |
|                       |                       |    including letters, |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), periods (.),  |
|                       |                       |    and asterisks (*), |
|                       |                       |    and must start     |
|                       |                       |    with a letter,     |
|                       |                       |    digit, or asterisk |
|                       |                       |    (*). If you want   |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**,       |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    request path,      |
|                       |                       |    which can contain  |
|                       |                       |    1 to 128           |
|                       |                       |    characters. If     |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO** for   |
|                       |                       |    the forwarding     |
|                       |                       |    rule, the value    |
|                       |                       |    must start with a  |
|                       |                       |    slash (/) and can  |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be/rules

2. Example Responses

**Status code: 200**

Successful request.

| {
| "rules" : [ {
| "compare_type" : "STARTS_WITH",
| "provisioning_status" : "ACTIVE",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "invert" : false,
| "admin_state_up" : true,
| "value" : "/ccc.html",
| "type" : "PATH",
| "id" : "84f4fcae-9c15-4e19-a99f-72c0b08fd3d7"
| } ],
| "page_info" : {
| "previous_marker" : "84f4fcae-9c15-4e19-a99f-72c0b08fd3d7",
| "current_count" : 1
| },
| "request_id" : "ae4dbd7d-9271-4040-98b6-3bfe45bb15ee"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Viewing Details of a Forwarding Rule
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to view details of a forwarding rule.

6. URI

GET /v3/{project_id}/elb/l7policies/{l7policy_id}/rules/{l7rule_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy.         |
+-----------------+-----------------+-----------------+-----------------+
| l7rule_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| rule                  | Table 4-315 object    | Specifies the         |
|                       |                       | forwarding rule.      |
+-----------------------+-----------------------+-----------------------+

2. L7Rule

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule. The default     |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies how         |
|                       |                       | requests are matched  |
|                       |                       | with the domain name  |
|                       |                       | or URL.               |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    this parameter can |
|                       |                       |    only be set to     |
|                       |                       |    **EQUAL_TO**.      |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**, this  |
|                       |                       |    parameter can be   |
|                       |                       |    set to **REGEX**,  |
|                       |                       |    **STARTS_WITH**,   |
|                       |                       |    or **EQUAL_TO**.   |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | This parameter will   |
|                       |                       | not take effect when  |
|                       |                       | **type** is set to    |
|                       |                       | **HOST_NAME** or      |
|                       |                       | **PATH**. It can be   |
|                       |                       | updated but will not  |
|                       |                       | take effect.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | content. The value    |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**: A   |
|                       |                       |    domain name will   |
|                       |                       |    be used for        |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | -  **PATH**: A URL    |
|                       |                       |    will be used for   |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | If **type** is set to |
|                       |                       | **HOST_NAME**,        |
|                       |                       | **PATH**, **METHOD**, |
|                       |                       | or **SOURCE_IP**,     |
|                       |                       | only one forwarding   |
|                       |                       | rule can be created   |
|                       |                       | for each type.        |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       | For example, if a     |
|                       |                       | domain name is used   |
|                       |                       | for matching,         |
|                       |                       | **value** is the      |
|                       |                       | domain name.          |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    the value can      |
|                       |                       |    contain letters,   |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), and periods   |
|                       |                       |    (.) and must start |
|                       |                       |    with a letter or   |
|                       |                       |    digit. If you want |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH** and    |
|                       |                       |    **compare_type**   |
|                       |                       |    to **STARTS_WITH** |
|                       |                       |    or **EQUAL_TO**,   |
|                       |                       |    the value must     |
|                       |                       |    start with a slash |
|                       |                       |    (/) and can        |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported. The value  |
|                       |                       | is fixed at           |
|                       |                       | **false**. This       |
|                       |                       | parameter can be      |
|                       |                       | updated but remains   |
|                       |                       | invalid.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| conditions            | Array of Table 4-316  | Specifies the         |
|                       | objects               | matching conditions   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is specified,      |
|                       |                       |    **key** and        |
|                       |                       |    **value** will not |
|                       |                       |    take effect, and   |
|                       |                       |    the value of this  |
|                       |                       |    parameter will     |
|                       |                       |    contain all        |
|                       |                       |    conditions         |
|                       |                       |    configured for the |
|                       |                       |    forwarding rule.   |
|                       |                       |    The keys in the    |
|                       |                       |    list must be the   |
|                       |                       |    same, whereas each |
|                       |                       |    value must be      |
|                       |                       |    unique.            |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is not specified,  |
|                       |                       |    the values of      |
|                       |                       |    **key** and        |
|                       |                       |    **value** are      |
|                       |                       |    displayed.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. RuleCondition

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the key of  |
|                       |                       | match item. This      |
|                       |                       | parameter is left     |
|                       |                       | blank.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    domain name, which |
|                       |                       |    can contain 1 to   |
|                       |                       |    128 characters,    |
|                       |                       |    including letters, |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), periods (.),  |
|                       |                       |    and asterisks (*), |
|                       |                       |    and must start     |
|                       |                       |    with a letter,     |
|                       |                       |    digit, or asterisk |
|                       |                       |    (*). If you want   |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**,       |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    request path,      |
|                       |                       |    which can contain  |
|                       |                       |    1 to 128           |
|                       |                       |    characters. If     |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO** for   |
|                       |                       |    the forwarding     |
|                       |                       |    rule, the value    |
|                       |                       |    must start with a  |
|                       |                       |    slash (/) and can  |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| GET
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be/rules/84f4fcae-9c15-4e19-a99f-72c0b08fd3d7

2. Example Responses

**Status code: 200**

Successful request.

| {
| "rule" : {
| "compare_type" : "STARTS_WITH",
| "provisioning_status" : "ACTIVE",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "invert" : false,
| "admin_state_up" : true,
| "value" : "/ccc.html",
| "type" : "PATH",
| "id" : "84f4fcae-9c15-4e19-a99f-72c0b08fd3d7"
| },
| "request_id" : "0d799435-259e-459f-b2bc-0beee06f6a77"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _updating-a-forwarding-rule-1:

Updating a Forwarding Rule
~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to update a forwarding rule.

6. URI

PUT /v3/{project_id}/elb/l7policies/{l7policy_id}/rules/{l7rule_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+
| l7rule_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

2. Request body parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| rule            | Yes             | Table 4-320     | Specifies       |
|                 |                 | object          | request         |
|                 |                 |                 | parameters for  |
|                 |                 |                 | updating a      |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule.           |
+-----------------+-----------------+-----------------+-----------------+

3. UpdateL7RuleOption

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| admin_state_up  | No              | Boolean         | Specifies the   |
|                 |                 |                 | administrative  |
|                 |                 |                 | status of the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | rule. The       |
|                 |                 |                 | default value   |
|                 |                 |                 | is **true**.    |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+
| compare_type    | No              | String          | Specifies how   |
|                 |                 |                 | requests are    |
|                 |                 |                 | matched with    |
|                 |                 |                 | the domain name |
|                 |                 |                 | or URL.         |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can only be  |
|                 |                 |                 |    set to       |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    this         |
|                 |                 |                 |    parameter    |
|                 |                 |                 |    can be set   |
|                 |                 |                 |    to           |
|                 |                 |                 |    **REGEX**,   |
|                 |                 |                 |    *            |
|                 |                 |                 | *STARTS_WITH**, |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**. |
+-----------------+-----------------+-----------------+-----------------+
| invert          | No              | Boolean         | Specifies       |
|                 |                 |                 | whether reverse |
|                 |                 |                 | matching is     |
|                 |                 |                 | supported. The  |
|                 |                 |                 | value is fixed  |
|                 |                 |                 | at **false**.   |
|                 |                 |                 | This parameter  |
|                 |                 |                 | can be updated  |
|                 |                 |                 | but remains     |
|                 |                 |                 | invalid.        |
+-----------------+-----------------+-----------------+-----------------+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of the      |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if an  |
|                 |                 |                 | HTTP header is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **key** is the  |
|                 |                 |                 | name of the     |
|                 |                 |                 | HTTP header     |
|                 |                 |                 | parameter.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **255**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item. For |
|                 |                 |                 | example, if a   |
|                 |                 |                 | domain name is  |
|                 |                 |                 | used for        |
|                 |                 |                 | matching,       |
|                 |                 |                 | **value** is    |
|                 |                 |                 | the domain      |
|                 |                 |                 | name.           |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    and periods  |
|                 |                 |                 |    (.) and must |
|                 |                 |                 |    start with a |
|                 |                 |                 |    letter or    |
|                 |                 |                 |    digit. If    |
|                 |                 |                 |    you want to  |
|                 |                 |                 |    use a        |
|                 |                 |                 |    wildcard     |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH** and |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    to           |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |                 |
|                 |                 |                 |   **EQUAL_TO**, |
|                 |                 |                 |    the value    |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a slash |
|                 |                 |                 |    (/) and can  |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| conditions      | No              | Array of Table  | Specifies the   |
|                 |                 | 4-321 objects   | matching        |
|                 |                 |                 | conditions of   |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. This      |
|                 |                 |                 | parameter will  |
|                 |                 |                 | take effect     |
|                 |                 |                 | when            |
|                 |                 |                 | **enhance_l7    |
|                 |                 |                 | policy_enable** |
|                 |                 |                 | is set to       |
|                 |                 |                 | **true**.       |
|                 |                 |                 |                 |
|                 |                 |                 | If              |
|                 |                 |                 | **conditions**  |
|                 |                 |                 | is specified,   |
|                 |                 |                 | the values of   |
|                 |                 |                 | **key** and     |
|                 |                 |                 | **value** are   |
|                 |                 |                 | invalid, and    |
|                 |                 |                 | its value       |
|                 |                 |                 | contains all    |
|                 |                 |                 | conditions      |
|                 |                 |                 | configured for  |
|                 |                 |                 | the forwarding  |
|                 |                 |                 | rule. The keys  |
|                 |                 |                 | in the list     |
|                 |                 |                 | must be the     |
|                 |                 |                 | same, whereas   |
|                 |                 |                 | each value must |
|                 |                 |                 | be unique. Only |
|                 |                 |                 | full update is  |
|                 |                 |                 | supported.      |
|                 |                 |                 |                 |
|                 |                 |                 | This parameter  |
|                 |                 |                 | is unsupported. |
|                 |                 |                 | Please do not   |
|                 |                 |                 | use it.         |
+-----------------+-----------------+-----------------+-----------------+

1. UpdateRuleCondition

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| key             | No              | String          | Specifies the   |
|                 |                 |                 | key of match    |
|                 |                 |                 | item. This      |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank.     |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+
| value           | No              | String          | Specifies the   |
|                 |                 |                 | value of the    |
|                 |                 |                 | match item.     |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 |  **HOST_NAME**, |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the domain   |
|                 |                 |                 |    name, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters,  |
|                 |                 |                 |    including    |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits,      |
|                 |                 |                 |    hyphens (-), |
|                 |                 |                 |    periods (.), |
|                 |                 |                 |    and          |
|                 |                 |                 |    asterisks    |
|                 |                 |                 |    (*), and     |
|                 |                 |                 |    must start   |
|                 |                 |                 |    with a       |
|                 |                 |                 |    letter,      |
|                 |                 |                 |    digit, or    |
|                 |                 |                 |    asterisk     |
|                 |                 |                 |    (*). If you  |
|                 |                 |                 |    want to use  |
|                 |                 |                 |    a wildcard   |
|                 |                 |                 |    domain name, |
|                 |                 |                 |    enter an     |
|                 |                 |                 |    asterisk (*) |
|                 |                 |                 |    as the       |
|                 |                 |                 |    leftmost     |
|                 |                 |                 |    label of the |
|                 |                 |                 |    domain name. |
|                 |                 |                 |                 |
|                 |                 |                 | -  If **type**  |
|                 |                 |                 |    is set to    |
|                 |                 |                 |    **PATH**,    |
|                 |                 |                 |    **key** is   |
|                 |                 |                 |    left blank,  |
|                 |                 |                 |    and          |
|                 |                 |                 |    **value**    |
|                 |                 |                 |    indicates    |
|                 |                 |                 |    the request  |
|                 |                 |                 |    path, which  |
|                 |                 |                 |    can contain  |
|                 |                 |                 |    1 to 128     |
|                 |                 |                 |    characters.  |
|                 |                 |                 |    If           |
|                 |                 |                 |    *            |
|                 |                 |                 | *compare_type** |
|                 |                 |                 |    is set to    |
|                 |                 |                 |                 |
|                 |                 |                 | **STARTS_WITH** |
|                 |                 |                 |    or           |
|                 |                 |                 |    **EQUAL_TO** |
|                 |                 |                 |    for the      |
|                 |                 |                 |    forwarding   |
|                 |                 |                 |    rule, the    |
|                 |                 |                 |    value must   |
|                 |                 |                 |    start with a |
|                 |                 |                 |    slash (/)    |
|                 |                 |                 |    and can      |
|                 |                 |                 |    contain only |
|                 |                 |                 |    letters,     |
|                 |                 |                 |    digits, and  |
|                 |                 |                 |    special      |
|                 |                 |                 |    characters   |
|                 |                 |                 |                 |
|                 |                 |                 |   \_~';@^-%#&$. |
|                 |                 |                 | *+?,=!:|/()[]{} |
|                 |                 |                 |                 |
|                 |                 |                 | Minimum: **1**  |
|                 |                 |                 |                 |
|                 |                 |                 | Maximum:        |
|                 |                 |                 | **128**         |
+-----------------+-----------------+-----------------+-----------------+

#. Response Parameters

**Status code: 200**

1. Response body parameters

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| request_id            | String                | Specifies the request |
|                       |                       | ID. The value is      |
|                       |                       | automatically         |
|                       |                       | generated.            |
+-----------------------+-----------------------+-----------------------+
| rule                  | Table 4-323 object    | Specifies the         |
|                       |                       | forwarding rule.      |
+-----------------------+-----------------------+-----------------------+

2. L7Rule

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| admin_state_up        | Boolean               | Specifies the         |
|                       |                       | administrative status |
|                       |                       | of the forwarding     |
|                       |                       | rule. The default     |
|                       |                       | value is **true**.    |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+
| compare_type          | String                | Specifies how         |
|                       |                       | requests are matched  |
|                       |                       | with the domain name  |
|                       |                       | or URL.               |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    this parameter can |
|                       |                       |    only be set to     |
|                       |                       |    **EQUAL_TO**.      |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**, this  |
|                       |                       |    parameter can be   |
|                       |                       |    set to **REGEX**,  |
|                       |                       |    **STARTS_WITH**,   |
|                       |                       |    or **EQUAL_TO**.   |
+-----------------------+-----------------------+-----------------------+
| key                   | String                | Specifies the key of  |
|                       |                       | the match content.    |
|                       |                       | This parameter will   |
|                       |                       | not take effect when  |
|                       |                       | **type** is set to    |
|                       |                       | **HOST_NAME** or      |
|                       |                       | **PATH**. It can be   |
|                       |                       | updated but will not  |
|                       |                       | take effect.          |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **255**      |
+-----------------------+-----------------------+-----------------------+
| project_id            | String                | Specifies the project |
|                       |                       | ID.                   |
+-----------------------+-----------------------+-----------------------+
| type                  | String                | Specifies the match   |
|                       |                       | content. The value    |
|                       |                       | can be one of the     |
|                       |                       | following:            |
|                       |                       |                       |
|                       |                       | -  **HOST_NAME**: A   |
|                       |                       |    domain name will   |
|                       |                       |    be used for        |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | -  **PATH**: A URL    |
|                       |                       |    will be used for   |
|                       |                       |    matching.          |
|                       |                       |                       |
|                       |                       | If **type** is set to |
|                       |                       | **HOST_NAME**,        |
|                       |                       | **PATH**, **METHOD**, |
|                       |                       | or **SOURCE_IP**,     |
|                       |                       | only one forwarding   |
|                       |                       | rule can be created   |
|                       |                       | for each type.        |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       | For example, if a     |
|                       |                       | domain name is used   |
|                       |                       | for matching,         |
|                       |                       | **value** is the      |
|                       |                       | domain name.          |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    the value can      |
|                       |                       |    contain letters,   |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), and periods   |
|                       |                       |    (.) and must start |
|                       |                       |    with a letter or   |
|                       |                       |    digit. If you want |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH** and    |
|                       |                       |    **compare_type**   |
|                       |                       |    to **STARTS_WITH** |
|                       |                       |    or **EQUAL_TO**,   |
|                       |                       |    the value must     |
|                       |                       |    start with a slash |
|                       |                       |    (/) and can        |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| provisioning_status   | String                | Specifies the         |
|                       |                       | provisioning status   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | The value can only be |
|                       |                       | **ACTIVE**.           |
+-----------------------+-----------------------+-----------------------+
| invert                | Boolean               | Specifies whether     |
|                       |                       | reverse matching is   |
|                       |                       | supported. The value  |
|                       |                       | is fixed at           |
|                       |                       | **false**. This       |
|                       |                       | parameter can be      |
|                       |                       | updated but remains   |
|                       |                       | invalid.              |
|                       |                       |                       |
|                       |                       | Default: **false**    |
+-----------------------+-----------------------+-----------------------+
| id                    | String                | Specifies the         |
|                       |                       | forwarding policy ID. |
+-----------------------+-----------------------+-----------------------+
| conditions            | Array of Table 4-324  | Specifies the         |
|                       | objects               | matching conditions   |
|                       |                       | of the forwarding     |
|                       |                       | rule.                 |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is specified,      |
|                       |                       |    **key** and        |
|                       |                       |    **value** will not |
|                       |                       |    take effect, and   |
|                       |                       |    the value of this  |
|                       |                       |    parameter will     |
|                       |                       |    contain all        |
|                       |                       |    conditions         |
|                       |                       |    configured for the |
|                       |                       |    forwarding rule.   |
|                       |                       |    The keys in the    |
|                       |                       |    list must be the   |
|                       |                       |    same, whereas each |
|                       |                       |    value must be      |
|                       |                       |    unique.            |
|                       |                       |                       |
|                       |                       | -  If **conditions**  |
|                       |                       |    is not specified,  |
|                       |                       |    the values of      |
|                       |                       |    **key** and        |
|                       |                       |    **value** are      |
|                       |                       |    displayed.         |
|                       |                       |                       |
|                       |                       | This parameter is     |
|                       |                       | unsupported. Please   |
|                       |                       | do not use it.        |
+-----------------------+-----------------------+-----------------------+

1. RuleCondition

+-----------------------+-----------------------+-----------------------+
| Parameter             | Type                  | Description           |
+=======================+=======================+=======================+
| key                   | String                | Specifies the key of  |
|                       |                       | match item. This      |
|                       |                       | parameter is left     |
|                       |                       | blank.                |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+
| value                 | String                | Specifies the value   |
|                       |                       | of the match item.    |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **HOST_NAME**,  |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    domain name, which |
|                       |                       |    can contain 1 to   |
|                       |                       |    128 characters,    |
|                       |                       |    including letters, |
|                       |                       |    digits, hyphens    |
|                       |                       |    (-), periods (.),  |
|                       |                       |    and asterisks (*), |
|                       |                       |    and must start     |
|                       |                       |    with a letter,     |
|                       |                       |    digit, or asterisk |
|                       |                       |    (*). If you want   |
|                       |                       |    to use a wildcard  |
|                       |                       |    domain name, enter |
|                       |                       |    an asterisk (*) as |
|                       |                       |    the leftmost label |
|                       |                       |    of the domain      |
|                       |                       |    name.              |
|                       |                       |                       |
|                       |                       | -  If **type** is set |
|                       |                       |    to **PATH**,       |
|                       |                       |    **key** is left    |
|                       |                       |    blank, and         |
|                       |                       |    **value**          |
|                       |                       |    indicates the      |
|                       |                       |    request path,      |
|                       |                       |    which can contain  |
|                       |                       |    1 to 128           |
|                       |                       |    characters. If     |
|                       |                       |    **compare_type**   |
|                       |                       |    is set to          |
|                       |                       |    **STARTS_WITH** or |
|                       |                       |    **EQUAL_TO** for   |
|                       |                       |    the forwarding     |
|                       |                       |    rule, the value    |
|                       |                       |    must start with a  |
|                       |                       |    slash (/) and can  |
|                       |                       |    contain only       |
|                       |                       |    letters, digits,   |
|                       |                       |    and special        |
|                       |                       |    characters         |
|                       |                       |    \_~';@^            |
|                       |                       | -%#&$.*+?,=!:|/()[]{} |
|                       |                       |                       |
|                       |                       | Minimum: **1**        |
|                       |                       |                       |
|                       |                       | Maximum: **128**      |
+-----------------------+-----------------------+-----------------------+

#. Example Requests

| PUT
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be/rules/84f4fcae-9c15-4e19-a99f-72c0b08fd3d7
| {
| "rule" : {
| "compare_type" : "STARTS_WITH",
| "value" : "/ccc.html"
| }
| }

2. Example Responses

**Status code: 200**

Successful request.

| {
| "rule" : {
| "compare_type" : "STARTS_WITH",
| "provisioning_status" : "ACTIVE",
| "project_id" : "99a3fff0d03c428eac3678da6a7d0f24",
| "invert" : false,
| "admin_state_up" : true,
| "value" : "/ccc.html",
| "type" : "PATH",
| "id" : "84f4fcae-9c15-4e19-a99f-72c0b08fd3d7"
| },
| "request_id" : "133096f9-e754-430d-a2c2-e61fe1190aa8"
| }

3. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 200                               | Successful request.               |
+-----------------------------------+-----------------------------------+

4. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

.. _deleting-a-forwarding-rule-1:

Deleting a Forwarding Rule
~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Function

This API is used to delete a forwarding rule.

6. URI

DELETE /v3/{project_id}/elb/l7policies/{l7policy_id}/rules/{l7rule_id}

1. Path parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| project_id      | Yes             | String          | Specifies the   |
|                 |                 |                 | project ID.     |
+-----------------+-----------------+-----------------+-----------------+
| l7policy_id     | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding      |
|                 |                 |                 | policy ID.      |
+-----------------+-----------------+-----------------+-----------------+
| l7rule_id       | Yes             | String          | Specifies the   |
|                 |                 |                 | forwarding rule |
|                 |                 |                 | ID.             |
+-----------------+-----------------+-----------------+-----------------+

7. Request Parameters

   1. Request header parameters

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Mandatory       | Type            | Description     |
+=================+=================+=================+=================+
| X-Auth-Token    | Yes             | String          | Specifies the   |
|                 |                 |                 | token used for  |
|                 |                 |                 | IAM             |
|                 |                 |                 | authentication. |
+-----------------+-----------------+-----------------+-----------------+

8. Response Parameters

None

9. Example Requests

| DELETE
| https://{elb_endpoint}/v3/99a3fff0d03c428eac3678da6a7d0f24/elb/l7policies/cf4360fd-8631-41ff-a6f5-b72c35da74be/rules/84f4fcae-9c15-4e19-a99f-72c0b08fd3d7

10. Example Responses

None

11. Status Codes

+-----------------------------------+-----------------------------------+
| Status Code                       | Description                       |
+===================================+===================================+
| 204                               | Successful request.               |
+-----------------------------------+-----------------------------------+

12. Error Codes

See 6.3 HTTP Status Codes for Dedicated Load Balancers.

Examples
========

1. .. rubric:: Creating a Dedicated Load Balancer and Binding a New EIP
      to It
      :name: creating-a-dedicated-load-balancer-and-binding-a-new-eip-to-it

   #. Scenarios

Call APIs to create a dedicated load balancer and bind a new EIP to it.

2. Prerequisites

You have created a VPC and a subnet.

3. Procedure

1. Query the subnet you have created.

   a. Send **GET
      https://**\ *{vpc_endpoint}*\ **/v1/**\ *{project_id}*\ **/subnets**.
      *project_id* indicates the project ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. The request is successful if the following response is displayed:

| {
| "subnets": [
| {
| "id": "0535759e-8104-49d9-902c-a05185a94bdf", // Subnet ID
| "name": "subnet-001", // Subnet name
| "description": "",
| "cidr": "172.16.66.0/24", //IPv4 address range
| "dnsList": [
| "100.125.4.6"
| ],
| "status": "ACTIVE",
| "vpc_id": "44789a9f-3e80-451a-ac03-0818f99b6cdd", // VPC ID
| "ipv6_enable": true,
| "gateway_ip_v6": "2001:db8:a583:37c::1",
| "cidr_v6": "2001:db8:a583:37c::/64",
| "gateway_ip": "172.16.66.1",
| "dhcp_enable": true,
| "primary_dns": "100.125.4.6",
| "availability_zone": "eu-de-01", //AZ of the subnet
| "neutron_network_id": "0535759e-8104-49d9-902c-a05185a94bdf", //
  Network ID
| "neutron_subnet_id": "1492f0ba-cfce-4e2c-86f7-561d757dfeee", // IPv4
  subnet ID
| "neutron_subnet_id_v6": "3c052475-b50b-49b9-abb1-558bad45e592",
| "extra_dhcp_opts": [
| {
| "opt_value": "8760h",
| "opt_name": "addresstime"
| }
| ]
| }
| ]
| }

2. If the request is abnormal, locate the fault by referring to 6.3 HTTP
   Status Codes for Dedicated Load Balancers.

2. Create a dedicated load balancer and bind a new EIP to it.

   a. Send **POST
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elb/loadbalancers**.
      *project_id* indicates the project ID.

   b. Add **X-Auth-Token** to the request header.

   c. Ensure that the following parameters, including **publicip**, are
      passed in the request body:

| {
| "loadbalancer": {
| "vpc_id": "e5a892ff-3c33-44ef-ada5-b713eb1f7a8b",
| "availability_zone_list": [
| "br-iaas-odin1a"
| ],
| "admin_state_up": true,
| "vip_subnet_cidr_id": "1800b6b8-a69f-4719-813d-24d62aaf32bd",
| "name": "elb-ipv4",
| "publicip": {
| "network_type": "5_bgp",
| "bandwidth": {
| "size": 2,
| "share_type": "PER",
| "charge_mode": "bandwidth",
| "name": "elb_eip_bandwidth"
| }
| }
| }
| }

d. Check the response.

#. The request is successful if the following response is displayed:

| {
| "request_id": "21177eb184c52c5a4540c78dc7fdaee4",
| "loadbalancer": {
| "id": "a2556f92-3310-4173-a6d1-0b2d0bb68478",
| "project_id": "060576782980d5762f9ec014dd2f1148",
| "name": "elb-ipv4",
| "description": "",
| "vip_port_id": "fff961a9-4514-4469-84d4-a2bc4fbdfbeb",
| "vip_address": "192.168.0.162",
| "admin_state_up": true,
| "provisioning_status": "ACTIVE",
| "operating_status": "ONLINE",
| "listeners": [],
| "pools": [],
| "tags": [],
| "provider": "vlb",
| "created_at": "2021-02-23T08:50:19Z",
| "updated_at": "2021-02-23T08:50:19Z",
| "vpc_id": "e5a892ff-3c33-44ef-ada5-b713eb1f7a8b",
| "enterprise_project_id": "0",
| "availability_zone_list": [
| "br-iaas-odin1a"
| ],
| "ipv6_vip_address": null,
| "ipv6_vip_virsubnet_id": null,
| "ipv6_vip_port_id": null,
| "ipv6_bandwidth": null,
| "publicips": [
| {
| "publicip_id": "12cba100-764e-476c-bf3f-8aba98782cf5",
| "publicip_address": "10.246.173.188",
| "ip_version": 4
| }
| ],
| "elb_virsubnet_ids": [
| "4df3e391-5ebf-4300-b614-cf5a4e793666"
| ],
| "elb_virsubnet_type": "dualstack",
| "ip_target_enable": false,
| "frozen_scene": null,
| "eips": [
| {
| "eip_id": "12cba100-764e-476c-bf3f-8aba98782cf5",
| "eip_address": "10.246.173.188",
| "ip_version": 4
| }
| ],
| "guaranteed": true,
| "billing_info": null,
| "l4_flavor_id": null,
| "l4_scale_flavor_id": null,
| "l7_flavor_id": null,
| "l7_scale_flavor_id": null,
| "vip_subnet_cidr_id": "1800b6b8-a69f-4719-813d-24d62aaf32bd"
| }
| }

2. If the request is abnormal, locate the fault by referring to 6.3 HTTP
   Status Codes for Dedicated Load Balancers.

Adding a Listener to a Dedicated Load Balancer
----------------------------------------------

#. Scenarios

Call the API to add a listener to a dedicated load balancer.

2. Prerequisites

-  You have created a dedicated load balancer.

-  You have obtained the ID of the dedicated load balancer.

   #. Procedure

1. Add a listener.

   a. Send **POST
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elb/listeners**.
      *project_id* indicates the project ID.

   b. Add **X-Auth-Token** to the request header.

   c. Ensure that the following parameters are passed in the request
      body:

| {
| "listener": {
| "protocol_port": 80, // Frontend port. The listener will use this port
  to receive requests.
| "protocol": "HTTP", // Frontend protocol. The listener will use this
  protocol to receive requests.
| "loadbalancer_id": "f77281cb-9f58-4347-8f82-2180d8bea789", // Load
  balancer that the listener is added to
| "name": "my_listener" // Listener name
| }
| }

d. Check the response.

#. The request is successful if the following response is displayed:

| {
| "listener": {
| "id": "90ad2705-4ffd-43d3-8f75-af8086bde841",
| "name": "my_listener",
| "protocol_port": 80,
| "protocol": "HTTP",
| "description": "",
| "default_tls_container_ref": null,
| "admin_state_up": true,
| "loadbalancers": [
| {
| "id": "f77281cb-9f58-4347-8f82-2180d8bea789"
| }
| ],
| "client_ca_tls_container_ref": null,
| "project_id": "057ef081eb00d2732fd1c01a9be75e6f",
| "sni_container_refs": [],
| "connection_limit": -1,
| "default_pool_id": null,
| "tls_ciphers_policy": null,
| "tags": [],
| "created_at": "2020-11-21T03:09:13Z",
| "updated_at": "2020-11-21T03:09:13Z",
| "http2_enable": false,
| "insert_headers": {
| "X-Forwarded-ELB-IP": false,
| "X-Forwarded-Host": true,
| "X-Forwarded-For-Port": false,
| "X-Forwarded-Port": false
| },
| "member_timeout": 60,
| "client_timeout": 60,
| "keepalive_timeout": 60,
| "ipgroup": null,
| "enable_member_retry": true,
| "transparent_client_ip_enable": true
| },
| "request_id": "fcd61ee6a6a6c673c65fa0df0577fed9"
| }

2. If the request is abnormal, locate the fault by referring to 6.3 HTTP
   Status Codes for Dedicated Load Balancers.

Deleting a Dedicated Load Balancer
----------------------------------

#. Scenarios

Call APIs to delete a dedicated load balancer.

Before you delete a dedicated load balancer, delete all resources
associated with it. Figure 5-1 shows the associated resources.

1. Resources associated with a dedicated load balancer

.. image:: media/image3.png

2. Procedure

Perform the following steps to delete the associated resources and the
load balancer. Skip the corresponding step if the associated resources
do not exist. For example, you can skip
`1 <#elb_eg_v3_0003_mMcCpPsS_li693163653915>`__ if no health check is
configured.

1. Delete the health check configured for each associated backend server
   group.

   a. Send **DELETE
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elb/healthmonitors/**\ *{healthmonitor_id}*.
      *project_id* indicates the project ID, and *healthmonitor_id*
      indicates the health check ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. If the request is successful, 204 is returned, and the response
      body is empty.

   #. If the request is abnormal, locate the fault by referring to 6.3
      HTTP Status Codes for Dedicated Load Balancers.

2. Remove backend servers from each associated backend server group.

   a. Send **DELETE
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elb/pools/**\ *{pool_id}*\ **/members/**\ *{member_id}*.
      *project_id* indicates the project ID, *pool_id* indicates the
      backend server group ID, and **member_id** indicates the backend
      server ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. If the request is successful, 204 is returned, and the response
      body is empty.

   #. If the request is abnormal, locate the fault by referring to 6.3
      HTTP Status Codes for Dedicated Load Balancers.

3. Delete each associated backend server group.

   a. Send **DELETE
      https://**\ *{elb_endpoint}*\ **/v3/{project_id}/elb/pools/**\ *{pool_id}*.
      *project_id* indicates the project ID, and *pool_id* indicates the
      backend server group ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. If the request is successful, 204 is returned, and the response
      body is empty.

   #. If the request is abnormal, locate the fault by referring to 6.3
      HTTP Status Codes for Dedicated Load Balancers.

4. Delete the forwarding rules added to each listener.

   a. Send **DELETE
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elb/l7policies/**\ *{policy_id}*\ **/rules/**\ *{rule_id}*.
      *project_id* indicates the project ID, *policy_id* indicates the
      forwarding policy ID, and *rule_id* indicates the forwarding rule
      ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. If the request is successful, 204 is returned, and the response
      body is empty.

   #. If the request is abnormal, locate the fault by referring to 6.3
      HTTP Status Codes for Dedicated Load Balancers.

5. Delete the forwarding policies added to each listener.

   a. Send **DELETE
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elb/l7policies/**\ *{policy_id}*.
      *project_id* indicates the project ID, and *policy_id* indicates
      the forwarding policy ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. If the request is successful, 204 is returned, and the response
      body is empty.

   #. If the request is abnormal, locate the fault by referring to 6.3
      HTTP Status Codes for Dedicated Load Balancers.

6. Delete each listener added to the load balancer.

   a. Send **DELETE
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elb/listeners/**\ *{listener_id}*.
      *project_id* indicates the project ID, and *listener_id* indicates
      the listener ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. If the request is successful, 204 is returned, and the response
      body is empty.

   #. If the request is abnormal, locate the fault by referring to 6.3
      HTTP Status Codes for Dedicated Load Balancers.

7. Delete the load balancer.

   a. Send **DELETE
      https://**\ *{elb_endpoint}*\ **/v3/**\ *{project_id}*\ **/elbloadbalancers/**\ *{loadbalancer_id}*.
      *project_id* indicates the project ID, and *loadbalancer_id*
      indicates the load balancer ID.

   b. Add **X-Auth-Token** to the request header.

   c. Check the response.

   #. If the request is successful, 204 is returned, and the response
      body is empty.

   #. If the request is abnormal, locate the fault by referring to 6.3
      HTTP Status Codes for Dedicated Load Balancers.

Common Parameters
=================

Error Codes
-----------

The following error code descriptions are only suitable for classic load
balancers.

#. Overview

If an error occurs when using an API, an error response will be
returned, which contains the error code and a piece of message, as shown
in the following example. The following table lists error codes and
their descriptions.

2. Example of Returned Error Information

| {
| "error":
| {
| "message": *"listener exist, the port repeat"*,
| "code": *"ELB.6101"*
| }
| }

3. Error Codes

   1. Error codes

+-------------+-------------+-------------+-------------+-------------+
| Status Code | Error Code  | Message     | Description | Solution    |
+=============+=============+=============+=============+=============+
| 400         | ELB.0002    | Api request | The request | Correct the |
|             |             | is null.    | is empty.   | parameter   |
|             |             |             |             | settings    |
|             |             |             |             | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.0004    | Api         | The         | Check       |
|             |             | response is | response is | whether the |
|             |             | null or     | empty.      | backend ECS |
|             |             | invaild.    |             | is running  |
|             |             |             |             | properly    |
|             |             |             |             | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.0230    | Tenant_id   | The project | Correct the |
|             |             | is empty.   | ID is left  | project ID  |
|             |             |             | blank.      | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1000    | The         | The URL     | Correct the |
|             |             | l           | length      | URL and     |
|             |             | oadbalancer | exceeds the | deliver the |
|             |             | URL is too  | limit.      | request     |
|             |             | long.       |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1010    | Query elb   | Failed to   | Contact     |
|             |             | quota       | query the   | customer    |
|             |             | error.      | quota.      | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1020    | Lb ID is    | Incorrect   | Correct the |
|             |             | not         | load        | parameter   |
|             |             | correct.    | balancer    | settings    |
|             |             |             | ID.         | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1030    | Lb url is   | Incorrect   | Correct the |
|             |             | not         | load        | URL and     |
|             |             | correct.    | balancer    | deliver the |
|             |             |             | URL.        | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1001    | Request     | Parameter   | Correct the |
|             |             | parameters  | **type**,   | parameter   |
|             |             | error,      | **name**,   | settings    |
|             |             | private_key | or          | and deliver |
|             |             | or          | **admin_    | the request |
|             |             | certificate | status_up** | again.      |
|             |             | is nil or   | is left     |             |
|             |             | empty.      | blank.      |             |
|             |             |             |             |             |
|             |             | Request     |             |             |
|             |             | parameters  |             |             |
|             |             | error, lb   |             |             |
|             |             | type, name, |             |             |
|             |             | adm         |             |             |
|             |             | in_state_up |             |             |
|             |             | one of them |             |             |
|             |             | is empty.   |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1001    | Request     | The length  | Change the  |
|             |             | parameter   | of the load | name and    |
|             |             | is not      | balancer    | deliver the |
|             |             | valid.      | name        | request     |
|             |             |             | exceeds the | again.      |
|             |             |             | limit.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1021    | Request     | Invalid     | Change the  |
|             |             | parameters  | load        | name and    |
|             |             | error, name | balancer    | deliver the |
|             |             | invalid.    | name.       | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1031    | Request     | The length  | Change the  |
|             |             | parameters  | of the load | description |
|             |             | error, lb   | balancer    | and deliver |
|             |             | len         | description | the request |
|             |             | description | exceeds the | again.      |
|             |             | too long.   | limit.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1041    | Request     | Invalid     | Correct the |
|             |             | parameters  | load        | parameter   |
|             |             | error, lb   | balancer    | setting and |
|             |             | type is not | type.       | deliver the |
|             |             | valid.      |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1051    | Request     | Invalid     | Correct the |
|             |             | parameters  | load        | parameter   |
|             |             | error, lb   | balancer    | setting and |
|             |             | bandwidth   | bandwidth.  | deliver the |
|             |             | is not      |             | request     |
|             |             | valid.      |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 4000        | ELB.1061    | Request     | The         | Correct the |
|             |             | parameters  | floating IP | parameter   |
|             |             | error, lb   | address or  | setting and |
|             |             | vip_address | subnet ID   | deliver the |
|             |             | and         | is left     | request     |
|             |             | vi          | blank.      | again.      |
|             |             | p_subnet_id |             |             |
|             |             | are nil.    |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1071    | Request     | Invalid     | Correct the |
|             |             | parameters  | floating IP | parameter   |
|             |             | error, lb   | address.    | setting and |
|             |             | vip_address |             | deliver the |
|             |             | is not      |             | request     |
|             |             | valid.      |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1081    | Request     | The VPC ID  | Correct the |
|             |             | parameters  | is left     | parameter   |
|             |             | error, lb   | blank.      | setting and |
|             |             | vpc_id is   |             | deliver the |
|             |             | empty.      |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 403         | ELB.1091    | Lb number   | The number  | Increase    |
|             |             | larger than | of load     | the quota   |
|             |             | quota.      | balancers   | or delete   |
|             |             |             | exceeds the | unnecessary |
|             |             |             | quota.      | load        |
|             |             |             |             | balancers,  |
|             |             |             |             | and then    |
|             |             |             |             | deliver the |
|             |             |             |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1101    | Vip address | The         | Enter       |
|             |             | is exist.   | floating IP | another     |
|             |             |             | address     | floating IP |
|             |             |             | exists.     | address and |
|             |             |             |             | deliver the |
|             |             |             |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 404         | ELB.1002    | Find lb     | The load    | Change the  |
|             |             | failed.     | balancer    | load        |
|             |             |             | does not    | balancer ID |
|             |             |             | exist.      | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1008    | There is at | Failed to   | Correct the |
|             |             | least one   | delete the  | parameter   |
|             |             | member      | load        | setting and |
|             |             | under the   | balancer.   | deliver the |
|             |             | lb.         |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1018    | There is at | The load    | Correct the |
|             |             | least one   | balancer    | parameter   |
|             |             | member      | has backend | setting and |
|             |             | under the   | ECSs added. | deliver the |
|             |             | lb.         |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1005    | Update      | Failed to   | Check the   |
|             |             | request     | modify the  | parameters  |
|             |             | paramters   | load        | and deliver |
|             |             | error.      | balancer.   | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1015    | Lb can not  | The load    | Check the   |
|             |             | be updated. | balancer    | parameters  |
|             |             |             | cannot be   | and deliver |
|             |             |             | modified.   | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1025    | Udpate      | The length  | Change the  |
|             |             | request     | of the load | name and    |
|             |             | parameters  | balancer    | deliver the |
|             |             | error, name | name        | request     |
|             |             | is too      | exceeds the | again.      |
|             |             | long.       | limit.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1035    | Update      | Invalid     | Change the  |
|             |             | request     | load        | name and    |
|             |             | parameters  | balancer    | deliver the |
|             |             | error, name | name.       | request     |
|             |             | is not      |             | again.      |
|             |             | valid.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1045    | Update      | The length  | Change the  |
|             |             | request     | of the load | description |
|             |             | parameters  | balancer    | and deliver |
|             |             | error,      | description | the request |
|             |             | description | exceeds the | again.      |
|             |             | too long.   | limit.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1003    | Lb not      | The load    | Check the   |
|             |             | exist.      | balancer    | load        |
|             |             |             | does not    | balancer    |
|             |             |             | exist.      | ID.         |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1004    | Query       | Invalid     | Change the  |
|             |             | condition   | query       | query       |
|             |             | is not      | condition.  | condition   |
|             |             | valid.      |             | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6000    | Listener ID | The length  | Change the  |
|             |             | length is   | of the      | listener ID |
|             |             | not         | listener ID | and deliver |
|             |             | correct.    | exceeds the | the request |
|             |             |             | limit.      | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6010    | Listener ID | Invalid     | Change the  |
|             |             | content is  | listener    | listener ID |
|             |             | not         | ID.         | and deliver |
|             |             | correct.    |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6030    | Listener is | The         | Check the   |
|             |             | not         | listener    | listener ID |
|             |             | associated  | does not    | and deliver |
|             |             | with        | belong to   | the request |
|             |             | l           | any load    | again.      |
|             |             | oadbalancer | balancer.   |             |
|             |             | id.         |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6040    | The         | The load    | Check the   |
|             |             | loadbalaner | balancer to | load        |
|             |             | that the    | which the   | balancer    |
|             |             | listener    | listener is | ID.         |
|             |             | belongs to  | added does  |             |
|             |             | is not      | not exist.  |             |
|             |             | exist.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6020    | Listener    | Incorrect   | Correct the |
|             |             | url is not  | listener    | URL and     |
|             |             | correct.    | URL.        | deliver the |
|             |             |             |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6001    | Request     | A mandatory | Specify the |
|             |             | parameters  | parameter   | mandatory   |
|             |             | error,      | is left     | parameter   |
|             |             | "           | blank.      | and deliver |
|             |             | ..nilKey.." |             | the request |
|             |             | is nil.     |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6011    | Request     | The length  | Change the  |
|             |             | parameters  | of the      | name and    |
|             |             | error,      | listener    | deliver the |
|             |             | listener    | name        | request     |
|             |             | name too    | exceeds the | again.      |
|             |             | long.       | limit.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6021    | Request     | Invalid     | Change the  |
|             |             | parameters  | listener    | name and    |
|             |             | error,      | name.       | deliver the |
|             |             | listener    |             | request     |
|             |             | name is not |             | again.      |
|             |             | valid.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6031    | Request     | The length  | Change the  |
|             |             | parameters  | of the      | description |
|             |             | error,      | listener    | and deliver |
|             |             | listener    | description | the request |
|             |             | len         | exceeds the | again.      |
|             |             | description | limit.      |             |
|             |             | too long.   |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6041    | Request     | Invalid     | Change the  |
|             |             | parameters  | port        | port number |
|             |             | error,      | number.     | and deliver |
|             |             | listener    |             | the request |
|             |             | port is not |             | again.      |
|             |             | in 1 ~      |             |             |
|             |             | 65535.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6051    | Request     | Invalid     | Change the  |
|             |             | parameters  | load        | load        |
|             |             | error,      | balancing   | balancing   |
|             |             | listener lb | algorithm.  | algorithm   |
|             |             | algorithm   |             | and deliver |
|             |             | is not      |             | the request |
|             |             | valid.      |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6061    | Request     | Invalid     | Change the  |
|             |             | parameters  | protocol    | protocol    |
|             |             | error,      | used by the | used by the |
|             |             | listener    | listener.   | listener    |
|             |             | protocol is |             | and deliver |
|             |             | not valid.  |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6071    | Request     | Invalid     | Change the  |
|             |             | parameters  | backend ECS | backend ECS |
|             |             | error,      | protocol.   | protocol    |
|             |             | listener    |             | and deliver |
|             |             | backend     |             | the request |
|             |             | protocol is |             | again.      |
|             |             | not valid.  |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6081    | Request     | Invalid     | Check the   |
|             |             | parameters  | sticky      | load        |
|             |             | error,      | session     | balancer    |
|             |             | listener    | type.       | ID.         |
|             |             | sticky_s    |             |             |
|             |             | ession_type |             |             |
|             |             | is not      |             |             |
|             |             | valid.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 403         | ELB.6091    | Request lb  | The number  | No more     |
|             |             | has more    | of          | listeners   |
|             |             | than user   | listeners   | can be      |
|             |             | listener    | reaches the | added.      |
|             |             | quota.      | limit.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6101    | Listener    | The port    | Change the  |
|             |             | port is     | exists.     | port number |
|             |             | repeated.   |             | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 503         | ELB.6002    | Delete      | The         | Check the   |
|             |             | listener    | listener    | listener    |
|             |             | failed,     | does not    | ID.         |
|             |             | listener    | exist.      |             |
|             |             | does not    |             |             |
|             |             | exist.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6015    | This        | The         | Select a    |
|             |             | listener    | property    | property    |
|             |             | property    | cannot be   | that can be |
|             |             | cannot be   | modified.   | modified.   |
|             |             | updated     |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6025    | Udpate      | The length  | Change the  |
|             |             | request     | of the      | name and    |
|             |             | parameters  | listener    | deliver the |
|             |             | error,      | name        | request     |
|             |             | listener    | exceeds the | again.      |
|             |             | len name    | limit.      |             |
|             |             | too long.   |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6035    | Udpate      | Invalid     | Change the  |
|             |             | request     | listener    | name and    |
|             |             | parameters  | name.       | deliver the |
|             |             | error,      |             | request     |
|             |             | listener    |             | again.      |
|             |             | name is not |             |             |
|             |             | valid.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6045    | Update      | The length  | Change the  |
|             |             | request     | of the      | description |
|             |             | parameters  | listener    | and deliver |
|             |             | error,      | description | the request |
|             |             | listener    | exceeds the | again.      |
|             |             | len         | limit.      |             |
|             |             | description |             |             |
|             |             | too long.   |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6003    | Listener    | Invalid     | Change the  |
|             |             | query       | query       | query       |
|             |             | condition   | condition.  | condition   |
|             |             | is not      |             | and deliver |
|             |             | valid.      |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2000    | Member url  | Incorrect   | Correct the |
|             |             | is not      | backend ECS | URL and     |
|             |             | correct.    | URL.        | deliver the |
|             |             |             |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2003    | Query       | Failed to   | Contact     |
|             |             | member      | query the   | customer    |
|             |             | failed.     | backend     | service.    |
|             |             |             | ECS.        |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2005    | Update      | Failed to   | Contact     |
|             |             | member      | update the  | customer    |
|             |             | failed.     | backend     | service.    |
|             |             |             | ECS.        |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2010    | Member      | The length  | Change the  |
|             |             | listener ID | of the      | listener ID |
|             |             | length is   | listener ID | and deliver |
|             |             | not         | exceeds the | the request |
|             |             | correct.    | limit.      | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2020    | Member      | Incorrect   | Change the  |
|             |             | listener ID | listener    | listener ID |
|             |             | content is  | ID.         | and deliver |
|             |             | not         |             | the request |
|             |             | correct.    |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 403         | ELB.2001    | Create      | Failed to   | Check the   |
|             |             | member      | add the ECS | maximum     |
|             |             | failed, the | because the | number of   |
|             |             | total       | number of   | ECSs that   |
|             |             | amount of   | backend     | can be      |
|             |             | members     | ECSs        | added and   |
|             |             | exceeds the | reaches the | deliver the |
|             |             | system      | limit.      | request     |
|             |             | setting.    |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2011    | Add member  | The         | Ensure that |
|             |             | listener is | listener    | the         |
|             |             | not exist.  | does not    | listener    |
|             |             |             | exist.      | exists and  |
|             |             |             |             | deliver the |
|             |             |             |             | request     |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2021    | Request     | Invalid     | Check the   |
|             |             | parameters  | address.    | address and |
|             |             | error,      |             | deliver the |
|             |             | member      |             | request     |
|             |             | address is  |             | again.      |
|             |             | null.       |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2002    | Delete      | Incorrect   | Check the   |
|             |             | member      | parameters. | parameters  |
|             |             | input param |             | and deliver |
|             |             | error.      |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.2012    | This member | The backend | Ensure that |
|             |             | is not      | ECS does    | the backend |
|             |             | exist.      | not exist.  | ECS exists  |
|             |             |             |             | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7000    | Listener_id | The         | Change the  |
|             |             | must not be | listener ID | listener ID |
|             |             | null.       | is left     | and deliver |
|             |             |             | blank.      | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7010    | Healthcheck | The         | Change the  |
|             |             | listener is | listener    | listener ID |
|             |             | not exist.  | with which  | and deliver |
|             |             |             | the health  | the request |
|             |             |             | check is    | again.      |
|             |             |             | associated  |             |
|             |             |             | does not    |             |
|             |             |             | exist.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7020    | This        | The health  | Change the  |
|             |             | healthcheck | check does  | health      |
|             |             | is not      | not exist.  | check ID    |
|             |             | exist.      |             | and deliver |
|             |             |             |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7001    | Healthche   | Invalid     | Change the  |
|             |             | ck_interval | health      | interval    |
|             |             | is illegal. | check       | and deliver |
|             |             |             | interval.   | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7002    | Healthcheck | Invalid     | Change the  |
|             |             | delete      | query       | query       |
|             |             | condition   | condition.  | condition   |
|             |             | is not      |             | and deliver |
|             |             | valid.      |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7001    | Healthcheck | Invalid     | Change the  |
|             |             | update      | query       | query       |
|             |             | condition   | condition.  | condition   |
|             |             | is not      |             | and deliver |
|             |             | valid.      |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7004    | Healthcheck | Invalid     | Change the  |
|             |             | query       | query       | query       |
|             |             | condition   | condition.  | condition   |
|             |             | is not      |             | and deliver |
|             |             | valid.      |             | the request |
|             |             |             |             | again.      |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.7014    | Healthcheck | The health  | Check the   |
|             |             | co          | check does  | health      |
|             |             | nfiguration | not exist.  | check ID.   |
|             |             | not exist.  |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.8001    | Create a SG | Failed to   | Contact     |
|             |             | error.      | create the  | customer    |
|             |             |             | security    | service.    |
|             |             |             | group.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.8101    | Create VPC  | Failed to   | Contact     |
|             |             | error.      | create the  | customer    |
|             |             |             | VPC.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.8102    | Delete VPC  | Failed to   | Contact     |
|             |             | error.      | delete the  | customer    |
|             |             |             | VPC.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.8103    | Query VPC   | Failed to   | Contact     |
|             |             | error.      | query the   | customer    |
|             |             |             | VPC.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.8201    | Create      | Failed to   | Contact     |
|             |             | subnet      | create the  | customer    |
|             |             | error.      | subnet.     | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.8202    | Delete      | Failed to   | Contact     |
|             |             | subnet      | delete the  | customer    |
|             |             | error.      | subnet.     | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.8203    | Query       | Failed to   | Contact     |
|             |             | subnet      | query the   | customer    |
|             |             | error.      | subnet.     | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9001    | Interval    | Failed to   | Contact     |
|             |             | ELB create  | add the     | customer    |
|             |             | VM error.   | ECS.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9002    | Internal    | Failed to   | Contact     |
|             |             | ELB delete  | delete the  | customer    |
|             |             | VM error.   | ECS.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9003    | Internal    | Failed to   | Contact     |
|             |             | ELB query   | query ECS   | customer    |
|             |             | VM error.   | details.    | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9006    | Internal    | Failed to   | Contact     |
|             |             | ELB update  | update the  | customer    |
|             |             | port fail.  | port        | service.    |
|             |             |             | configured  |             |
|             |             |             | on the ECS  |             |
|             |             |             | data plane. |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9007    | Intenal ELB | Failed to   | Contact     |
|             |             | bind port   | bind the    | customer    |
|             |             | fail.       | port        | service.    |
|             |             |             | configured  |             |
|             |             |             | on the ECS  |             |
|             |             |             | data plane. |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9061    | Internal    | Failed to   | Contact     |
|             |             | ELB query   | query the   | customer    |
|             |             | topic fail. | SMN topic.  | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9062    | Internal    | Failed to   | Contact     |
|             |             | ELB create  | create the  | customer    |
|             |             | topic fail. | SMN topic.  | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9063    | Internal    | Failed to   | Contact     |
|             |             | ELB query   | query the   | customer    |
|             |             | s           | SMN         | service.    |
|             |             | ubscription | su          |             |
|             |             | fail.       | bscription. |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9064    | Internal    | Failed to   | Contact     |
|             |             | ELB create  | create the  | customer    |
|             |             | s           | SMN         | service.    |
|             |             | ubscription | su          |             |
|             |             | fail.       | bscription. |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9023    | Internal    | Failed to   | Contact     |
|             |             | ELB get     | query the   | customer    |
|             |             | image       | image.      | service.    |
|             |             | error.      |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9033    | Internal    | Failed to   | Contact     |
|             |             | ELB get     | query ECS   | customer    |
|             |             | flavour     | spec        | service.    |
|             |             | error.      | ifications. |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.9043    | Internal    | Failed to   | Contact     |
|             |             | ELB get     | query the   | customer    |
|             |             | interface   | API bound   | service.    |
|             |             | error.      | to the ECS. |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1007    | Query       | Failed to   | Contact     |
|             |             | internal    | query       | customer    |
|             |             | ELB error.  | details of  | service.    |
|             |             |             | the private |             |
|             |             |             | network     |             |
|             |             |             | load        |             |
|             |             |             | balancer.   |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1012    | Create      | Failed to   | Contact     |
|             |             | tenant      | create the  | customer    |
|             |             | resource    | r           | service.    |
|             |             | relation    | elationship |             |
|             |             | error.      | between     |             |
|             |             |             | resources   |             |
|             |             |             | and the     |             |
|             |             |             | user.       |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1013    | Update      | Failed to   | Contact     |
|             |             | resource    | modify the  | customer    |
|             |             | tenant      | quota of a  | service.    |
|             |             | allocation  | resource    |             |
|             |             | failed,     | because the |             |
|             |             | cloud eye   | quota set   |             |
|             |             | warning     | in the      |             |
|             |             | rule        | Cloud Eye   |             |
|             |             | exceeds.    | alarm rule  |             |
|             |             |             | is too      |             |
|             |             |             | large.      |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1014    | Query       | Failed to   | Contact     |
|             |             | resouce     | query the   | customer    |
|             |             | tenant      | r           | service.    |
|             |             | relation    | elationship |             |
|             |             | failed.     | between     |             |
|             |             |             | resources   |             |
|             |             |             | and the     |             |
|             |             |             | user.       |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1102    | Token       | Invalid     | Contact     |
|             |             | invalid     | token.      | customer    |
|             |             |             |             | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1103    | Token       | Invalid     | Contact     |
|             |             | invalid     | token.      | customer    |
|             |             |             |             | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1104    | Token       | Invalid     | Contact     |
|             |             | invalid     | token.      | customer    |
|             |             |             |             | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1105    | Token       | Invalid     | Contact     |
|             |             | invalid     | token.      | customer    |
|             |             |             |             | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1109    | Aut         | Real-name   | Contact     |
|             |             | hentication | aut         | customer    |
|             |             | failed.     | hentication | service.    |
|             |             |             | failed.     |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.1201    | Get Token   | Failed to   | Contact     |
|             |             | failed      | obtain the  | customer    |
|             |             |             | token.      | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.3001    | Create      | Failed to   | Contact     |
|             |             | floating IP | assign the  | customer    |
|             |             | failed.     | floating IP | service.    |
|             |             |             | address.    |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.3002    | Delete      | Failed to   | Contact     |
|             |             | floating IP | release the | customer    |
|             |             | failed.     | floating IP | service.    |
|             |             |             | address.    |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.3003    | Query       | Failed to   | Contact     |
|             |             | floating IP | query the   | customer    |
|             |             | failed.     | floating IP | service.    |
|             |             |             | address.    |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.3004    | Query       | Failed to   | Contact     |
|             |             | floating IP | query       | customer    |
|             |             | list        | floating IP | service.    |
|             |             | failed.     | addresses.  |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.3005    | Update      | Failed to   | Contact     |
|             |             | floating IP | update the  | customer    |
|             |             | failed.     | floating IP | service.    |
|             |             |             | address.    |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.4001    | Create      | Failed to   | Contact     |
|             |             | elastic IP  | assign the  | customer    |
|             |             | failed.     | EIP.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.4002    | Delete      | Failed to   | Contact     |
|             |             | elastic IP  | release the | customer    |
|             |             | failed.     | EIP.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.4003    | Query       | Failed to   | Contact     |
|             |             | elastic IP  | query the   | customer    |
|             |             | failed.     | EIP.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.4004    | Query       | Failed to   | Contact     |
|             |             | elastic IP  | query EIPs. | customer    |
|             |             | list        |             | service.    |
|             |             | failed.     |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.4005    | Update      | Failed to   | Contact     |
|             |             | elastic IP  | update the  | customer    |
|             |             | failed.     | EIP.        | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.5003    | Query       | Failed to   | Contact     |
|             |             | bandwidth   | query the   | customer    |
|             |             | failed.     | bandwidth.  | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.5005    | Update      | Failed to   | Contact     |
|             |             | bandwidth   | update the  | customer    |
|             |             | failed.     | bandwidth.  | service.    |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6004    | Query       | Failed to   | Contact     |
|             |             | listeners   | query       | customer    |
|             |             | list        | listeners.  | service.    |
|             |             | failed.     |             |             |
+-------------+-------------+-------------+-------------+-------------+
| 400         | ELB.6006    | Query ECS   | Failed to   | Contact     |
|             |             | failed.     | query the   | customer    |
|             |             |             | ECS.        | service.    |
+-------------+-------------+-------------+-------------+-------------+

HTTP Status Codes of Shared Load Balancers
------------------------------------------

The following code descriptions are only suitable for shared load
balancers.

2. Normal response codes

+-----------------------+-----------------------+-----------------------+
| Status Code           | Type                  | Description           |
+=======================+=======================+=======================+
| 200                   | OK                    | Normal response to    |
|                       |                       | GET and PUT requests. |
+-----------------------+-----------------------+-----------------------+
| 201                   | Created               | Normal response to    |
|                       |                       | POST requests.        |
+-----------------------+-----------------------+-----------------------+
| 204                   | No Content            | Normal response to    |
|                       |                       | DELETE requests.      |
+-----------------------+-----------------------+-----------------------+

3. Error codes

+-----------------------+-----------------------+-----------------------+
| Status Code           | Type                  | Possible Cause        |
+=======================+=======================+=======================+
| 400                   | Bad request           | Malformed request URI |
|                       |                       | or body.              |
+-----------------------+-----------------------+-----------------------+
|                       |                       | Invalid **admin       |
|                       |                       | \_state_up** value.   |
+-----------------------+-----------------------+-----------------------+
|                       |                       | Invalid parameters.   |
+-----------------------+-----------------------+-----------------------+
|                       |                       | Batch operations are  |
|                       |                       | not allowed.          |
+-----------------------+-----------------------+-----------------------+
|                       |                       | Failed to verify the  |
|                       |                       | parameters.           |
+-----------------------+-----------------------+-----------------------+
|                       |                       | Incorrect request     |
|                       |                       | method, for example,  |
|                       |                       | updating attributes   |
|                       |                       | that can be specified |
|                       |                       | during creation only. |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The network is not    |
|                       |                       | external (the value   |
|                       |                       | of                    |
|                       |                       | **router:external**   |
|                       |                       | is set to **false**). |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The IaaS OpenStack    |
|                       |                       | network port has no   |
|                       |                       | floating IP address   |
|                       |                       | bound.                |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The requested         |
|                       |                       | floating IP address   |
|                       |                       | is not in the IP      |
|                       |                       | address range of the  |
|                       |                       | external network.     |
+-----------------------+-----------------------+-----------------------+
|                       |                       | Invalid fixed IP      |
|                       |                       | address.              |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The router port does  |
|                       |                       | not have a fixed IP   |
|                       |                       | address.              |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The subnet for the    |
|                       |                       | router interface must |
|                       |                       | have a gateway IP     |
|                       |                       | address.              |
+-----------------------+-----------------------+-----------------------+
| 401                   | Unauthorized          | Authentication        |
|                       |                       | required.             |
+-----------------------+-----------------------+-----------------------+
| 403                   | Forbidden             | The URI does not      |
|                       |                       | exist.                |
|                       |                       |                       |
|                       |                       | The resource cannot   |
|                       |                       | be found.             |
+-----------------------+-----------------------+-----------------------+
| 404                   | Not Found             | The URI does not      |
|                       |                       | exist.                |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The resource cannot   |
|                       |                       | be found.             |
+-----------------------+-----------------------+-----------------------+
|                       |                       | Invalid port ID.      |
+-----------------------+-----------------------+-----------------------+
| 409                   | Conflict              | The port is already   |
|                       |                       | in use.               |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The IP address is     |
|                       |                       | already in use.       |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The IP address pool   |
|                       |                       | cannot contain        |
|                       |                       | gateway and broadcast |
|                       |                       | addresses.            |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The requested         |
|                       |                       | floating IP address   |
|                       |                       | is already in use.    |
+-----------------------+-----------------------+-----------------------+
|                       |                       | The internal IaaS     |
|                       |                       | OpenStack network     |
|                       |                       | port and fixed IP     |
|                       |                       | address are already   |
|                       |                       | associated with       |
|                       |                       | another floating IP   |
|                       |                       | addresses.            |
+-----------------------+-----------------------+-----------------------+
| 500                   | Internal server       | Internal IaaS         |
|                       | error.                | OpenStack network     |
|                       |                       | error.                |
+-----------------------+-----------------------+-----------------------+
| 503                   | Service unavailable   | Failed to assign the  |
|                       |                       | MAC address.          |
+-----------------------+-----------------------+-----------------------+

4. Error codes

+-----------+-----------+-----------+-----------+-----------+-----------+
| Module    | HTTP      | Error     | Error     | De        | Handling  |
|           | Status    | Code      | Message   | scription | Measure   |
|           | Code      |           |           |           |           |
+===========+===========+===========+===========+===========+===========+
| Load      | 400       | ELB.0002  | Re        | The       | Set the   |
| balancer  |           |           | questBody | request   | parameter |
|           |           |           | is null   | body is   | by        |
|           |           |           | or        | empty.    | following |
|           |           |           | empt      |           | the       |
|           |           |           | y,request |           | ins       |
|           |           |           | is        |           | tructions |
|           |           |           | invalid.  |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 401       | ELB.1102  | Token is  | Empty     | Use a     |
|           |           |           | error,    | token.    | correct   |
|           |           |           | Authe     |           | token     |
|           |           |           | ntication |           | that has  |
|           |           |           | required. |           | not       |
|           |           |           |           |           | expired.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0002  | Re        | Failed to | Set the   |
|           |           |           | questBody | convert   | parameter |
|           |           |           | is null,  | the       | by        |
|           |           |           | request   | request   | following |
|           |           |           | is        | body.     | the       |
|           |           |           | invalid.  |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **vip_su  | Set the   |
|           |           |           | questBody | bnet_id** | parameter |
|           |           |           | loadbalan | in the    | by        |
|           |           |           | cer[vip_s | request   | following |
|           |           |           | ubnet_id] | body is   | the       |
|           |           |           | is null,  | empty.    | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.1202  | 1.decoded | -  The    | Check the |
|           |           |           | token is  |    token  | e         |
|           |           |           | null.     |    is     | nterprise |
|           |           |           |           |    empty. | project   |
|           |           |           | 2.chec    |           | ID.       |
|           |           |           | kEnterpri | -  An     |           |
|           |           |           | seProject |    error  |           |
|           |           |           | is error. |           |           |
|           |           |           |           |  occurred |           |
|           |           |           |           |    during |           |
|           |           |           |           |    ver    |           |
|           |           |           |           | ification |           |
|           |           |           |           |    of     |           |
|           |           |           |           |    *      |           |
|           |           |           |           | *ep_id**. |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 403       | ELB.9802  | Policy    | Authe     | Check     |
|           |           |           | doesn't   | ntication | whether   |
|           |           |           | allow     | failure   | you have  |
|           |           |           | elb:      |           | the       |
|           |           |           | loadbalan |           | p         |
|           |           |           | cers:list |           | ermission |
|           |           |           | to be     |           | to        |
|           |           |           | p         |           | perform   |
|           |           |           | erformed. |           | this      |
|           |           |           |           |           | o         |
|           |           |           | etc.      |           | peration. |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 403       | ELB.9803  | Policy    | Authe     | Check     |
|           |           |           | doesn't   | ntication | whether   |
|           |           |           | allow     | failure   | you have  |
|           |           |           | elb:      |           | the       |
|           |           |           | loadbalan |           | p         |
|           |           |           | cers:list |           | ermission |
|           |           |           | to be     |           | to        |
|           |           |           | p         |           | perform   |
|           |           |           | erformed. |           | this      |
|           |           |           |           |           | o         |
|           |           |           | etc.      |           | peration. |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 403       | ELB.9804  | Policy    | Authe     | Check     |
|           |           |           | doesn't   | ntication | whether   |
|           |           |           | allow     | failure   | you have  |
|           |           |           | elb:      |           | the       |
|           |           |           | loadbalan |           | p         |
|           |           |           | cers:list |           | ermission |
|           |           |           | to be     |           | to        |
|           |           |           | p         |           | perform   |
|           |           |           | erformed. |           | this      |
|           |           |           |           |           | o         |
|           |           |           | etc.      |           | peration. |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0004  | Api       | The       | Contact   |
|           |           |           | response  | response  | customer  |
|           |           |           | is null   | returned  | service.  |
|           |           |           | or        | by        |           |
|           |           |           | invaild.  | Neutron   |           |
|           |           |           |           | is        |           |
|           |           |           |           | **null**. |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9899  | The       | Combined  | Rectify   |
|           |           |           | default   | API       | the fault |
|           |           |           | _tls_cont | failed to | based on  |
|           |           |           | ainer_ref | send the  | the error |
|           |           |           | field of  | request   | inf       |
|           |           |           | the       | to        | ormation. |
|           |           |           | TERMINA   | Neutron.  |           |
|           |           |           | TED_HTTPS |           |           |
|           |           |           | listener  |           |           |
|           |           |           | does not  |           |           |
|           |           |           | allow     |           |           |
|           |           |           | updating  |           |           |
|           |           |           | to null   |           |           |
|           |           |           |           |           |           |
|           |           |           | etc.      |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | resources |           | contact   |
|           |           |           | :['loadba |           | customer  |
|           |           |           | lancer']. |           | service.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.1204  | Bind      | Failed to | Contact   |
|           |           |           | fail.     | associate | customer  |
|           |           |           |           | the load  | service.  |
|           |           |           |           | balancer  |           |
|           |           |           |           | with the  |           |
|           |           |           |           | e         |           |
|           |           |           |           | nterprise |           |
|           |           |           |           | project.  |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Ep_id is  | **ep_id** | Check the |
|           |           |           | not uuid. | in the    | e         |
|           |           |           |           | URI is    | nterprise |
|           |           |           |           | not a     | project   |
|           |           |           |           | valid     | ID.       |
|           |           |           |           | UUID.     |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9806  | Loadba    | *         | Check     |
|           |           |           | lancer_id | *loadbala | whether   |
|           |           |           | in url is | ncer_id** | the load  |
|           |           |           | null or   | in the    | balancer  |
|           |           |           | empty.    | URI is    | ID in the |
|           |           |           |           | empty.    | URL is    |
|           |           |           | etc.      |           | correct.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 404       | ELB.9800  | Resource  | The       | Check the |
|           |           |           | could not | specified | load      |
|           |           |           | be found. | load      | balancer  |
|           |           |           |           | balancer  | ID.       |
|           |           |           |           | does not  |           |
|           |           |           |           | exist     |           |
|           |           |           |           | when      |           |
|           |           |           |           | **ep_id** |           |
|           |           |           |           | is        |           |
|           |           |           |           | queried.  |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9808  | Tenant_id | The value | Check     |
|           |           |           | in token  | of        | whether   |
|           |           |           | m         | **te      | parameter |
|           |           |           | ismatches | nant_id** | **te      |
|           |           |           | with      | in the    | nant_id** |
|           |           |           | tenant_id | token is  | in the    |
|           |           |           | in url.   | different | token and |
|           |           |           |           | from that | URL is    |
|           |           |           |           | in the    | correct.  |
|           |           |           |           | URL.      |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 403       | ELB.9801  | Not be    | In the    | Check     |
|           |           |           | list      | fin       | whether   |
|           |           |           | action,   | e-grained | the       |
|           |           |           | ent       | auth      | p         |
|           |           |           | erprise_p | orization | arameters |
|           |           |           | roject_id | scenario, | in the    |
|           |           |           | must not  | the       | request   |
|           |           |           | be null.  | e         | for       |
|           |           |           |           | nterprise | querying  |
|           |           |           |           | ID is not | the load  |
|           |           |           |           | tr        | balancers |
|           |           |           |           | ansmitted | are       |
|           |           |           |           | in the    | correct.  |
|           |           |           |           | request   |           |
|           |           |           |           | for       |           |
|           |           |           |           | querying  |           |
|           |           |           |           | the load  |           |
|           |           |           |           | b         |           |
|           |           |           |           | alancers. |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| Listener  | 400       | ELB.0002  | Listener  | The       | Set the   |
|           |           |           | is null,  | request   | parameter |
|           |           |           | request   | body is   | by        |
|           |           |           | is        | empty.    | following |
|           |           |           | invalid.  |           | the       |
|           |           |           |           |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **p       | Set the   |
|           |           |           | questBody | rotocol** | parameter |
|           |           |           | listener[ | in the    | by        |
|           |           |           | protocol] | request   | following |
|           |           |           | is null,  | body is   | the       |
|           |           |           | this is a | empty.    | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **protoc  | Set the   |
|           |           |           | questBody | ol_port** | parameter |
|           |           |           | liste     | is empty. | by        |
|           |           |           | ner[proto |           | following |
|           |           |           | col_port] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | *         | Set the   |
|           |           |           | questBody | *loadbala | parameter |
|           |           |           | listene   | ncer_id** | by        |
|           |           |           | r[loadbal | is empty. | following |
|           |           |           | ancer_id] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.6200  | Load      | The port  | Change    |
|           |           |           | Balaner   | number is | the port  |
|           |           |           | \**\*     | in use.   | number.   |
|           |           |           | already   |           |           |
|           |           |           | has a     |           |           |
|           |           |           | listener  |           |           |
|           |           |           | with      |           |           |
|           |           |           | prot      |           |           |
|           |           |           | ocol_port |           |           |
|           |           |           | of \***.  |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | resou     |           | contact   |
|           |           |           | rces:['li |           | customer  |
|           |           |           | stener']. |           | service.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
| Backend   | 400       | ELB.0002  | Pool is   | The       | Set the   |
| server    |           |           | null,     | request   | parameter |
| group     |           |           | request   | body is   | by        |
|           |           |           | is        | empty.    | following |
|           |           |           | invalid.  |           | the       |
|           |           |           |           |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **p       | Set the   |
|           |           |           | questBody | rotocol** | parameter |
|           |           |           | pool[     | is empty. | by        |
|           |           |           | protocol] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **lb_al   | Set the   |
|           |           |           | questBody | gorithm** | parameter |
|           |           |           | pool[lb_a | is empty. | by        |
|           |           |           | lgorithm] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | r         |           | contact   |
|           |           |           | esources: |           | customer  |
|           |           |           | ['pool']. |           | service.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **list    | Set the   |
|           |           |           | questBody | ener_id** | parameter |
|           |           |           | poo       | is empty. | by        |
|           |           |           | l[loadbal |           | following |
|           |           |           | ancer_id] |           | the       |
|           |           |           | and       |           | ins       |
|           |           |           | pool[lis  |           | tructions |
|           |           |           | tener_id] |           | in this   |
|           |           |           | both are  |           | guide.    |
|           |           |           | null,     |           |           |
|           |           |           | this has  |           |           |
|           |           |           | at least  |           |           |
|           |           |           | one       |           |           |
|           |           |           | p         |           |           |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| Backend   | 400       | ELB.9805  | Re        | **ses     | Set the   |
| server    |           |           | questBody | sion_pers | parameter |
|           |           |           | pool      | istence** | by        |
|           |           |           | [session_ | is empty. | following |
|           |           |           | persisten |           | the       |
|           |           |           | ce][type] |           | ins       |
|           |           |           | is null.  |           | tructions |
|           |           |           | when      |           | in this   |
|           |           |           | pool[se   |           | guide.    |
|           |           |           | ssion_per |           |           |
|           |           |           | sistence] |           |           |
|           |           |           | exists,   |           |           |
|           |           |           | this is a |           |           |
|           |           |           | required  |           |           |
|           |           |           | p         |           |           |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0002  | Member is | The       | Set the   |
|           |           |           | nul       | request   | parameter |
|           |           |           | l,request | body is   | by        |
|           |           |           | is        | empty.    | following |
|           |           |           | invalid.  |           | the       |
|           |           |           |           |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **        | Set the   |
|           |           |           | questBody | address** | parameter |
|           |           |           | member    | is empty. | by        |
|           |           |           | [address] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | res       |           | contact   |
|           |           |           | ources:[' |           | customer  |
|           |           |           | member']. |           | service.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | The value | Set the   |
|           |           |           | questBody | of        | parameter |
|           |           |           | member[a  | **        | by        |
|           |           |           | ddress]'s | address** | following |
|           |           |           | length is | contains  | the       |
|           |           |           | %s,       | more than | ins       |
|           |           |           | greater   | 64        | tructions |
|           |           |           | than 64.  | ch        | in this   |
|           |           |           |           | aracters. | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **protoc  | Set the   |
|           |           |           | questBody | ol_port** | parameter |
|           |           |           | mem       | is empty. | by        |
|           |           |           | ber[proto |           | following |
|           |           |           | col_port] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| Health    | 400       | ELB.9805  | Re        | **su      | Set the   |
| check     |           |           | questBody | bnet_id** | parameter |
|           |           |           | member[s  | is empty. | by        |
|           |           |           | ubnet_id] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0002  | heal      | The       | Set the   |
|           |           |           | thmonitor | request   | parameter |
|           |           |           | is        | body is   | by        |
|           |           |           | nul       | empty.    | following |
|           |           |           | l,request |           | the       |
|           |           |           | is        |           | ins       |
|           |           |           | invalid.  |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **delay** | Set the   |
|           |           |           | questBody | is empty. | parameter |
|           |           |           | he        |           | by        |
|           |           |           | althmonit |           | following |
|           |           |           | or[delay] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **max_    | Set the   |
|           |           |           | questBody | retries** | parameter |
|           |           |           | healthmo  | is empty. | by        |
|           |           |           | nitor[max |           | following |
|           |           |           | _retries] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **        | Set the   |
|           |           |           | questBody | pool_id** | parameter |
|           |           |           | heal      | is empty. | by        |
|           |           |           | thmonitor |           | following |
|           |           |           | [pool_id] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | r         |           | contact   |
|           |           |           | esources: |           | customer  |
|           |           |           | ['healthm |           | service.  |
|           |           |           | onitor']. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **        | Set the   |
|           |           |           | questBody | timeout** | parameter |
|           |           |           | heal      | is empty. | by        |
|           |           |           | thmonitor |           | following |
|           |           |           | [timeout] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| F         | 400       | ELB.9805  | Re        | **type**  | Set the   |
| orwarding |           |           | questBody | is empty. | parameter |
| policy    |           |           | h         |           | by        |
|           |           |           | ealthmoni |           | following |
|           |           |           | tor[type] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0002  | l7policy  | The       | Set the   |
|           |           |           | is        | request   | parameter |
|           |           |           | nul       | body is   | by        |
|           |           |           | l,request | empty.    | following |
|           |           |           | is        |           | the       |
|           |           |           | invalid.  |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | resourc   |           | contact   |
|           |           |           | es:['l7po |           | customer  |
|           |           |           | liciey']. |           | service.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **list    | Set the   |
|           |           |           | questBody | ener_id** | parameter |
|           |           |           | l7p       | is empty. | by        |
|           |           |           | olicy[lis |           | following |
|           |           |           | tener_id] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| F         | 400       | ELB.9805  | Re        | *         | Set the   |
| orwarding |           |           | questBody | *action** | parameter |
| rule      |           |           | l7polic   | is empty. | by        |
|           |           |           | y[action] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0002  | Rule is   | The       | Set the   |
|           |           |           | nul       | request   | parameter |
|           |           |           | l,request | body is   | by        |
|           |           |           | is        | empty.    | following |
|           |           |           | invalid.  |           | the       |
|           |           |           |           |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **type**  | Set the   |
|           |           |           | questBody | is empty. | parameter |
|           |           |           | r         |           | by        |
|           |           |           | ule[type] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | re        |           | contact   |
|           |           |           | sources:[ |           | customer  |
|           |           |           | 'l7polici |           | service.  |
|           |           |           | eyrule']. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **compa   | Set the   |
|           |           |           | questBody | re_type** | parameter |
|           |           |           | rule[comp | is empty. | by        |
|           |           |           | are_type] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **value** | Set the   |
|           |           |           | questBody | is empty. | parameter |
|           |           |           | ru        |           | by        |
|           |           |           | le[value] |           | following |
|           |           |           | is null,  |           | the       |
|           |           |           | this is a |           | ins       |
|           |           |           | required  |           | tructions |
|           |           |           | p         |           | in this   |
|           |           |           | arameter. |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | The       | Set the   |
|           |           |           | questBody | parameter | parameter |
|           |           |           | rule      | value     | by        |
|           |           |           | [value]'s | contains  | following |
|           |           |           | length is | more than | the       |
|           |           |           | %s,       | 128       | ins       |
|           |           |           | greater   | ch        | tructions |
|           |           |           | than 128. | aracters. | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
| Whitelist | 400       | ELB.9807  | Quota     | The quota | To expand |
|           |           |           | exceeded  | has been  | the       |
|           |           |           | for       | used up.  | quota,    |
|           |           |           | resour    |           | contact   |
|           |           |           | ces:['whi |           | customer  |
|           |           |           | telist']. |           | service.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0002  | whitelist | The       | Set the   |
|           |           |           | is        | request   | parameter |
|           |           |           | nul       | body is   | by        |
|           |           |           | l,request | empty.    | following |
|           |           |           | is        |           | the       |
|           |           |           | invalid.  |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | **list    | Set the   |
|           |           |           | questBody | ener_id** | parameter |
|           |           |           | whit      | is empty. | by        |
|           |           |           | elist[lis |           | following |
|           |           |           | tener_id] |           | the       |
|           |           |           | is null,  |           | ins       |
|           |           |           | this is a |           | tructions |
|           |           |           | required  |           | in this   |
|           |           |           | p         |           | guide.    |
|           |           |           | arameter. |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9805  | Re        | The value | Set the   |
|           |           |           | questBody | of        | parameter |
|           |           |           | whitel    | **list    | by        |
|           |           |           | ist[liste | ener_id** | following |
|           |           |           | ner_id]'s | contains  | the       |
|           |           |           | length is | more than | ins       |
|           |           |           | %s,       | 255       | tructions |
|           |           |           | greater   | ch        | in this   |
|           |           |           | than 255. | aracters. | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
| Label     | 400       | ELB.0002  | Re        | Invalid   | Set the   |
| M         |           |           | questBody | request   | parameter |
| anagement |           |           | is null   | body.     | by        |
|           |           |           | or empty. |           | following |
|           |           |           |           |           | the       |
|           |           |           |           |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 401       | ELB.1102  | Token is  | Invalid   | Use a     |
|           |           |           | error,    | token.    | correct   |
|           |           |           | Authe     |           | token     |
|           |           |           | ntication |           | that has  |
|           |           |           | required. |           | not       |
|           |           |           |           |           | expired.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.0002  | LogTankRe | Invalid   | Set the   |
|           |           |           | questBody | request   | parameter |
|           |           |           | is null,  | body.     | by        |
|           |           |           | request   |           | following |
|           |           |           | is        |           | the       |
|           |           |           | invalid.  |           | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           |           |           | Loadb     | *         | Set the   |
|           |           |           | alancerId | *loadbala | parameter |
|           |           |           | in        | ncer_id** | by        |
|           |           |           | re        | in the    | following |
|           |           |           | questBody | request   | the       |
|           |           |           | is null.  | body is   | ins       |
|           |           |           |           | empty.    | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           |           |           | L         | **log_g   | Set the   |
|           |           |           | oggroupId | roup_id** | parameter |
|           |           |           | in        | in the    | by        |
|           |           |           | re        | request   | following |
|           |           |           | questBody | body is   | the       |
|           |           |           | is null.  | empty.    | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           |           |           | L         | **log_t   | Set the   |
|           |           |           | ogtopicId | opic_id** | parameter |
|           |           |           | in        | in the    | by        |
|           |           |           | re        | request   | following |
|           |           |           | questBody | body is   | the       |
|           |           |           | is null.  | empty.    | ins       |
|           |           |           |           |           | tructions |
|           |           |           |           |           | in this   |
|           |           |           |           |           | guide.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 403       | ELB.9802  | Policy    | P         | Check     |
|           |           |           | doesn't   | ermission | whether   |
|           |           |           | allow     | ver       | you have  |
|           |           |           | e         | ification | the       |
|           |           |           | lb:logtan | failed.   | p         |
|           |           |           | ks:create |           | ermission |
|           |           |           | to be     |           | to        |
|           |           |           | p         |           | perform   |
|           |           |           | erformed. |           | this      |
|           |           |           |           |           | o         |
|           |           |           |           |           | peration. |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 403       | ELB.9803  | Policy    | P         | Check     |
|           |           |           | doesn't   | ermission | whether   |
|           |           |           | allow     | ver       | you have  |
|           |           |           | elb:      | ification | the       |
|           |           |           | loadbalan | failed.   | p         |
|           |           |           | cers:list |           | ermission |
|           |           |           | to be     |           | to        |
|           |           |           | p         |           | perform   |
|           |           |           | erformed. |           | this      |
|           |           |           |           |           | o         |
|           |           |           | etc.      |           | peration. |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 403       | ELB.9804  | Policy    | P         | Check     |
|           |           |           | doesn't   | ermission | whether   |
|           |           |           | allow     | ver       | you have  |
|           |           |           | elb:      | ification | the       |
|           |           |           | loadbalan | failed.   | p         |
|           |           |           | cers:list |           | ermission |
|           |           |           | to be     |           | to        |
|           |           |           | p         |           | perform   |
|           |           |           | erformed. |           | this      |
|           |           |           |           |           | o         |
|           |           |           | etc.      |           | peration. |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.9899  | The       | Parameter | Rectify   |
|           |           |           | default   | **        | the fault |
|           |           |           | _tls_cont | default_t | based on  |
|           |           |           | ainer_ref | ls_contai | the error |
|           |           |           | field of  | ner_ref** | inf       |
|           |           |           | the       | cannot be | ormation. |
|           |           |           | TERMINA   | left      |           |
|           |           |           | TED_HTTPS | blank.    |           |
|           |           |           | listener  |           |           |
|           |           |           | does not  |           |           |
|           |           |           | allow     |           |           |
|           |           |           | updating  |           |           |
|           |           |           | to null.  |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
| Ce        | 400       | ELB.1001  | Request   | Invalid   | Enter a   |
| rtificate |           |           | p         | p         | valid     |
|           |           |           | arameters | arameter. | p         |
|           |           |           | invalid.  |           | arameter. |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5010  | The       | The       | Enter a   |
|           |           |           | ce        | ce        | valid     |
|           |           |           | rtificate | rtificate | ce        |
|           |           |           | URL       | URL       | rtificate |
|           |           |           | contains  | contains  | URL.      |
|           |           |           | more than | more than |           |
|           |           |           | four      | four      |           |
|           |           |           | parts.    | parts.    |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5020  | The       | The       | Enter a   |
|           |           |           | ce        | ce        | valid     |
|           |           |           | rtificate | rtificate | ce        |
|           |           |           | ID must   | ID is not | rtificate |
|           |           |           | be 32     | a         | ID.       |
|           |           |           | ch        | 32-       |           |
|           |           |           | aracters. | character |           |
|           |           |           |           | string.   |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5030  | Incorrect | Incorrect | Enter a   |
|           |           |           | ce        | ce        | valid     |
|           |           |           | rtificate | rtificate | ce        |
|           |           |           | URL.      | URL.      | rtificate |
|           |           |           |           |           | URL.      |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 404       | ELB.5040  | The       | The       | Ensure    |
|           |           |           | ce        | ce        | that the  |
|           |           |           | rtificate | rtificate | ce        |
|           |           |           | does not  | does not  | rtificate |
|           |           |           | exist.    | exist.    | exists.   |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5131  | Failed to | Failed to | Contact   |
|           |           |           | query the | query the | customer  |
|           |           |           | ce        | ce        | service.  |
|           |           |           | rtificate | rtificate |           |
|           |           |           | quota.    | quota.    |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5141  | Failed to | Failed to | Contact   |
|           |           |           | query the | query the | customer  |
|           |           |           | user      | used      | service.  |
|           |           |           | ce        | ce        |           |
|           |           |           | rtificate | rtificate |           |
|           |           |           | quota.    | quota.    |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5151  | The       | The quota | Ensure    |
|           |           |           | ce        | has been  | that the  |
|           |           |           | rtificate | used up.  | quantity  |
|           |           |           | quantity  |           | of        |
|           |           |           | exceeds   |           | cer       |
|           |           |           | the       |           | tificates |
|           |           |           | quota.    |           | is less   |
|           |           |           |           |           | than the  |
|           |           |           |           |           | quota.    |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.1011  | Pr        | Invalid   | Enter a   |
|           |           |           | ivate_key | public or | valid     |
|           |           |           | or        | private   | public or |
|           |           |           | ce        | key of    | private   |
|           |           |           | rtificate | the       | key.      |
|           |           |           | content   | server    |           |
|           |           |           | is not    | cer       |           |
|           |           |           | valid.    | tificate. |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5051  | CA        | Invalid   | Enter     |
|           |           |           | ce        | CA        | valid     |
|           |           |           | rtificate | ce        | ce        |
|           |           |           | content   | rtificate | rtificate |
|           |           |           | is not    | content.  | content.  |
|           |           |           | valid.    |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5002  | Failed to | Failed to | Contact   |
|           |           |           | delete    | delete    | customer  |
|           |           |           | the       | the       | service.  |
|           |           |           | cer       | cer       |           |
|           |           |           | tificate. | tificate. |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5033  | Failed to | Failed to | Contact   |
|           |           |           | update    | modify    | customer  |
|           |           |           | cer       | the       | service.  |
|           |           |           | tificate. | cer       |           |
|           |           |           |           | tificate. |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5013  | Pr        | Invalid   | Enter a   |
|           |           |           | ivate_key | public or | valid     |
|           |           |           | or        | private   | public or |
|           |           |           | ce        | key of    | private   |
|           |           |           | rtificate | the       | key.      |
|           |           |           | content   | server    |           |
|           |           |           | is not    | cer       |           |
|           |           |           | valid.    | tificate. |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5053  | CA        | Invalid   | Enter     |
|           |           |           | ce        | CA        | valid     |
|           |           |           | rtificate | ce        | ce        |
|           |           |           | content   | rtificate | rtificate |
|           |           |           | is not    | content.  | content.  |
|           |           |           | valid.    |           |           |
+-----------+-----------+-----------+-----------+-----------+-----------+
|           | 400       | ELB.5004  | Invalid   | Invalid   | Ensure    |
|           |           |           | search    | query     | that the  |
|           |           |           | criteria. | c         | query     |
|           |           |           |           | ondition. | condition |
|           |           |           |           |           | is        |
|           |           |           |           |           | correct.  |
+-----------+-----------+-----------+-----------+-----------+-----------+
| API       | 404       | ELB.1110  | version   | The API   | Contact   |
| version   |           |           | not       | version   | customer  |
|           |           |           | found.    | does not  | service.  |
|           |           |           |           | exist.    |           |
+-----------+-----------+-----------+-----------+-----------+-----------+

HTTP Status Codes for Dedicated Load Balancers
----------------------------------------------

The following code descriptions are only suitable for dedicated load
balancers.

+-----------------------+-----------------------+-----------------------+
| Status Code           | Type                  | Description           |
+=======================+=======================+=======================+
| 200                   | OK                    | Normal response to    |
|                       |                       | GET and PUT requests. |
+-----------------------+-----------------------+-----------------------+
| 201                   | Created               | Normal response to    |
|                       |                       | POST requests.        |
+-----------------------+-----------------------+-----------------------+
| 204                   | No Content            | Normal response to    |
|                       |                       | DELETE requests.      |
+-----------------------+-----------------------+-----------------------+

+-------------+-------------+-------------+-------------+-------------+
| Module      | Status Code | Type        | Error Code  | Possible    |
|             |             |             |             | Cause       |
+=============+=============+=============+=============+=============+
| Public      | 400         | Bad request | ELB.8902    | Malformed   |
|             |             |             |             | request URI |
|             |             |             |             | or body.    |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | Invalid     |
|             |             |             |             | **admin     |
|             |             |             |             | \           |
|             |             |             |             | _state_up** |
|             |             |             |             | value.      |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | Invalid     |
|             |             |             |             | parameters. |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | Batch       |
|             |             |             |             | operations  |
|             |             |             |             | are not     |
|             |             |             |             | allowed.    |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | Failed to   |
|             |             |             |             | verify the  |
|             |             |             |             | parameters. |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | Incorrect   |
|             |             |             |             | request     |
|             |             |             |             | method, for |
|             |             |             |             | example,    |
|             |             |             |             | updating    |
|             |             |             |             | attributes  |
|             |             |             |             | that can be |
|             |             |             |             | specified   |
|             |             |             |             | during      |
|             |             |             |             | creation    |
|             |             |             |             | only.       |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The network |
|             |             |             |             | is not      |
|             |             |             |             | external    |
|             |             |             |             | (the value  |
|             |             |             |             | of          |
|             |             |             |             | **router    |
|             |             |             |             | :external** |
|             |             |             |             | is set to   |
|             |             |             |             | **false**). |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The IaaS    |
|             |             |             |             | OpenStack   |
|             |             |             |             | network     |
|             |             |             |             | port has no |
|             |             |             |             | floating IP |
|             |             |             |             | address     |
|             |             |             |             | bound.      |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The         |
|             |             |             |             | requested   |
|             |             |             |             | floating IP |
|             |             |             |             | address is  |
|             |             |             |             | not in the  |
|             |             |             |             | IP address  |
|             |             |             |             | range of    |
|             |             |             |             | the         |
|             |             |             |             | external    |
|             |             |             |             | network.    |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | Invalid     |
|             |             |             |             | fixed IP    |
|             |             |             |             | address.    |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The router  |
|             |             |             |             | port does   |
|             |             |             |             | not have a  |
|             |             |             |             | fixed IP    |
|             |             |             |             | address.    |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The subnet  |
|             |             |             |             | for the     |
|             |             |             |             | router      |
|             |             |             |             | interface   |
|             |             |             |             | must have a |
|             |             |             |             | gateway IP  |
|             |             |             |             | address.    |
+-------------+-------------+-------------+-------------+-------------+
|             | 401         | U           | SYS.0401    | Aut         |
|             |             | nauthorized |             | hentication |
|             |             |             |             | required.   |
+-------------+-------------+-------------+-------------+-------------+
|             | 403         | Forbidden   | ELB.8903    | The URI     |
|             |             |             |             | does not    |
|             |             |             |             | exist.      |
|             |             |             |             |             |
|             |             |             |             | The         |
|             |             |             |             | resource    |
|             |             |             |             | cannot be   |
|             |             |             |             | found.      |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             | SYS.0403    | Aut         |
|             |             |             |             | hentication |
|             |             |             |             | required.   |
+-------------+-------------+-------------+-------------+-------------+
|             | 404         | Not Found   | ELB.8904    | The URI     |
|             |             |             |             | does not    |
|             |             |             |             | exist.      |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The         |
|             |             |             |             | resource    |
|             |             |             |             | cannot be   |
|             |             |             |             | found.      |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The port    |
|             |             |             |             | UUID is not |
|             |             |             |             | valid.      |
+-------------+-------------+-------------+-------------+-------------+
|             | 409         | Conflict    | ELB.8907    | The port is |
|             |             |             |             | already in  |
|             |             |             |             | use.        |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The IP      |
|             |             |             |             | address is  |
|             |             |             |             | already in  |
|             |             |             |             | use.        |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The IP      |
|             |             |             |             | address     |
|             |             |             |             | pool cannot |
|             |             |             |             | contain     |
|             |             |             |             | gateway and |
|             |             |             |             | broadcast   |
|             |             |             |             | addresses.  |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The         |
|             |             |             |             | requested   |
|             |             |             |             | floating IP |
|             |             |             |             | address is  |
|             |             |             |             | already in  |
|             |             |             |             | use.        |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             |             | The         |
|             |             |             |             | internal    |
|             |             |             |             | IaaS        |
|             |             |             |             | OpenStack   |
|             |             |             |             | network     |
|             |             |             |             | port and    |
|             |             |             |             | fixed IP    |
|             |             |             |             | address are |
|             |             |             |             | already     |
|             |             |             |             | associated  |
|             |             |             |             | with        |
|             |             |             |             | another     |
|             |             |             |             | floating IP |
|             |             |             |             | addresses.  |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             | ELB.8905    | The quota   |
|             |             |             |             | is used up. |
+-------------+-------------+-------------+-------------+-------------+
|             | 500         | Internal    | ELB.8906    | Internal    |
|             |             | server      |             | IaaS        |
|             |             | error       |             | OpenStack   |
|             |             |             |             | network     |
|             |             |             |             | error.      |
+-------------+-------------+-------------+-------------+-------------+
| Load        | 400         | Bad request | ELB.8931    | The subnet  |
| balancer    |             |             |             | IP version  |
|             |             |             |             | is not the  |
|             |             |             |             | same.       |
+-------------+-------------+-------------+-------------+-------------+
|             |             |             | ELB.8932    | IPv6        |
|             |             |             |             | subnets are |
|             |             |             |             | not         |
|             |             |             |             | supported,  |
|             |             |             |             | but the     |
|             |             |             |             | value of    |
|             |             |             |             | **i         |
|             |             |             |             | pv6_vip_vir |
|             |             |             |             | subnet_id** |
|             |             |             |             | is not      |
|             |             |             |             | **null**.   |
+-------------+-------------+-------------+-------------+-------------+
| Backend     | 400         | Bad request | ELB.8933    | IPv6        |
| server      |             |             |             | subnets are |
|             |             |             |             | not         |
|             |             |             |             | supported,  |
|             |             |             |             | but backend |
|             |             |             |             | servers use |
|             |             |             |             | IPv6        |
|             |             |             |             | addresses.  |
+-------------+-------------+-------------+-------------+-------------+

Appendix
========

1. .. rubric:: ELB Metrics
      :name: elb-metrics

   #. Introduction

This section describes the metrics that can be monitored by Cloud Eye as
well as their namespaces and dimensions. You can use APIs provided by
Cloud Eye to query the metrics of a monitored object and the generated
alarms.

2. Namespace

SYS.ELB

3. Metrics

+-------------+-------------+-------------+-------------+-------------+
| Metric      | Metric Name | Description | Value Range | Remarks     |
+=============+=============+=============+=============+=============+
| m1_cps      | Concurrent  | Total       | ≥ 0         | Monitored   |
|             | Connections | number of   |             | object: an  |
|             |             | concurrent  |             | elastic     |
|             |             | connections |             | load        |
|             |             | processed   |             | balancer,   |
|             |             | by the      |             | elastic     |
|             |             | monitored   |             | load        |
|             |             | object per  |             | balancer    |
|             |             | second      |             | listener,   |
|             |             |             |             | or classic  |
|             |             | Unit: count |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m2_act_conn | Active      | Total       | ≥ 0         | Monitored   |
|             | Connections | number of   |             | object: an  |
|             |             | active      |             | elastic     |
|             |             | connections |             | load        |
|             |             | processed   |             | balancer,   |
|             |             | by the      |             | elastic     |
|             |             | monitored   |             | load        |
|             |             | object per  |             | balancer    |
|             |             | second      |             | listener,   |
|             |             |             |             | or classic  |
|             |             | Unit: count |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m3          | Inactive    | Total       | ≥ 0         | Monitored   |
| _inact_conn | Connections | number of   |             | object: an  |
|             |             | inactive    |             | elastic     |
|             |             | connections |             | load        |
|             |             | processed   |             | balancer,   |
|             |             | by the      |             | elastic     |
|             |             | monitored   |             | load        |
|             |             | object per  |             | balancer    |
|             |             | second      |             | listener,   |
|             |             |             |             | or classic  |
|             |             | Unit: count |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m4_ncps     | New         | Total       | ≥ 0         | Monitored   |
|             | Connections | number of   |             | object: an  |
|             |             | new         |             | elastic     |
|             |             | connections |             | load        |
|             |             | processed   |             | balancer,   |
|             |             | by the      |             | elastic     |
|             |             | monitored   |             | load        |
|             |             | object per  |             | balancer    |
|             |             | second      |             | listener,   |
|             |             |             |             | or classic  |
|             |             | Unit: count |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m5_in_pps   | Incoming    | Incoming    | ≥ 0         | Monitored   |
|             | Packets     | packets     |             | object: an  |
|             |             | received by |             | elastic     |
|             |             | the         |             | load        |
|             |             | monitored   |             | balancer,   |
|             |             | object per  |             | elastic     |
|             |             | second      |             | load        |
|             |             |             |             | balancer    |
|             |             | Unit: count |             | listener,   |
|             |             |             |             | or classic  |
|             |             |             |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m6_out_pps  | Outgoing    | Outgoing    | ≥ 0         | Monitored   |
|             | Packets     | packets     |             | object: an  |
|             |             | sent from   |             | elastic     |
|             |             | the         |             | load        |
|             |             | monitored   |             | balancer,   |
|             |             | object per  |             | elastic     |
|             |             | second      |             | load        |
|             |             |             |             | balancer    |
|             |             | Unit: count |             | listener,   |
|             |             |             |             | or classic  |
|             |             |             |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m7_in_Bps   | Inbound     | Incoming    | ≥ 0         | Monitored   |
|             | Rate        | bytes       |             | object: an  |
|             |             | received by |             | elastic     |
|             |             | the         |             | load        |
|             |             | monitored   |             | balancer,   |
|             |             | object per  |             | elastic     |
|             |             | second      |             | load        |
|             |             |             |             | balancer    |
|             |             | Unit:       |             | listener,   |
|             |             | Byte/s      |             | or classic  |
|             |             |             |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m8_out_Bps  | Outbound    | Outgoing    | ≥ 0         | Monitored   |
|             | Rate        | bytes sent  |             | object: an  |
|             |             | from the    |             | elastic     |
|             |             | monitored   |             | load        |
|             |             | object per  |             | balancer,   |
|             |             | second      |             | elastic     |
|             |             |             |             | load        |
|             |             | Unit:       |             | balancer    |
|             |             | Byte/s      |             | listener,   |
|             |             |             |             | or classic  |
|             |             |             |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| m9_abnor    | Unhealthy   | Number of   | ≥ 0         | Monitored   |
| mal_servers | Servers     | backend     |             | object: an  |
|             |             | servers     |             | elastic     |
|             |             | considered  |             | load        |
|             |             | unhealthy   |             | balancer or |
|             |             |             |             | classic     |
|             |             | Unit: count |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+
| ma_nor      | Healthy     | Number of   | ≥ 0         | Monitored   |
| mal_servers | Servers     | backend     |             | object: an  |
|             |             | servers     |             | elastic     |
|             |             | considered  |             | load        |
|             |             | healthy     |             | balancer or |
|             |             |             |             | classic     |
|             |             | Unit: count |             | load        |
|             |             |             |             | balancer    |
+-------------+-------------+-------------+-------------+-------------+

4. Dimensions

+-----------------------------------+-----------------------------------+
| Key                               | Value                             |
+===================================+===================================+
| lb_instance_id                    | ID of a classic load balancer     |
+-----------------------------------+-----------------------------------+
| lbaas_instance_id                 | ID of an elastic load balancer    |
+-----------------------------------+-----------------------------------+
| lbaas_listener_id                 | ID of an elastic load balancer    |
|                                   | listener                          |
+-----------------------------------+-----------------------------------+

General Information About Shared Load Balancers
-----------------------------------------------

The following information applies only to shared load balancers.

Querying Data in Pages
~~~~~~~~~~~~~~~~~~~~~~

APIs v2.0 allow users to query data in pages by adding the limit and
marker parameters to the URL of the list request. The query results are
displayed in the ascending order of IDs.

-  **next ref** in the response indicates the URL of the next page.

-  **previous ref** in the response indicates the URL of the previous
   page.

   #. Request

      1. Parameter description

+-----------------+-----------------+-----------------+-----------------+
| Parameter       | Type            | Mandatory       | Description     |
+=================+=================+=================+=================+
| limit           | int             | No              | Specifies the   |
|                 |                 |                 | number of       |
|                 |                 |                 | records on each |
|                 |                 |                 | page.           |
+-----------------+-----------------+-----------------+-----------------+
| marker          | String          | No              | Specifies the   |
|                 |                 |                 | resource ID of  |
|                 |                 |                 | pagination      |
|                 |                 |                 | query. If the   |
|                 |                 |                 | parameter is    |
|                 |                 |                 | left blank,     |
|                 |                 |                 | only resources  |
|                 |                 |                 | on the first    |
|                 |                 |                 | page are        |
|                 |                 |                 | queried.        |
+-----------------+-----------------+-----------------+-----------------+
| page_reverse    | Bool            | No              | Specifies the   |
|                 |                 |                 | paging          |
|                 |                 |                 | sequence. The   |
|                 |                 |                 | value can be    |
|                 |                 |                 | **true** or     |
|                 |                 |                 | **false**.      |
+-----------------+-----------------+-----------------+-----------------+

2. Response

None

3. Example

-  Example request

GET
/v2.0/networks?limit=2&marker=3d42a0d4-a980-4613-ae76-a2cddecff054&page_reverse=False

-  Example response

| {
| "networks": [
| {
| "status": "ACTIVE",
| "subnets": [],
| "name": "liudongtest ",
| "admin_state_up": false,
| "tenant_id": "6fbe9263116a4b68818cf1edce16bc4f",
| "id": "60c809cb-6731-45d0-ace8-3bf5626421a9"
| },
| {
| "status": "ACTIVE",
| "subnets": [
| "132dc12d-c02a-4c90-9cd5-c31669aace04"
| ],
| "name": "publicnet",
| "admin_state_up": true,
| "tenant_id": "6fbe9263116a4b68818cf1edce16bc4f",
| "id": "9daeac7c-a98f-430f-8e38-67f9c044e299"
| }
| ],
| "networks_links": [
| {
| "href":
  "http://192.168.82.231:9696/v2.0/networks?limit=2&marker=9daeac7c-a98f-430f-8e38-67f9c044e299",
| "rel": "next"
| },
| {
| "href":
  "http://192.168.82.231:9696/v2.0/networks?limit=2&marker=60c809cb-6731-45d0-ace8-3bf5626421a9&page_reverse=True",
| "rel": "previous"
| }
| ]
| }

Sequencing Query Results
~~~~~~~~~~~~~~~~~~~~~~~~

APIs v2.0 enable the system to sort queried results based on customized
keys by adding the **sort_key** and **sort_dir** parameters to the URL
of the list request. **sort_key** specifies the parameter used for
sequencing results, and **sort_dir** specifies whether results are
displayed in ascending or descending order. These APIs allow sorting
query results by multiple criteria. The number of **sort_key**
parameters must be equal to that of **sort_dir** parameters. Otherwise,
400 status code is returned.

#. Example Request

GET
/v2.0/networks?sort_key=name&sort_dir=asc&sort_key=status&sort_dir=desc

2. Example Response

| {
| "networks": [
| {
| "status": "ACTIVE",
| "subnets": [],
| "name": "liudongtest ",
| "admin_state_up": false,
| "tenant_id": "6fbe9263116a4b68818cf1edce16bc4f",
| "id": "60c809cb-6731-45d0-ace8-3bf5626421a9"
| },
| {
| "status": "ACTIVE",
| "subnets": [
| "132dc12d-c02a-4c90-9cd5-c31669aace04"
| ],
| "name": "publicnet",
| "admin_state_up": true,
| "tenant_id": "6fbe9263116a4b68818cf1edce16bc4f",
| "id": "9daeac7c-a98f-430f-8e38-67f9c044e299"
| },
| {
| "status": "ACTIVE",
| "subnets": [
| "e25189a8-54df-4948-9396-d8291ffc92a0"
| ],
| "name": "testnet01",
| "admin_state_up": true,
| "tenant_id": "6fbe9263116a4b68818cf1edce16bc4f",
| "id": "3d42a0d4-a980-4613-ae76-a2cddecff054"
| }
| ]
| }

Querying Versions
~~~~~~~~~~~~~~~~~

3. Function

Queries all available versions.

If there is no version added to the URL, all available versions are
returned.

4. URI

GET /

5. Request

None

6. Response

None

7. Example

-  Example request

GET /

-  Example response

| {
| "versions": [
| {
| "status": "CURRENT",
| "id": "v2.0",
| "links": [
| {
| "href": "http://192.168.82.231:9696/v2.0",
| "rel": "self"
| }
| ]
| }
| ]
| }

Basic Workflow
~~~~~~~~~~~~~~

The basic workflow of elastic load balancers contains the following:
creating a load balancer, adding a listener to a specified load
balancer, adding a backend server group to a specified listener,
configuring a health check for a specified backend server group, and
adding a backend server to a specified backend server group. Deletion
operations include removing a backend server, deleting a health check,
deleting a backend server group, deleting a listener, and deleting a
load balancer.

#. Provision Resources

-  Creating a load balancer

-  Adding a listener to a specified load balancer

-  Adding a backend server group to a specified listener

-  Configuring a health check for a specified backend server group

-  Adding a backend server to a specified backend server group

   #. Reclaim Resources

-  Removing a backend server

-  Deleting a health check

-  Deleting a backend server group

-  Deleting a listener

-  Deleting a load balancer

Change History
==============

+-----------------------------------+-----------------------------------+
| Released On                       | Description                       |
+===================================+===================================+
| 2021-06-08                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Added notes in 3.12 Tag to state  |
|                                   | that the APIs can also be used to |
|                                   | add tags to or remove tags from   |
|                                   | dedicated load balancers or their |
|                                   | listeners.                        |
+-----------------------------------+-----------------------------------+
| 2021-05-28                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Changed enhanced load balancer to |
|                                   | shared load balancer.             |
+-----------------------------------+-----------------------------------+
| 2021-02-05                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Added 4 Dedicated Load Balancer   |
|                                   | APIs.                             |
|                                   |                                   |
|                                   | Added 2.1 API Call Precaution.    |
|                                   |                                   |
|                                   | Added 3.1 API Call Precaution.    |
|                                   |                                   |
|                                   | Added 4.1 API Call Precaution.    |
+-----------------------------------+-----------------------------------+
| 2020-02-26                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Added 3.12 Tag.                   |
+-----------------------------------+-----------------------------------+
| 2019-06-11                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Changed the value descriptions of |
|                                   | the tag key and value in section  |
|                                   | "Tag".                            |
+-----------------------------------+-----------------------------------+
| 2019-05-16                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Added parameter **project_id** in |
|                                   | sections of enhanced load         |
|                                   | balancer APIs.                    |
+-----------------------------------+-----------------------------------+
| 2019-03-20                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Added parameters **created_at**   |
|                                   | and **updated_at** in sections    |
|                                   | related to enhanced load          |
|                                   | balancers and listeners.          |
+-----------------------------------+-----------------------------------+
| 2018-11-30                        | Added the **sni_container_refs**  |
|                                   | parameter for enhanced load       |
|                                   | balancer APIs.                    |
+-----------------------------------+-----------------------------------+
| 2018-10-12                        | Added 2.10 API Version.           |
+-----------------------------------+-----------------------------------+
| 2018-09-13                        | Added descriptions of parameters  |
|                                   | **loadbalancer_id** and           |
|                                   | **listener_id** in 3.2 Load       |
|                                   | Balancer and 3.3 Listener.        |
+-----------------------------------+-----------------------------------+
| 2018-08-30                        | Changed the full name of the      |
|                                   | service to Elastic Load           |
|                                   | Balancing.                        |
+-----------------------------------+-----------------------------------+
| 2018-07-20                        | This release incorporates the     |
|                                   | following changes:                |
|                                   |                                   |
|                                   | Modified the constraints for      |
|                                   | adding a listener using the IP    |
|                                   | protocol (or in DR mode).         |
+-----------------------------------+-----------------------------------+
| 2018-05-30                        | This issue is the first official  |
|                                   | release.                          |
+-----------------------------------+-----------------------------------+

.. |image1| image:: media/image1.jpeg
