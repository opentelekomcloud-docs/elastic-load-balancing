:original_name: UpdateLoadBalancer.html

.. _UpdateLoadBalancer:

Updating a Load Balancer
========================

Function
--------

This API is used to update a load balancer.

URI
---

PUT /v3/{project_id}/elb/loadbalancers/{loadbalancer_id}

.. table:: **Table 1** Path Parameters

   +-----------------+-----------------+-----------------+---------------------------------+
   | Parameter       | Mandatory       | Type            | Description                     |
   +=================+=================+=================+=================================+
   | loadbalancer_id | Yes             | String          | Specifies the load balancer ID. |
   |                 |                 |                 |                                 |
   |                 |                 |                 | Minimum: **0**                  |
   |                 |                 |                 |                                 |
   |                 |                 |                 | Maximum: **36**                 |
   +-----------------+-----------------+-----------------+---------------------------------+
   | project_id      | Yes             | String          | Specifies the project ID.       |
   |                 |                 |                 |                                 |
   |                 |                 |                 | Minimum: **0**                  |
   |                 |                 |                 |                                 |
   |                 |                 |                 | Maximum: **36**                 |
   +-----------------+-----------------+-----------------+---------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request header parameters

   +-----------------+-----------------+-----------------+--------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                      |
   +=================+=================+=================+==================================================+
   | X-Auth-Token    | Yes             | String          | Specifies the token used for IAM authentication. |
   |                 |                 |                 |                                                  |
   |                 |                 |                 | Minimum: **0**                                   |
   |                 |                 |                 |                                                  |
   |                 |                 |                 | Maximum: **4096**                                |
   +-----------------+-----------------+-----------------+--------------------------------------------------+

.. table:: **Table 3** Request body parameters

   +--------------+-----------+-----------------------------------------------------------------------------------------------+------------------------------+
   | Parameter    | Mandatory | Type                                                                                          | Description                  |
   +==============+===========+===============================================================================================+==============================+
   | loadbalancer | Yes       | :ref:`UpdateLoadBalancerOption <updateloadbalancer__request_updateloadbalanceroption>` object | Specifies the load balancer. |
   +--------------+-----------+-----------------------------------------------------------------------------------------------+------------------------------+

.. _updateloadbalancer__request_updateloadbalanceroption:

.. table:: **Table 4** UpdateLoadBalancerOption

   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                  | Mandatory       | Type                                                                  | Description                                                                                                                                                                                                                                                                             |
   +============================+=================+=======================================================================+=========================================================================================================================================================================================================================================================================================+
   | name                       | No              | String                                                                | Specifies the load balancer name.                                                                                                                                                                                                                                                       |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Minimum: **0**                                                                                                                                                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | admin_state_up             | No              | Boolean                                                               | Specifies the administrative status of the load balancer. The value can only be **true**.                                                                                                                                                                                               |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | This parameter is unsupported. Please do not use it.                                                                                                                                                                                                                                    |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description                | No              | String                                                                | Provides supplementary information about the load balancer.                                                                                                                                                                                                                             |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Minimum: **0**                                                                                                                                                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_vip_virsubnet_id      | No              | String                                                                | Specifies the ID of the IPv6 subnet where the load balancer resides. You can query parameter **id** in the response by calling the API (GET https://{VPC_Endpoint}/v1/{project_id}/subnets).                                                                                            |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | The IPv6 subnet can be updated using **ipv6_vip_virsubnet_id**, and the private IPv6 address of the load balancer will be changed accordingly.                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Note:                                                                                                                                                                                                                                                                                   |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  This parameter will be passed only when IPv6 is enabled for the subnet. The subnet specified by **ipv6_vip_virsubnet_id** must be in the VPC specified by **vpc_id**.                                                                                                                |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  This parameter can be updated only when **guaranteed** is set to **true**.                                                                                                                                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The value will become **null** if the IPv6 address is unbound from the load balancer.                                                                                                                                                                                                |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The IPv4 subnet will not change, if IPv6 subet is updated. This parameter is unsupported. Please do not use it.                                                                                                                                                                      |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vip_subnet_cidr_id         | No              | String                                                                | Specifies the ID of the IPv4 subnet where the load balancer resides. You can query parameter **neutron_subnet_id** in the response by calling the API (GET https://{VPC_Endpoint}/v1/{project_id}/subnets).                                                                             |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The IPv4 subnet can be updated using **vip_subnet_cidr_id**, and the private IPv4 address of the load balancer will be changed accordingly. Note:                                                                                                                                    |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  If **vip_address** is also specified, the IP address specified by **vip_address** must be in the subnet specified by **vip_subnet_cidr_id** and will be used as the private IPv4 address of the load balancer.                                                                       |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The IPv4 subnet must be in the VPC where the load balancer resides.                                                                                                                                                                                                                  |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  This parameter can be updated only when **guaranteed** is set to **true**.                                                                                                                                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The value will become **null** if the private IPv4 address is unbound from the load balancer.                                                                                                                                                                                        |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The IPv6 subnet will not change, if IPv4 subet is updated.                                                                                                                                                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Maximum: **36**                                                                                                                                                                                                                                                                         |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vip_address                | No              | String                                                                | Specifies the private IPv4 address bound to the load balancer. The IP address must be from the IPv4 subnet where the load balancer resides and should not be occupied by other services.                                                                                                |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | **vip_address** can be updated only when **guaranteed** is set to **true**.                                                                                                                                                                                                             |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Maximum: **36**                                                                                                                                                                                                                                                                         |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | l4_flavor_id               | No              | String                                                                | Specifies the ID of a flavor at Layer 4.                                                                                                                                                                                                                                                |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Note:                                                                                                                                                                                                                                                                                   |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  This parameter can be updated only when **guaranteed** is set to **true**.                                                                                                                                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The value cannot be changed from **null** to a specific value, or in the other way around.                                                                                                                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  If you change the flavor, you can select only a higher or lower one. If you select a lower one, part of persistent connections will be interrupted.                                                                                                                                  |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | l7_flavor_id               | No              | String                                                                | Specifies the ID of a flavor at Layer 7.                                                                                                                                                                                                                                                |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Note:                                                                                                                                                                                                                                                                                   |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  This parameter can be updated only when **guaranteed** is set to **true**.                                                                                                                                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  The value cannot be changed from **null** to a specific value, or in the other way around.                                                                                                                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  If you change the flavor, you can select only a higher or lower one. If you select a lower one, part of persistent connections will be interrupted.                                                                                                                                  |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Maximum: **36**                                                                                                                                                                                                                                                                         |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_bandwidth             | No              | :ref:`BandwidthRef <updateloadbalancer__request_bandwidthref>` object | Specifies the ID of the bandwidth used by an IPv6 address. This parameter is available only when you create or update a load balancer with a public IPv6 address. If you use a new IPv6 address and specify a shared bandwidth, the IPv6 address will be added to the shared bandwidth. |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | IPv6 is unsupported. Please do not use this parameter.                                                                                                                                                                                                                                  |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ip_target_enable           | No              | Boolean                                                               | Specifies whether to enable **IP as a Backend Server**.                                                                                                                                                                                                                                 |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | If you enable this function, you can add servers in a peer VPC connected through a VPC peering connection, or in an on-premises data center at the other end of a Direct Connect or VPN connection, by using their IP addresses.                                                        |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | This function is supported only by dedicated load balancers.                                                                                                                                                                                                                            |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | The value can be **true** (enable **IP as a Backend Server**) or **false** (disable **IP as a Backend Server**).                                                                                                                                                                        |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | The value can only be update to **true**.                                                                                                                                                                                                                                               |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | elb_virsubnet_ids          | No              | Array of strings                                                      | Specifies the IDs of subnets on the downstream plane. You can query parameter **neutron_network_id** in the response by calling the API (GET https://{VPC_Endpoint}/v1/{project_id}/subnets).                                                                                           |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  If the IDs of the subnets required by the load balancer are specified in **elb_virsubnet_ids**, the subnets will still be bound to the load balancer.                                                                                                                                |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  If the IDs of the subnets required by the load balancer are not specified in **elb_virsubnet_ids**, the subnets will be unbound from the load balancers. Do not unbound the subnets that have been used by the load balancer. Otherwise, an error will be returned.                  |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  If the IDs of the subnets are specified in **elb_virsubnet_ids**, but not on the downstream plane, a new load balancer will be bound to the downstream plane.                                                                                                                        |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Note:                                                                                                                                                                                                                                                                                   |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  All subnets belong to the same VPC where the load balancer resides.                                                                                                                                                                                                                  |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  Edge subnets are not supported.                                                                                                                                                                                                                                                      |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | Maximum: **64**                                                                                                                                                                                                                                                                         |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | deletion_protection_enable | No              | Boolean                                                               | Specifies whether to enable deletion protection for the load balancer.                                                                                                                                                                                                                  |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  **true**: Enable deletion protection.                                                                                                                                                                                                                                                |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | -  **false**: Disable deletion protection.                                                                                                                                                                                                                                              |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       | .. note::                                                                                                                                                                                                                                                                               |
   |                            |                 |                                                                       |                                                                                                                                                                                                                                                                                         |
   |                            |                 |                                                                       |    Disable deletion protection for all your resources before deleting your account.                                                                                                                                                                                                     |
   +----------------------------+-----------------+-----------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _updateloadbalancer__request_bandwidthref:

.. table:: **Table 5** BandwidthRef

   ========= ========= ====== ==================================
   Parameter Mandatory Type   Description
   ========= ========= ====== ==================================
   id        Yes       String Specifies the shared bandwidth ID.
   ========= ========= ====== ==================================

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 6** Response body parameters

   +-----------------------+------------------------------------------------------------------------+-----------------------------------------------------------------+
   | Parameter             | Type                                                                   | Description                                                     |
   +=======================+========================================================================+=================================================================+
   | loadbalancer          | :ref:`LoadBalancer <updateloadbalancer__response_loadbalancer>` object | Specifies the load balancer.                                    |
   +-----------------------+------------------------------------------------------------------------+-----------------------------------------------------------------+
   | request_id            | String                                                                 | Specifies the request ID. The value is automatically generated. |
   |                       |                                                                        |                                                                 |
   |                       |                                                                        | Minimum: **0**                                                  |
   |                       |                                                                        |                                                                 |
   |                       |                                                                        | Maximum: **36**                                                 |
   +-----------------------+------------------------------------------------------------------------+-----------------------------------------------------------------+

.. _updateloadbalancer__response_loadbalancer:

.. table:: **Table 7** LoadBalancer

   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                  | Type                                                                             | Description                                                                                                                                                                                                                                                                             |
   +============================+==================================================================================+=========================================================================================================================================================================================================================================================================================+
   | id                         | String                                                                           | Specifies the load balancer ID.                                                                                                                                                                                                                                                         |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description                | String                                                                           | Provides supplementary information about the load balancer.                                                                                                                                                                                                                             |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | provisioning_status        | String                                                                           | Specifies the provisioning status of the load balancer. The value can be one of the following:                                                                                                                                                                                          |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **ACTIVE**: The load balancer is successfully provisioned.                                                                                                                                                                                                                           |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **PENDING_DELETE**: The load balancer is being deleted.                                                                                                                                                                                                                              |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | admin_state_up             | Boolean                                                                          | Specifies the administrative status of the load balancer. The value can only be **true**.                                                                                                                                                                                               |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | provider                   | String                                                                           | Specifies the provider of the load balancer. The value can only be **vlb**.                                                                                                                                                                                                             |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | pools                      | Array of :ref:`PoolRef <updateloadbalancer__response_poolref>` objects           | Lists the IDs of backend server groups associated with the load balancer.                                                                                                                                                                                                               |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | listeners                  | Array of :ref:`ListenerRef <updateloadbalancer__response_listenerref>` objects   | Lists the IDs of listeners added to the load balancer.                                                                                                                                                                                                                                  |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | operating_status           | String                                                                           | Specifies the operating status of the load balancer. The value can only be **ONLINE**, indicating that the load balancer is running normally.                                                                                                                                           |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                       | String                                                                           | Specifies the load balancer name.                                                                                                                                                                                                                                                       |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id                 | String                                                                           | Specifies the project ID of the load balancer.                                                                                                                                                                                                                                          |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vip_subnet_cidr_id         | String                                                                           | Specifies the ID of the IPv4 subnet where the load balancer resides.                                                                                                                                                                                                                    |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vip_address                | String                                                                           | Specifies the private IPv4 address bound to the load balancer.                                                                                                                                                                                                                          |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vip_port_id                | String                                                                           | Specifies the ID of the port bound to the private IPv4 address of the load balancer.                                                                                                                                                                                                    |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | The default security group associated with the port will take effect only after at least one backend server is associated with load balancer.                                                                                                                                           |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                       | Array of :ref:`Tag <updateloadbalancer__response_tag>` objects                   | Lists the tags added to the load balancer.                                                                                                                                                                                                                                              |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at                 | String                                                                           | Specifies the time when the load balancer was created, in the format of *yyyy-MM-dd''T''HH:mm:ss''Z''*.                                                                                                                                                                                 |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at                 | String                                                                           | Specifies the time when the load balancer was updated, in the format of *yyyy-MM-dd''T''HH:mm:ss''Z''*.                                                                                                                                                                                 |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | guaranteed                 | Boolean                                                                          | Specifies whether the load balancer is a dedicated load balancer.                                                                                                                                                                                                                       |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **true** (default): The load balancer is a dedicated load balancer.                                                                                                                                                                                                                  |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **false**: The load balancer is a shared load balancer.                                                                                                                                                                                                                              |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpc_id                     | String                                                                           | Specifies the ID of the VPC where the load balancer resides.                                                                                                                                                                                                                            |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | eips                       | Array of :ref:`EipInfo <updateloadbalancer__response_eipinfo>` objects           | Specifies the EIP bound to the load balancer. Only one EIP can be bound to a load balancer.                                                                                                                                                                                             |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter has the same meaning as **publicips**.                                                                                                                                                                                                                                   |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_vip_address           | String                                                                           | Specifies the IPv6 address bound to the load balancer.                                                                                                                                                                                                                                  |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | IPv6 is unsupported. Please do not use this parameter.                                                                                                                                                                                                                                  |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_vip_virsubnet_id      | String                                                                           | Specifies the ID of the IPv6 subnet where the load balancer resides.                                                                                                                                                                                                                    |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | IPv6 is unsupported. Please do not use this parameter.                                                                                                                                                                                                                                  |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_vip_port_id           | String                                                                           | Specifies the ID of the port bound to the IPv6 address of the load balancer.                                                                                                                                                                                                            |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | IPv6 is unsupported. Please do not use this parameter.                                                                                                                                                                                                                                  |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | availability_zone_list     | Array of strings                                                                 | Specifies the list of AZs where the load balancer is created.                                                                                                                                                                                                                           |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_id      | String                                                                           | Specifies the enterprise project ID.                                                                                                                                                                                                                                                    |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | If this parameter is not passed during resource creation, **"0"** will be returned, and the resource belongs to the default enterprise project.                                                                                                                                         |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | **"0"** is not a valid enterprise project ID and cannot be used in the APIs for creating, updating the load balancer, or querying details of the load balancer.                                                                                                                         |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter is unsupported. Please do not use it.                                                                                                                                                                                                                                    |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | billing_info               | String                                                                           | Provides resource billing information.                                                                                                                                                                                                                                                  |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter is unsupported. Please do not use it.                                                                                                                                                                                                                                    |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Maximum: **1024**                                                                                                                                                                                                                                                                       |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | l4_flavor_id               | String                                                                           | Specifies the ID of a flavor at Layer 4.                                                                                                                                                                                                                                                |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | l4_scale_flavor_id         | String                                                                           | Specifies the ID of the reserved flavor at Layer 4.                                                                                                                                                                                                                                     |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter is unsupported. Please do not use it.                                                                                                                                                                                                                                    |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | l7_flavor_id               | String                                                                           | Specifies the ID of a flavor at Layer 7.                                                                                                                                                                                                                                                |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | l7_scale_flavor_id         | String                                                                           | Specifies the ID of the reserved flavor at Layer 7.                                                                                                                                                                                                                                     |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter is unsupported. Please do not use it.                                                                                                                                                                                                                                    |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Minimum: **1**                                                                                                                                                                                                                                                                          |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | Maximum: **255**                                                                                                                                                                                                                                                                        |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | publicips                  | Array of :ref:`PublicIpInfo <updateloadbalancer__response_publicipinfo>` objects | Specifies the EIP bound to the load balancer. Only one EIP can be bound to a load balancer.                                                                                                                                                                                             |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter has the same meaning as **eips**.                                                                                                                                                                                                                                        |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | elb_virsubnet_ids          | Array of strings                                                                 | Lists the IDs of subnets on the downstream plane.                                                                                                                                                                                                                                       |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | elb_virsubnet_type         | String                                                                           | Specifies the type of the subnet on the downstream plane.                                                                                                                                                                                                                               |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **ipv4**: IPv4 subnet                                                                                                                                                                                                                                                                |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **dualstack**: subnet that supports IPv4/IPv6 dual stack                                                                                                                                                                                                                             |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | "dualstack" is not supported.                                                                                                                                                                                                                                                           |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ip_target_enable           | Boolean                                                                          | Specifies whether to enable **IP as a Backend Server**.                                                                                                                                                                                                                                 |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | If you enable this function, you can add servers in a peer VPC connected through a VPC peering connection, or in an on-premises data center at the other end of a Direct Connect or VPN connection, by using their IP addresses.                                                        |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This function is supported only by dedicated load balancers.                                                                                                                                                                                                                            |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | The value can be **true** (enable **IP as a Backend Server**) or **false** (disable **IP as a Backend Server**).                                                                                                                                                                        |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | The value can only be update to **true**.                                                                                                                                                                                                                                               |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | frozen_scene               | String                                                                           | Specifies the scenario where the load balancer is frozen. Multiple values are separated using commas (,).                                                                                                                                                                               |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter is unsupported. Please do not use it.                                                                                                                                                                                                                                    |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_bandwidth             | :ref:`BandwidthRef <updateloadbalancer__response_bandwidthref>` object           | Specifies the ID of the bandwidth used by an IPv6 address. This parameter is available only when you create or update a load balancer with a public IPv6 address. If you use a new IPv6 address and specify a shared bandwidth, the IPv6 address will be added to the shared bandwidth. |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | IPv6 is unsupported. Please do not use this parameter.                                                                                                                                                                                                                                  |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | deletion_protection_enable | Boolean                                                                          | Specifies whether deletion protection is enabled.                                                                                                                                                                                                                                       |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **false**: Deletion protection is not enabled.                                                                                                                                                                                                                                       |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | -  **true**: Deletion protection is enabled.                                                                                                                                                                                                                                            |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | .. note::                                                                                                                                                                                                                                                                               |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  |    Disable deletion protection for all your resources before deleting your account.                                                                                                                                                                                                     |
   |                            |                                                                                  |                                                                                                                                                                                                                                                                                         |
   |                            |                                                                                  | This parameter is returned only when deletion protection is enabled at the site.                                                                                                                                                                                                        |
   +----------------------------+----------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _updateloadbalancer__response_poolref:

.. table:: **Table 8** PoolRef

   ========= ====== =============================================
   Parameter Type   Description
   ========= ====== =============================================
   id        String Specifies the ID of the backend server group.
   ========= ====== =============================================

.. _updateloadbalancer__response_listenerref:

.. table:: **Table 9** ListenerRef

   ========= ====== ==========================
   Parameter Type   Description
   ========= ====== ==========================
   id        String Specifies the listener ID.
   ========= ====== ==========================

.. _updateloadbalancer__response_tag:

.. table:: **Table 10** Tag

   +-----------------------+-----------------------+--------------------------+
   | Parameter             | Type                  | Description              |
   +=======================+=======================+==========================+
   | key                   | String                | Specifies the tag key.   |
   |                       |                       |                          |
   |                       |                       | Minimum: **1**           |
   |                       |                       |                          |
   |                       |                       | Maximum: **36**          |
   +-----------------------+-----------------------+--------------------------+
   | value                 | String                | Specifies the tag value. |
   |                       |                       |                          |
   |                       |                       | Minimum: **0**           |
   |                       |                       |                          |
   |                       |                       | Maximum: **43**          |
   +-----------------------+-----------------------+--------------------------+

.. _updateloadbalancer__response_eipinfo:

.. table:: **Table 11** EipInfo

   +-----------------------+-----------------------+---------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                               |
   +=======================+=======================+===========================================================================+
   | eip_id                | String                | eip_id                                                                    |
   +-----------------------+-----------------------+---------------------------------------------------------------------------+
   | eip_address           | String                | eip_address                                                               |
   +-----------------------+-----------------------+---------------------------------------------------------------------------+
   | ip_version            | Integer               | Specifies the IP version. **4** indicates IPv4, and **6** indicates IPv6. |
   |                       |                       |                                                                           |
   |                       |                       | IPv6 is unsupported. The value cannot be **6**.                           |
   +-----------------------+-----------------------+---------------------------------------------------------------------------+

.. _updateloadbalancer__response_publicipinfo:

.. table:: **Table 12** PublicIpInfo

   +-----------------------+-----------------------+--------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                              |
   +=======================+=======================+==========================================================================+
   | publicip_id           | String                | Specifies the EIP ID.                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------+
   | publicip_address      | String                | Specifies the IP address.                                                |
   +-----------------------+-----------------------+--------------------------------------------------------------------------+
   | ip_version            | Integer               | Specifies the IP version. The value can be **4** (IPv4) or **6** (IPv6). |
   |                       |                       |                                                                          |
   |                       |                       | IPv6 is unsupported. The value cannot be **6**.                          |
   +-----------------------+-----------------------+--------------------------------------------------------------------------+

.. table:: **Table 13** GlobalEipInfo

   +--------------------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter          | Type    | Description                                                                                                                                                                                    |
   +====================+=========+================================================================================================================================================================================================+
   | global_eip_id      | String  | Specifies the ID of the global EIP.                                                                                                                                                            |
   +--------------------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | global_eip_address | String  | Specifies the global EIP.                                                                                                                                                                      |
   +--------------------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ip_version         | Integer | Specifies the IP version. The value can be **4** and **6**. **4** indicates an IPv4 address, and **6** indicates an IPv6 address. [IPv6 is not supported. Do not set this parameter to **6**.] |
   +--------------------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _updateloadbalancer__response_bandwidthref:

.. table:: **Table 14** BandwidthRef

   ========= ====== ==================================
   Parameter Type   Description
   ========= ====== ==================================
   id        String Specifies the shared bandwidth ID.
   ========= ====== ==================================

Example Requests
----------------

Updating a load balancer

.. code-block:: text

   PUT https://{ELB_Endpoint}/v3/{project_id}/elb/loadbalancers/{loadbalancer_id}

   {
     "loadbalancer" : {
       "description" : "loadbalancer",
       "name" : "loadbalancer-update"
     }
   }

Example Responses
-----------------

**Status code: 200**

Successful request.

.. code-block::

   {
     "request_id" : "010dad1e-32a3-4405-ab83-62a1fc5f8722",
     "loadbalancer" : {
       "id" : "2e073bf8-edfe-4e51-a699-d915b0b8af89",
       "project_id" : "b2782e6708b8475c993e6064bc456bf8",
       "name" : "loadbalancer-update",
       "description" : "loadbalancer",
       "vip_port_id" : null,
       "vip_address" : null,
       "admin_state_up" : true,
       "provisioning_status" : "ACTIVE",
       "operating_status" : "ONLINE",
       "listeners" : [ {
         "id" : "41937176-bf64-4b58-8e0d-9ff2d0d32c54"
       }, {
         "id" : "abc6ac93-ad0e-4765-bd5a-eec632efde56"
       }, {
         "id" : "b9d8ba97-6d60-467d-838d-f3550b54c22a"
       }, {
         "id" : "fd797ebd-263d-4b18-96e9-e9188d36c69e"
       } ],
       "pools" : [ {
         "id" : "0aabcaa8-c35c-4ddc-a60c-9032d0ac0b80"
       }, {
         "id" : "165d9092-396e-4a8d-b398-067496a447d2"
       } ],
       "tags" : [ ],
       "provider" : "vlb",
       "created_at" : "2019-04-20T03:10:37Z",
       "updated_at" : "2019-05-24T02:11:58Z",
       "vpc_id" : "2037c5bb-e04b-4de2-9300-9051af18e417",
       "enterprise_project_id" : "0",
       "availability_zone_list" : [ "AZ1", "AZ2", "dc3" ],
       "ipv6_vip_address" : null,
       "ipv6_vip_virsubnet_id" : null,
       "ipv6_vip_port_id" : null,
       "eips" : [ ],
       "guaranteed" : true,
       "billing_info" : null,
       "l4_flavor_id" : null,
       "l4_scale_flavor_id" : null,
       "l7_flavor_id" : null,
       "l7_scale_flavor_id" : null,
       "vip_subnet_cidr_id" : null,
       "deletion_protection_enable" : false,
       "public_border_group" : "center"
     }
   }

Status Codes
------------

=========== ===================
Status Code Description
=========== ===================
200         Successful request.
=========== ===================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
