:original_name: elb_zq_jt_0003.html

.. _elb_zq_jt_0003:

Querying Details of a Listener
==============================

Function
--------

This API is used to query details about a listener using its ID.

URI
---

GET /v2.0/lbaas/listeners/{listener_id}

.. table:: **Table 1** Parameter description

   =========== ========= ====== ==========================
   Parameter   Mandatory Type   Description
   =========== ========= ====== ==========================
   listener_id Yes       String Specifies the listener ID.
   =========== ========= ====== ==========================

Request
-------

None

Response
--------

.. table:: **Table 2** Response parameters

   +-----------+--------+-------------------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                                                       |
   +===========+========+===================================================================================================================+
   | listener  | Object | Lists the listeners. For details, see :ref:`Table 3 <elb_zq_jt_0003__en-us_topic_0096561540_table7513153305114>`. |
   +-----------+--------+-------------------------------------------------------------------------------------------------------------------+

.. _elb_zq_jt_0003__en-us_topic_0096561540_table7513153305114:

.. table:: **Table 3** **listeners** parameter description

   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                   | Type                  | Description                                                                                                                                                                                                                                                                      |
   +=============================+=======================+==================================================================================================================================================================================================================================================================================+
   | id                          | String                | Specifies the listener ID.                                                                                                                                                                                                                                                       |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tenant_id                   | String                | Specifies the ID of the project where the listener is used.                                                                                                                                                                                                                      |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                        | String                | Specifies the listener name.                                                                                                                                                                                                                                                     |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description                 | String                | Provides supplementary information about the listener.                                                                                                                                                                                                                           |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | protocol                    | String                | Specifies the protocol used by the listener.                                                                                                                                                                                                                                     |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | The value can be **TCP**, **HTTP**, **UDP**, or **TERMINATED_HTTPS**.                                                                                                                                                                                                            |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | protocol_port               | Integer               | Specifies the port used by the listener.                                                                                                                                                                                                                                         |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | The port number ranges from 1 to 65535.                                                                                                                                                                                                                                          |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | loadbalancers               | Array                 | Specifies the ID of the associated load balancer. For details, see :ref:`Table 6 <elb_zq_jt_0001__en-us_topic_0096561542_table17641175071912>`.                                                                                                                                  |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | connection_limit            | Integer               | Specifies the maximum number of connections.                                                                                                                                                                                                                                     |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | The value ranges from **-1** to **2147483647**. The default value is **-1**, indicating that there is no restriction on the maximum number of connections.                                                                                                                       |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | This parameter is reserved.                                                                                                                                                                                                                                                      |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | admin_state_up              | Boolean               | Specifies the administrative status of the listener.                                                                                                                                                                                                                             |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | This parameter is reserved. The value can be **true** or **false**.                                                                                                                                                                                                              |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | -  **true**: The load balancer is enabled.                                                                                                                                                                                                                                       |
   |                             |                       | -  **false**: The load balancer is disabled.                                                                                                                                                                                                                                     |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | http2_enable                | Boolean               | Specifies whether to use HTTP/2.                                                                                                                                                                                                                                                 |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | The value can be **true** or **false**.                                                                                                                                                                                                                                          |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | -  **true**: HTTP/2 is used.                                                                                                                                                                                                                                                     |
   |                             |                       | -  **false**: HTTP/2 is not used.                                                                                                                                                                                                                                                |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | This parameter is valid only when the protocol used by the listener is set to **TERMINATED_HTTPS**.                                                                                                                                                                              |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | default_pool_id             | String                | Specifies the ID of the associated backend server group.                                                                                                                                                                                                                         |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | If a request does not match the forwarding policy, the request is forwarded to the default backend server group for processing. If the value is **null**, the listener has no default backend server group.                                                                      |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | default_tls_container_ref   | String                | Specifies the ID of the server certificate used by the listener. For details, see :ref:`Certificate <elb_zq_zs_0000>`.                                                                                                                                                           |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | This parameter is mandatory when **protocol** is set to **TERMINATED_HTTPS**.                                                                                                                                                                                                    |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | client_ca_tls_container_ref | String                | Specifies the ID of the CA certificate used by the listener. For details, see :ref:`Certificate <elb_zq_zs_0000>`.                                                                                                                                                               |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sni_container_refs          | Array                 | Lists the IDs of SNI certificates (server certificates with domain names) used by the listener.                                                                                                                                                                                  |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | If the parameter value is an empty list, the SNI feature is disabled.                                                                                                                                                                                                            |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                        | Array                 | Tags the listener.                                                                                                                                                                                                                                                               |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at                  | String                | Specifies the time when the listener was created. The UTC time is in *YYYY-MM-DDTHH:MM:SS* format.                                                                                                                                                                               |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at                  | String                | Specifies the time when the listener was updated. The UTC time is in *YYYY-MM-DDTHH:MM:SS* format.                                                                                                                                                                               |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tls_ciphers_policy          | String                | Specifies the security policy used by the listener. This parameter is valid only when the protocol used by the listener is set to **TERMINATED_HTTPS**.                                                                                                                          |
   |                             |                       |                                                                                                                                                                                                                                                                                  |
   |                             |                       | The value can be **tls-1-0-inherit**, **tls-1-0**, **tls-1-1**, **tls-1-2**, or **tls-1-2-strict**, and the default value is **tls-1-0**. For details of cipher suites for each security policy, see :ref:`Table 3 <elb_zq_jt_0001__en-us_topic_0096561542_table1247813103533>`. |
   +-----------------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 4** **loadbalancers** parameter description

   ========= ====== =================================================
   Parameter Type   Description
   ========= ====== =================================================
   id        String Specifies the ID of the associated load balancer.
   ========= ====== =================================================

Example Request
---------------

-  Example request: Querying details of a listener

   .. code-block:: text

      GET https://{Endpoint}/v2.0/lbaas/listeners/09e64049-2ab0-4763-a8c5-f4207875dc3e

Example Response
----------------

-  Example response

   .. code-block::

      {
          "listener": {
              "protocol_port": 8000,
              "protocol": "TCP",
              "description": "",
              "client_ca_tls_container_ref": null,
              "default_tls_container_ref": null,
              "admin_state_up": true,
              "http2_enable": false,
              "loadbalancers": [
                  {
                      "id": "3d77894d-2ffe-4411-ac0a-0d57689779b8"
                  }
              ],
              "tenant_id": "1867112d054b427e808cc6096d8193a1",
              "sni_container_refs": [],
              "connection_limit": -1,
              "default_pool_id": "b7e53dbd-62ab-4505-a280-5c066078a5c9",
              "id": "09e64049-2ab0-4763-a8c5-f4207875dc3e",
              "tags": [],
              "name": "listener-2",
              "tls_ciphers_policy": null,
              "created_at": "2018-07-25T01:54:13",
              "updated_at": "2018-07-25T01:54:14"
          }
      }

Status Code
-----------

For details, see :ref:`HTTP Status Codes of Shared Load Balancers <elb_gc_0002>`.
