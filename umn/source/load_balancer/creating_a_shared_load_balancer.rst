:original_name: en-us_topic_0015479967.html

.. _en-us_topic_0015479967:

Creating a Shared Load Balancer
===============================

Scenarios
---------

You have prepared everything required for creating a load balancer. For details, see :ref:`Preparations for Creating a Load Balancer <elb_ug_fz_0004>`.

Load balancers receive requests from clients and route the requests to backend servers, which answer to these requests over the private network.

Constraints
-----------

-  After a load balancer is created, the VPC cannot be changed. If you want to change the VPC, create another load balancer and select the VPC during creation.
-  To ping the IP address of a load balancer, you need to add a listener and associate a backend server to it.

Procedure
---------

#. Log in to the management console.

#. In the upper left corner of the page, click |image1| and select the desired region and project.

#. Hover on |image2| in the upper left corner to display **Service List** and choose **Network** > **Elastic Load Balancing**.

#. On the **Load Balancers** page, click **Create Elastic Load Balancer**. Configure the parameters based on :ref:`Table 1 <en-us_topic_0015479967__table46271441194615>`.

   .. _en-us_topic_0015479967__table46271441194615:

   .. table:: **Table 1** Parameters for configuring the basic information

      +-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+
      | Parameter | Description                                                                                                                                                                                                  | Example Value |
      +===========+==============================================================================================================================================================================================================+===============+
      | Type      | Specifies the type of the load balancer.                                                                                                                                                                     | Shared        |
      +-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+
      | Region    | Specifies the desired region. Resources in different regions cannot communicate with each other over internal networks. For lower network latency and faster access to resources, select the nearest region. | ``-``         |
      +-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+

#. Configure the network parameters based on :ref:`Table 2 <en-us_topic_0015479967__table083614812419>`.

   .. _en-us_topic_0015479967__table083614812419:

   .. table:: **Table 2** Parameters for network configurations

      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                                                                             | Example Value                   |
      +===================================+=========================================================================================================================================================================================================================================================================================================================================================+=================================+
      | Network Type                      | Specifies the network type of a load balancer. You can select either of the following:                                                                                                                                                                                                                                                                  | Public IPv4 network             |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | -  **Public network**: The load balancer routes requests from the clients to backend servers over the Internet.                                                                                                                                                                                                                                         |                                 |
      |                                   | -  **Private network**: The load balancer routes requests from the clients to backend servers in the same VPC.                                                                                                                                                                                                                                          |                                 |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | VPC                               | Specifies the VPC where the load balancer works.                                                                                                                                                                                                                                                                                                        | ``-``                           |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | Select an existing VPC or create one.                                                                                                                                                                                                                                                                                                                   |                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | For more information about VPC, see the *Virtual Private Cloud User Guide*.                                                                                                                                                                                                                                                                             |                                 |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | Subnet                            | Specifies the subnet where the load balancer will work.                                                                                                                                                                                                                                                                                                 | ``-``                           |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | IPv4 Address                      | Specifies how you want the IPv4 address to be assigned.                                                                                                                                                                                                                                                                                                 | Automatically assign IP address |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | -  **Automatically assign IP address**: The system automatically assigns an IPv4 address to the load balancer.                                                                                                                                                                                                                                          |                                 |
      |                                   | -  **Manually specify IP address**: Manually specify an IPv4 address to the load balancer.                                                                                                                                                                                                                                                              |                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | .. note::                                                                                                                                                                                                                                                                                                                                               |                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   |    Network ACL rules configured for the backend subnet of the load balancer will not restrict the traffic from the clients to the load balancer. If network ACL rules are configured, the clients can directly access the load balancer. To control access to the load balancer, configure access control for all listeners added to the load balancer. |                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   |    For details, see :ref:`Access Control <en-us_elb_03_0003>`.                                                                                                                                                                                                                                                                                          |                                 |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | Public IPv4 network configuration |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | EIP                               | Specifies the public IP address that will be bound to the load balancer for receiving and forwarding requests over the Internet.                                                                                                                                                                                                                        | New EIP                         |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | You can use an existing EIP or apply for a new one.                                                                                                                                                                                                                                                                                                     |                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | -  **New EIP**: The system will automatically assign an EIP.                                                                                                                                                                                                                                                                                            |                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | -  **Use existing**: Select an existing EIP.                                                                                                                                                                                                                                                                                                            |                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   |    The optimal **5_bgp** EIP is recommended.                                                                                                                                                                                                                                                                                                            |                                 |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | EIP Type                          | Specifies the link type (BGP) when a new EIP is used.                                                                                                                                                                                                                                                                                                   | Dynamic BGP                     |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | -  **Static BGP**: When changes occur on a network using static BGP, carriers cannot adjust network configurations in real time to ensure optimal user experience.                                                                                                                                                                                      |                                 |
      |                                   | -  **Dynamic BGP**: When changes occur on a network using dynamic BGP, routing protocols provide automatic, real-time optimization of network configurations, ensuring network stability and optimal user experience.                                                                                                                                   |                                 |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | Billed By                         | Specifies the bandwidth type of the EIP.                                                                                                                                                                                                                                                                                                                | Dedicated                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                                         |                                 |
      |                                   | **Dedicated**: You specify the maximum bandwidth. The bandwidth is suitable for fluctuating traffic.                                                                                                                                                                                                                                                    |                                 |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+
      | Bandwidth                         | Specifies the maximum bandwidth when a new EIP is used, in Mbit/s. The value ranges from 1 Mbit/s to 1000 Mbit/s.                                                                                                                                                                                                                                       | 10 Mbit/s                       |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------+

#. Configure other parameters about the load balancer as described in :ref:`Table 3 <en-us_topic_0015479967__table11954648105516>`.

   .. _en-us_topic_0015479967__table11954648105516:

   .. table:: **Table 3** Other parameters

      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Parameter             | Description                                                                                                                                                                                                                                                                                       | Example Value         |
      +=======================+===================================================================================================================================================================================================================================================================================================+=======================+
      | Name                  | Specifies the load balancer name.                                                                                                                                                                                                                                                                 | elb-test              |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Enterprise Project    | Selects an enterprise project by which cloud resources and members are centrally managed.                                                                                                                                                                                                         | default               |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Advanced settings     |                                                                                                                                                                                                                                                                                                   |                       |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Description           | Provides supplementary information about the load balancer.                                                                                                                                                                                                                                       | ``-``                 |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Tag                   | Identifies load balancers so that they can be easily found. A tag consists of a tag key and a tag value. The tag key marks a tag, and the tag value specifies specific tag content. For details about the naming specifications, see :ref:`Table 4 <en-us_topic_0015479967__table1495510489556>`. | -  Key: elb_key1      |
      |                       |                                                                                                                                                                                                                                                                                                   | -  Value: elb-01      |
      |                       | A maximum of 10 tags can be added.                                                                                                                                                                                                                                                                |                       |
      +-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

   .. _en-us_topic_0015479967__table1495510489556:

   .. table:: **Table 4** Tag naming rules

      +-----------------------+------------------------------------------------------------------------------------+-----------------------+
      | Parameter             | Requirement                                                                        | Example Value         |
      +=======================+====================================================================================+=======================+
      | Tag key               | -  Cannot be empty.                                                                | elb_key1              |
      |                       | -  Must be unique for the same load balancer.                                      |                       |
      |                       | -  Can contain a maximum of 36 characters.                                         |                       |
      |                       | -  Can contain only the following character types:                                 |                       |
      |                       |                                                                                    |                       |
      |                       |    -  Uppercase letters                                                            |                       |
      |                       |    -  Lowercase letters                                                            |                       |
      |                       |    -  Digits                                                                       |                       |
      |                       |    -  Special characters, including hyphens (-), underscores (_), and at signs (@) |                       |
      +-----------------------+------------------------------------------------------------------------------------+-----------------------+
      | Tag value             | -  Can contain a maximum of 43 characters.                                         | elb-01                |
      |                       | -  Can contain only the following character types:                                 |                       |
      |                       |                                                                                    |                       |
      |                       |    -  Uppercase letters                                                            |                       |
      |                       |    -  Lowercase letters                                                            |                       |
      |                       |    -  Digits                                                                       |                       |
      |                       |    -  Special characters, including hyphens (-), underscores (_), and at signs (@) |                       |
      +-----------------------+------------------------------------------------------------------------------------+-----------------------+

#. Click **Create Now**.

#. Confirm the configuration and submit your request.

.. |image1| image:: /_static/images/en-us_image_0000001747739624.png
.. |image2| image:: /_static/images/en-us_image_0000001747739676.png
