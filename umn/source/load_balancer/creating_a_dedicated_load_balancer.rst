:original_name: elb_lb_000006.html

.. _elb_lb_000006:

Creating a Dedicated Load Balancer
==================================

Scenarios
---------

You have prepared everything required for creating a load balancer. For details, see :ref:`Preparations for Creating a Load Balancer <elb_ug_fz_0004>`.

.. note::

   -  In the eu-de region, you can create both dedicated and shared load balancers, and you can create either type of load balancers on the management console or by calling APIs.
   -  In the eu-nl region, you can only create dedicated load balancers, either on the console or by calling APIs.

Constraints and Limitations
---------------------------

-  After a load balancer is created, the VPC cannot be changed. If you want to change the VPC, create another load balancer and select the VPC during creation.
-  To ping the IP address of a load balancer, you need to add a listener to it.

Procedure
---------

#. Log in to the management console.

#. In the upper left corner of the page, click |image1| and select the desired region and project.

#. Hover on |image2| in the upper left corner to display **Service List** and choose **Network** > **Elastic Load Balancing**.

#. On the **Load Balancers** page, click **Create Elastic Load Balancer**. Configure the parameters based on :ref:`Table 1 <elb_lb_000006__table46271441194615>`.

   .. _elb_lb_000006__table46271441194615:

   .. table:: **Table 1** Parameter description

      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Parameter                          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                            | Example Value                     |
      +====================================+========================================================================================================================================================================================================================================================================================================================================================================================================================================================+===================================+
      | Type                               | Specifies the type of the load balancer.                                                                                                                                                                                                                                                                                                                                                                                                               | Dedicated                         |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Region                             | Specifies the region. Resources in different regions cannot communicate with each other over internal networks. For lower network latency and faster access to resources, select the nearest region.                                                                                                                                                                                                                                                   | en-nl                             |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | AZ                                 | Specifies the AZ of the load balancer. You can deploy a load balancer in multiple AZs for high availability. When an AZ becomes faulty or unavailable, requests are routed to backend servers in other AZs. This ensures service continuity and improves application reliability.                                                                                                                                                                      | ``-``                             |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | If you deploy a dedicated load balancer in multiple AZs, its performance such as the number of new connections and the number of concurrent connections will multiply. For example, if you deploy a dedicated load balancer in two AZs, it can handle up to 40 million concurrent connections.                                                                                                                                                         |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    -  If requests are from the Internet, the load balancer in each AZ you select routes the requests based on source IP addresses. If you deploy a load balancer in two AZs, the requests the load balancers can handle will be doubled.                                                                                                                                                                                                               |                                   |
      |                                    |    -  For requests from a private network:                                                                                                                                                                                                                                                                                                                                                                                                             |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |       -  If clients are in an AZ you have selected when you create the load balancer, requests are distributed by the load balancer in this AZ. If the load balancer is unhealthy, requests are distributed by the load balancer in another AZ you have selected.                                                                                                                                                                                      |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |          If the load balancer is healthy but the connections that the load balancer need to handle exceed the amount defined in the specifications, service may be interrupted. To address this issue, you need upgrade specifications.                                                                                                                                                                                                                |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |       -  If clients are in an AZ that is not selected when you create the load balancer, requests are distributed by the load balancer in each AZ you select based on source IP addresses.                                                                                                                                                                                                                                                             |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    If you change the AZs of an existing load balancer, the load balancer may fail to route requests for several seconds. It is recommended that you plan the AZs in advance, or change the AZs during off-peak hours when necessary.                                                                                                                                                                                                                   |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | IP as a Backend                    | Specifies whether to associate backend servers that are not in the VPC of the load balancer. After this function is enabled, you can associate the backend servers with the load balancer by using their IP addresses.                                                                                                                                                                                                                                 | N/A                               |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    -  To use this function, configure correct VPC routes to ensure that backend servers are reachable.                                                                                                                                                                                                                                                                                                                                                 |                                   |
      |                                    |    -  If you enable the IP as a backend function, more IP addresses in the subnet will be occupied. Ensure that the selected subnet has sufficient IP addresses. After you select a subnet, you can view the number of IP addresses required by the load balancer in the infotip.                                                                                                                                                                      |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Network Type                       | Specifies the type of the network where the load balancer works. You can select one or more network types.                                                                                                                                                                                                                                                                                                                                             | Public IPv4 network               |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | -  **Public IPv4 network**: The load balancer routes requests from the clients to backend servers over the Internet.                                                                                                                                                                                                                                                                                                                                   |                                   |
      |                                    | -  **Private IPv4 network**: The load balancer routes requests from the clients to backend servers in a VPC.                                                                                                                                                                                                                                                                                                                                           |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    If you do not select any of the options, the load balancer cannot communicate with the clients after it is created. When you are using ELB or testing network connectivity, ensure that the load balancer has a public or private IP address bound.                                                                                                                                                                                                 |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | VPC                                | Specifies the VPC where the load balancer works. You need to configure this parameter regardless of the selected network type.                                                                                                                                                                                                                                                                                                                         | vpc-4536                          |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | Select an existing VPC or create one.                                                                                                                                                                                                                                                                                                                                                                                                                  |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | For more information about VPC, see the *Virtual Private Cloud User Guide*.                                                                                                                                                                                                                                                                                                                                                                            |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Subnet                             | Specifies the subnet where the load balancer will work.                                                                                                                                                                                                                                                                                                                                                                                                | subnet-4536                       |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | You need to configure this parameter regardless of the selected network type.                                                                                                                                                                                                                                                                                                                                                                          |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Public IPv4 network configuration  |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | EIP                                | This parameter is mandatory when **Network Type** is set to **IPv4 public network**. You can use an existing EIP or apply for a new one. If you select **Use existing**, select an existing IP address.                                                                                                                                                                                                                                                | N/A                               |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | -  **New EIP**: The system will assign a new EIP to the load balancer.                                                                                                                                                                                                                                                                                                                                                                                 |                                   |
      |                                    | -  **Use existing**: Select an existing IP address.                                                                                                                                                                                                                                                                                                                                                                                                    |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |       -  By default, load balancers created in the **eu-nl** region are dedicated load balancers. You can unbind an EIP from a dedicated load balancer only on the ELB console if you no longer need the EIP.                                                                                                                                                                                                                                          |                                   |
      |                                    |       -  If you bind a new EIP to the load balancer and specify a shared bandwidth, this EIP will be added to the shared bandwidth.                                                                                                                                                                                                                                                                                                                    |                                   |
      |                                    |       -  If you set **EIP** to **New EIP** when you create a dedicated load balancer in the **eu-de** region, the system will automatically assign and bind an EIP to the load balancer. This type of EIPs can also be bound to a shared load balancer. If you set **EIP** to **Use existing**, you can select one from the EIPs that were assigned when you created dedicated load balancers and have been unbound from the dedicated load balancers. |                                   |
      |                                    |       -  To unbind an EIP from a load balancer, locate the load balancer and choose **More** > **Unbind EIP** in the **Operation** column.                                                                                                                                                                                                                                                                                                             |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | EIP Type                           | Specifies the link type (BGP) when a new EIP is used.                                                                                                                                                                                                                                                                                                                                                                                                  | Dynamic BGP                       |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Billed By                          | Specifies the bandwidth type of the EIP.                                                                                                                                                                                                                                                                                                                                                                                                               | Shared bandwidth                  |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | -  **Traffic**: You specify the maximum bandwidth and pay for the total traffic you use.                                                                                                                                                                                                                                                                                                                                                               |                                   |
      |                                    | -  **Shared bandwidth**: The EIP that will be bound to the load balancer shares bandwidth with other load balancers.                                                                                                                                                                                                                                                                                                                                   |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Private IPv4 network configuration |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | IPv4 Address                       | Specifies how you want the IPv4 address to be assigned.                                                                                                                                                                                                                                                                                                                                                                                                | Automatically-assigned IP address |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | -  **Automatically-assigned IP address**: The system automatically assigns an IPv4 address to the load balancer.                                                                                                                                                                                                                                                                                                                                       |                                   |
      |                                    | -  **Manually-specified IP address**: Manually specify an IPv4 address to the load balancer.                                                                                                                                                                                                                                                                                                                                                           |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    The backend subnet firewall rules of the load balancer will not restrict the traffic from the clients to the load balancer. If firewall rules are configured, the clients can directly access the load balancer. To control access to the load balancer, configure access control for all listeners added to the load balancer                                                                                                                      |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    For details, see :ref:`Access Control <en-us_elb_03_0003>`.                                                                                                                                                                                                                                                                                                                                                                                         |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Specification                      | -  Select either **Application load balancing (HTTP/HTTPS)** or **Network load balancing (TCP/UDP)** or both, and then select the desired specification. You can select only one specification for **Application load balancing (HTTP/HTTPS)** and **Network load balancing (TCP/UDP)**, respectively.                                                                                                                                                 | Medium II                         |
      |                                    | -  For application load balancing, the number of IP addresses varies depending on the specification. You can view the number of IP addresses required by the load balancer in the infotip after the selected subnet.                                                                                                                                                                                                                                   |                                   |
      |                                    | -  The performance of load balancers varies depending on the selected specifications. You can evaluate the actual traffic and select appropriate specifications based on the key metrics.                                                                                                                                                                                                                                                              |                                   |
      |                                    | -  Dedicated load balancers have the following six specifications:                                                                                                                                                                                                                                                                                                                                                                                     |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    -  Small I                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                   |
      |                                    |    -  Small II                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                   |
      |                                    |    -  Medium I                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                   |
      |                                    |    -  Medium II                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    -  Large I                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                   |
      |                                    |    -  Large II                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Name                               | Specifies the load balancer name.                                                                                                                                                                                                                                                                                                                                                                                                                      | elb93wd                           |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | **Advanced Settings**              |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Backend Subnet                     | The load balancer uses the IP addresses in the backend subnet to forward requests to the backend servers.                                                                                                                                                                                                                                                                                                                                              | Subnet of the load balancer       |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | -  Select **Subnet of the load balancer** by default                                                                                                                                                                                                                                                                                                                                                                                                   |                                   |
      |                                    | -  Select an existing subnet in the VPC where the load balancer works.                                                                                                                                                                                                                                                                                                                                                                                 |                                   |
      |                                    | -  Add a new subnet                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                   |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                   |
      |                                    |    The number of IP addresses required depend on the specifications, number of AZs, and IP as a backend function you have configured when you create the load balancer on the console.                                                                                                                                                                                                                                                                 |                                   |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Description                        | Provides supplementary information about the load balancer.                                                                                                                                                                                                                                                                                                                                                                                            | N/A                               |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+
      | Tag                                | Identifies load balancers so that they can be easily found. A tag consists of a tag key and a tag value. The tag key marks a tag, and the tag value specifies specific tag content. For details about the naming specifications, see :ref:`Table 2 <elb_lb_000006__table980015773914>`.                                                                                                                                                                | -  Key: elb_key1                  |
      |                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                        | -  Value: elb-01                  |
      +------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------+

   .. _elb_lb_000006__table980015773914:

   .. table:: **Table 2** Tag naming rules

      +-----------------------+------------------------------------------------------------------------------------+-----------------------+
      | Item                  | Requirement                                                                        | Example Value         |
      +=======================+====================================================================================+=======================+
      | Tag key               | -  Cannot be left blank.                                                           | elb_key1              |
      |                       | -  Must be unique for the same load balancer.                                      |                       |
      |                       | -  Can contain a maximum of 36 characters.                                         |                       |
      |                       | -  Can contain only the following character types:                                 |                       |
      |                       |                                                                                    |                       |
      |                       |    -  Uppercase letters                                                            |                       |
      |                       |    -  Lowercase letters                                                            |                       |
      |                       |    -  Digits                                                                       |                       |
      |                       |    -  Special characters, including hyphens (-), underscores (_), and at signs (@) |                       |
      +-----------------------+------------------------------------------------------------------------------------+-----------------------+
      | Tag value             | -  Can contain a maximum of 43 characters.                                         | elb-01                |
      |                       | -  Can contain only the following character types:                                 |                       |
      |                       |                                                                                    |                       |
      |                       |    -  Uppercase letters                                                            |                       |
      |                       |    -  Lowercase letters                                                            |                       |
      |                       |    -  Digits                                                                       |                       |
      |                       |    -  Special characters, including hyphens (-), underscores (_), and at signs (@) |                       |
      +-----------------------+------------------------------------------------------------------------------------+-----------------------+

#. Click **Create Now**.

#. Confirm the configuration and submit your request.

.. |image1| image:: /_static/images/en-us_image_0000001211126503.png
.. |image2| image:: /_static/images/en-us_image_0000001417088430.png
